"use strict";(self.webpackChunkappyter_js=self.webpackChunkappyter_js||[]).push([[106],{106:(e,t,n)=>{n.r(t),n.d(t,{default:()=>F});var r=n(7418),l=(n(5866),n(112)),a=n(590);function o(e){(0,r.kZQ)(e,"svelte-7t3aq4",".progress.svelte-7t3aq4{height:25px;width:100%;background-color:grey}.progress-bar.svelte-7t3aq4{height:100%;background-color:blue}.progress-bar.bg-success.svelte-7t3aq4{height:100%;background-color:green}")}function s(e,t,n){const r=e.slice();return r[12]=t[n],r}function i(e,t,n){const r=e.slice();return r[12]=t[n],r}function c(e,t,n){const r=e.slice();return r[17]=t[n],r}function u(e){let t,n,l,a;return{c(){t=(0,r.ND4)("sup"),n=(0,r.ND4)("i"),a=(0,r.xem)(),(0,r.CFu)(n,"class","far fa-question-circle"),(0,r.CFu)(t,"data-toggle","tooltip"),(0,r.CFu)(t,"title",l=e[0].description)},m(e,l){(0,r.Yry)(e,t,l),(0,r.BCw)(t,n),(0,r.Yry)(e,a,l)},p(e,n){1&n&&l!==(l=e[0].description)&&(0,r.CFu)(t,"title",l)},d(e){e&&((0,r.YoD)(t),(0,r.YoD)(a))}}}function d(e){let t,n,l,a=e[1][e[17]].error&&p(e),o=e[1][e[17]].url&&m(e);return{c(){t=(0,r.ND4)("div"),n=(0,r.Qq7)("Error loading file"),a&&a.c(),l=(0,r.xem)(),o&&o.c(),(0,r.CFu)(t,"class","alert alert-danger")},m(e,s){(0,r.Yry)(e,t,s),(0,r.BCw)(t,n),a&&a.m(t,null),(0,r.BCw)(t,l),o&&o.m(t,null)},p(e,n){e[1][e[17]].error?a?a.p(e,n):(a=p(e),a.c(),a.m(t,l)):a&&(a.d(1),a=null),e[1][e[17]].url?o?o.p(e,n):(o=m(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(e){e&&(0,r.YoD)(t),a&&a.d(),o&&o.d()}}}function p(e){let t,n,l=e[1][e[17]].error+"";return{c(){t=(0,r.Qq7)(": "),n=(0,r.Qq7)(l)},m(e,l){(0,r.Yry)(e,t,l),(0,r.Yry)(e,n,l)},p(e,t){2&t&&l!==(l=e[1][e[17]].error+"")&&(0,r.iQh)(n,l)},d(e){e&&((0,r.YoD)(t),(0,r.YoD)(n))}}}function m(e){let t,n,l,a,o=e[1][e[17]].url+"";return{c(){t=(0,r.Qq7)("from "),n=(0,r.ND4)("a"),l=(0,r.Qq7)(o),(0,r.CFu)(n,"href",a=e[1][e[17]].url),(0,r.CFu)(n,"target","_blank")},m(e,a){(0,r.Yry)(e,t,a),(0,r.Yry)(e,n,a),(0,r.BCw)(n,l)},p(e,t){2&t&&o!==(o=e[1][e[17]].url+"")&&(0,r.iQh)(l,o),2&t&&a!==(a=e[1][e[17]].url)&&(0,r.CFu)(n,"href",a)},d(e){e&&((0,r.YoD)(t),(0,r.YoD)(n))}}}function f(e){let t,n,l,a,o,s,i,c,u,d,p=e[1][e[17]].url+"",m=e[1][e[17]].error&&g(e);return{c(){t=(0,r.ND4)("div"),n=(0,r.Qq7)("Error loading file"),m&&m.c(),l=(0,r.ND4)("br"),a=(0,r.xem)(),o=(0,r.ND4)("b"),o.textContent="It may require user engagement",s=(0,r.Qq7)(", please visit\n              "),i=(0,r.ND4)("a"),c=(0,r.Qq7)(p),d=(0,r.Qq7)("\n            to download the example file for upload."),(0,r.CFu)(i,"href",u=e[1][e[17]].url),(0,r.CFu)(i,"target","_blank"),(0,r.CFu)(t,"class","alert alert-warning")},m(e,u){(0,r.Yry)(e,t,u),(0,r.BCw)(t,n),m&&m.m(t,null),(0,r.BCw)(t,l),(0,r.BCw)(t,a),(0,r.BCw)(t,o),(0,r.BCw)(t,s),(0,r.BCw)(t,i),(0,r.BCw)(i,c),(0,r.BCw)(t,d)},p(e,n){e[1][e[17]].error?m?m.p(e,n):(m=g(e),m.c(),m.m(t,l)):m&&(m.d(1),m=null),2&n&&p!==(p=e[1][e[17]].url+"")&&(0,r.iQh)(c,p),2&n&&u!==(u=e[1][e[17]].url)&&(0,r.CFu)(i,"href",u)},d(e){e&&(0,r.YoD)(t),m&&m.d()}}}function g(e){let t,n,l=e[1][e[17]].error+"";return{c(){t=(0,r.Qq7)(": "),n=(0,r.Qq7)(l)},m(e,l){(0,r.Yry)(e,t,l),(0,r.Yry)(e,n,l)},p(e,t){2&t&&l!==(l=e[1][e[17]].error+"")&&(0,r.iQh)(n,l)},d(e){e&&((0,r.YoD)(t),(0,r.YoD)(n))}}}function w(e){let t,n,l,a,o,s,i,c,u,p,m,g,w=e[1][e[17]].filename+"";function h(){return e[7](e[17])}let C="error"===e[1][e[17]].bg&&d(e),b="warning"===e[1][e[17]].bg&&f(e);return{c(){t=(0,r.ND4)("div"),n=(0,r.ND4)("div"),l=(0,r.ND4)("div"),a=(0,r.Qq7)(w),i=(0,r.xem)(),c=(0,r.ND4)("button"),c.textContent="Ã—",u=(0,r.xem)(),C&&C.c(),p=(0,r.xem)(),b&&b.c(),(0,r.CFu)(l,"class",o="progress-bar bg-"+e[1][e[17]].bg+" svelte-7t3aq4"),(0,r.CFu)(l,"role","progressbar"),(0,r.CFu)(l,"aria-valuemin","0"),(0,r.CFu)(l,"aria-valuemax","100"),(0,r.CFu)(l,"aria-valuenow",s=e[1][e[17]].progress),(0,r.hgi)(l,"width",e[1][e[17]].progress+"%"),(0,r.goL)(l,"progress-bar-striped",e[1][e[17]].striped),(0,r.goL)(l,"progress-bar-animated",e[1][e[17]].animated),(0,r.CFu)(c,"type","button"),(0,r.CFu)(c,"class","btn btn-sm bg-danger text-white"),(0,r.CFu)(n,"class","progress bg-light svelte-7t3aq4")},m(e,o){(0,r.Yry)(e,t,o),(0,r.BCw)(t,n),(0,r.BCw)(n,l),(0,r.BCw)(l,a),(0,r.BCw)(n,i),(0,r.BCw)(n,c),(0,r.BCw)(t,u),C&&C.m(t,null),(0,r.BCw)(t,p),b&&b.m(t,null),m||(g=(0,r.KTR)(c,"click",h),m=!0)},p(n,i){e=n,2&i&&w!==(w=e[1][e[17]].filename+"")&&(0,r.iQh)(a,w),2&i&&o!==(o="progress-bar bg-"+e[1][e[17]].bg+" svelte-7t3aq4")&&(0,r.CFu)(l,"class",o),2&i&&s!==(s=e[1][e[17]].progress)&&(0,r.CFu)(l,"aria-valuenow",s),2&i&&(0,r.hgi)(l,"width",e[1][e[17]].progress+"%"),2&i&&(0,r.goL)(l,"progress-bar-striped",e[1][e[17]].striped),2&i&&(0,r.goL)(l,"progress-bar-animated",e[1][e[17]].animated),"error"===e[1][e[17]].bg?C?C.p(e,i):(C=d(e),C.c(),C.m(t,p)):C&&(C.d(1),C=null),"warning"===e[1][e[17]].bg?b?b.p(e,i):(b=f(e),b.c(),b.m(t,null)):b&&(b.d(1),b=null)},d(e){e&&(0,r.YoD)(t),C&&C.d(),b&&b.d(),m=!1,g()}}}function h(e){let t,n,l,a,o,c,u,d,p,m,f,g,w,h,k,B,v,F,D=Object.keys(e[0].examples).length>1,Q=Object.keys(e[0].examples).length>1,q=D&&C(),N=(0,r.rv_)(Object.keys(e[0].examples)),Y=[];for(let t=0;t<N.length;t+=1)Y[t]=b(i(e,N,t));let j=Q&&y(),$=(0,r.rv_)(Object.keys(e[0].examples)),_=[];for(let t=0;t<$.length;t+=1)_[t]=x(s(e,$,t));return{c(){t=(0,r.ND4)("div"),n=(0,r.ND4)("div"),l=(0,r.ND4)("span"),a=(0,r.Qq7)("Load example"),q&&q.c(),o=(0,r.xem)(),c=(0,r.ND4)("sup"),c.innerHTML='<i class="far fa-question-circle"></i>',u=(0,r.Qq7)(":"),d=(0,r.xem)(),p=(0,r.ND4)("div");for(let e=0;e<Y.length;e+=1)Y[e].c();m=(0,r.xem)(),f=(0,r.ND4)("div"),g=(0,r.ND4)("span"),w=(0,r.Qq7)("Download example"),j&&j.c(),h=(0,r.xem)(),k=(0,r.ND4)("sup"),k.innerHTML='<i class="far fa-question-circle"></i>',B=(0,r.Qq7)(":"),v=(0,r.xem)(),F=(0,r.ND4)("div");for(let e=0;e<_.length;e+=1)_[e].c();(0,r.CFu)(c,"data-toggle","tooltip"),(0,r.CFu)(c,"title","Load the example file directly into the appyter"),(0,r.CFu)(l,"class","d-table-cell mr-1 my-1 p-1 text-right"),(0,r.hgi)(l,"white-space","nowrap"),(0,r.CFu)(p,"class","d-table-cell table-grow d-flex flex-wrap justify-content-start align-items-center"),(0,r.CFu)(n,"class","d-table-row"),(0,r.CFu)(k,"data-toggle","tooltip"),(0,r.CFu)(k,"title","Download the example file for inspection"),(0,r.CFu)(g,"class","d-table-cell mr-1 my-1 p-1 text-right"),(0,r.hgi)(g,"white-space","nowrap"),(0,r.CFu)(F,"class","d-table-cell table-grow d-flex flex-wrap justify-content-start align-items-center"),(0,r.CFu)(f,"class","d-table-row"),(0,r.CFu)(t,"class","d-table")},m(e,s){(0,r.Yry)(e,t,s),(0,r.BCw)(t,n),(0,r.BCw)(n,l),(0,r.BCw)(l,a),q&&q.m(l,null),(0,r.BCw)(l,o),(0,r.BCw)(l,c),(0,r.BCw)(l,u),(0,r.BCw)(n,d),(0,r.BCw)(n,p);for(let e=0;e<Y.length;e+=1)Y[e]&&Y[e].m(p,null);(0,r.BCw)(t,m),(0,r.BCw)(t,f),(0,r.BCw)(f,g),(0,r.BCw)(g,w),j&&j.m(g,null),(0,r.BCw)(g,h),(0,r.BCw)(g,k),(0,r.BCw)(g,B),(0,r.BCw)(f,v),(0,r.BCw)(f,F);for(let e=0;e<_.length;e+=1)_[e]&&_[e].m(F,null)},p(e,t){if(1&t&&(D=Object.keys(e[0].examples).length>1),D?q||(q=C(),q.c(),q.m(l,o)):q&&(q.d(1),q=null),33&t){let n;for(N=(0,r.rv_)(Object.keys(e[0].examples)),n=0;n<N.length;n+=1){const r=i(e,N,n);Y[n]?Y[n].p(r,t):(Y[n]=b(r),Y[n].c(),Y[n].m(p,null))}for(;n<Y.length;n+=1)Y[n].d(1);Y.length=N.length}if(1&t&&(Q=Object.keys(e[0].examples).length>1),Q?j||(j=y(),j.c(),j.m(g,h)):j&&(j.d(1),j=null),1&t){let n;for($=(0,r.rv_)(Object.keys(e[0].examples)),n=0;n<$.length;n+=1){const r=s(e,$,n);_[n]?_[n].p(r,t):(_[n]=x(r),_[n].c(),_[n].m(F,null))}for(;n<_.length;n+=1)_[n].d(1);_.length=$.length}},d(e){e&&(0,r.YoD)(t),q&&q.d(),(0,r.ppq)(Y,e),j&&j.d(),(0,r.ppq)(_,e)}}}function C(e){let t;return{c(){t=(0,r.Qq7)("s")},m(e,n){(0,r.Yry)(e,t,n)},d(e){e&&(0,r.YoD)(t)}}}function b(e){let t,n,l,a,o,s,i=e[12]+"";function c(){return e[8](e[12])}return{c(){t=(0,r.ND4)("span"),n=(0,r.ND4)("button"),l=(0,r.Qq7)(i),a=(0,r.xem)(),(0,r.CFu)(n,"type","button"),(0,r.CFu)(n,"class","text-btn"),(0,r.CFu)(t,"class","text-sm m-1 p-1"),(0,r.hgi)(t,"white-space","nowrap")},m(e,i){(0,r.Yry)(e,t,i),(0,r.BCw)(t,n),(0,r.BCw)(n,l),(0,r.BCw)(t,a),o||(s=(0,r.KTR)(n,"click",c),o=!0)},p(t,n){e=t,1&n&&i!==(i=e[12]+"")&&(0,r.iQh)(l,i)},d(e){e&&(0,r.YoD)(t),o=!1,s()}}}function y(e){let t;return{c(){t=(0,r.Qq7)("s")},m(e,n){(0,r.Yry)(e,t,n)},d(e){e&&(0,r.YoD)(t)}}}function x(e){let t,n,l,a,o,s=e[12]+"";return{c(){t=(0,r.ND4)("span"),n=(0,r.ND4)("a"),l=(0,r.Qq7)(s),o=(0,r.xem)(),(0,r.CFu)(n,"href",a=e[0].examples[e[12]]),(0,r.CFu)(n,"target","_blank"),(0,r.CFu)(t,"class","text-sm m-1 p-1"),(0,r.hgi)(t,"white-space","nowrap")},m(e,a){(0,r.Yry)(e,t,a),(0,r.BCw)(t,n),(0,r.BCw)(n,l),(0,r.BCw)(t,o)},p(e,t){1&t&&s!==(s=e[12]+"")&&(0,r.iQh)(l,s),1&t&&a!==(a=e[0].examples[e[12]])&&(0,r.CFu)(n,"href",a)},d(e){e&&(0,r.YoD)(t)}}}function k(e){let t,n,l,a,o,s,i,d,p,m,f,g,C,b,y,x,k,B,v,F,D=e[0].label+"",Q=(e[3]||"Choose file"+(e[0].multiple?"s":""))+"",q=e[0].examples&&Object.keys(e[0].examples).length>0,N=e[0].description&&u(e),Y=(0,r.rv_)(Object.keys(e[1])),j=[];for(let t=0;t<Y.length;t+=1)j[t]=w(c(e,Y,t));let $=q&&h(e);return{c(){t=(0,r.ND4)("div"),n=(0,r.ND4)("div"),l=(0,r.Qq7)(D),a=(0,r.xem)(),N&&N.c(),o=(0,r.Qq7)(":"),s=(0,r.xem)(),i=(0,r.ND4)("div"),d=(0,r.ND4)("div"),p=(0,r.ND4)("input"),g=(0,r.xem)(),C=(0,r.ND4)("textarea"),y=(0,r.xem)(),x=(0,r.ND4)("label"),k=(0,r.Qq7)(Q),v=(0,r.xem)();for(let e=0;e<j.length;e+=1)j[e].c();F=(0,r.xem)(),$&&$.c(),(0,r.CFu)(n,"class","col-lg-3 bold text-lg-right my-auto"),(0,r.CFu)(p,"type","file"),(0,r.CFu)(p,"class","custom-file-input"),(0,r.CFu)(p,"id",m=e[0].name),p.multiple=f=e[0].multiple,(0,r.CFu)(C,"class","hidden"),(0,r.CFu)(C,"name",b=e[0].name),C.value=e[4],(0,r.CFu)(x,"class","custom-file-label"),(0,r.CFu)(x,"for",B=e[0].name),(0,r.CFu)(d,"class","custom-file"),(0,r.CFu)(d,"dropzone","copy"),(0,r.CFu)(i,"class","col-lg-6 pt-2 pt-lg-0"),(0,r.CFu)(t,"class","row px-4 px-lg-3 pb-4")},m(c,u){(0,r.Yry)(c,t,u),(0,r.BCw)(t,n),(0,r.BCw)(n,l),(0,r.BCw)(n,a),N&&N.m(n,null),(0,r.BCw)(n,o),(0,r.BCw)(t,s),(0,r.BCw)(t,i),(0,r.BCw)(i,d),(0,r.BCw)(d,p),e[6](p),(0,r.BCw)(d,g),(0,r.BCw)(d,C),(0,r.BCw)(d,y),(0,r.BCw)(d,x),(0,r.BCw)(x,k),(0,r.BCw)(i,v);for(let e=0;e<j.length;e+=1)j[e]&&j[e].m(i,null);(0,r.BCw)(i,F),$&&$.m(i,null)},p(e,[t]){if(1&t&&D!==(D=e[0].label+"")&&(0,r.iQh)(l,D),e[0].description?N?N.p(e,t):(N=u(e),N.c(),N.m(n,o)):N&&(N.d(1),N=null),1&t&&m!==(m=e[0].name)&&(0,r.CFu)(p,"id",m),1&t&&f!==(f=e[0].multiple)&&(p.multiple=f),1&t&&b!==(b=e[0].name)&&(0,r.CFu)(C,"name",b),16&t&&(C.value=e[4]),9&t&&Q!==(Q=(e[3]||"Choose file"+(e[0].multiple?"s":""))+"")&&(0,r.iQh)(k,Q),1&t&&B!==(B=e[0].name)&&(0,r.CFu)(x,"for",B),2&t){let n;for(Y=(0,r.rv_)(Object.keys(e[1])),n=0;n<Y.length;n+=1){const r=c(e,Y,n);j[n]?j[n].p(r,t):(j[n]=w(r),j[n].c(),j[n].m(i,F))}for(;n<j.length;n+=1)j[n].d(1);j.length=Y.length}1&t&&(q=e[0].examples&&Object.keys(e[0].examples).length>0),q?$?$.p(e,t):($=h(e),$.c(),$.m(i,null)):$&&($.d(1),$=null)},i:r.lQ1,o:r.lQ1,d(n){n&&(0,r.YoD)(t),N&&N.d(),e[6](null),(0,r.ppq)(j,n),$&&$.d()}}}function B(e,t,o){let s;(0,r.j0C)(e,l.A,e=>o(10,s=e));let i,c,u,d,{args:p}=t,m={};async function f(e,t){o(1,m={...p.multiple?m:{},[t]:{filename:t,striped:!0,animated:!0,bg:"primary",progress:0}}),-1===e.indexOf("://")&&(e=new URL(e,document.baseURI).href);try{if(200!==(await fetch(`check/${e}`)).status)throw new Error;if(!(t in m))return;o(1,m={...m,[t]:{...m[t],full_filename:`${e}#${t}`,bg:"success",animated:!1,striped:!1,progress:100}})}catch(n){if(!(t in m))return;o(1,m={...m,[t]:{...m[t],progress:100,url:e,bg:"warning",striped:!1,animated:!1}})}}return(0,a.Rc)(async()=>{const{default:e}=await n.e(310).then(n.t.bind(n,4310,23)),{default:t}=await Promise.all([n.e(16),n.e(130)]).then(n.bind(n,6130)),r=new e(t);d={socket:t,siofu:r},await async function(e){e.listenOnInput(i),e.addEventListener("start",function(e){e.file.meta.auth=s.keycloak.token,o(1,m={...p.multiple?m:{},[e.file.name]:{filename:e.file.name,striped:!0,bg:"primary",progress:0}})}),e.addEventListener("progress",function(e){e.file.name in m&&o(1,m={...m,[e.file.name]:{...m[e.file.name],progress:e.bytesLoaded/e.file.size*100|0,animated:!0}})}),e.addEventListener("complete",function(e){e.file.name in m&&o(1,m={...m,[e.file.name]:{filename:e.file.name,full_filename:e.detail.full_filename,progress:100,bg:"success",striped:!1,animated:!1}})}),e.addEventListener("error",function(e){console.error(e),e.file.name in m&&o(1,m={...m,[e.file.name]:{progress:100,bg:"danger",error:e.error,striped:!1,animated:!1}})})}(r)}),e.$$set=e=>{"args"in e&&o(0,p=e.args)},e.$$.update=()=>{2&e.$$.dirty&&o(3,c=Object.keys(m).reduce((e,t)=>void 0!==m[t].filename?[...e,m[t].filename]:e,[]).join(", ")),2&e.$$.dirty&&o(4,u=Object.keys(m).reduce((e,t)=>void 0!==m[t].full_filename?[...e,m[t].full_filename]:e,[]).join("\n"))},[p,m,i,c,u,f,function(e){r.Dnk[e?"unshift":"push"](()=>{i=e,o(2,i)})},e=>{const{[e]:t,...n}=m;t.progress,o(1,m=n)},e=>f(p.examples[e],e)]}class v extends r.r7T{constructor(e){super(),(0,r.TsN)(this,e,B,k,r.jXN,{args:0},o)}}const F=v},112:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(1144),l=n(7476),a=n(2909);const o=function(){const e=window._config.EXTRAS.includes("catalog-integration")&&void 0!==window._config.keycloak,{subscribe:t,set:o}=(0,r.T5)({state:e?"init":"error",keycloak:{}});return e&&n.e(486).then(n.bind(n,1486)).then((0,a.A)(async({default:e})=>{const t=new e(window._config.keycloak.params),n=t.logout;Object.assign(t,{getValidToken:async()=>{try{await t.updateToken(30)}catch(e){console.error(e),o({state:"guest",keycloak:t})}return t.token},logout:()=>{n(),o({state:"guest",keycloak:t})}});const r=await t.init({...window._config.keycloak.init,redirectUri:window.location.href+(window.location.href.includes("#")?"":"#")+(window.location.href.includes("?")?"":"?")});o({state:r?"auth":"guest",keycloak:t}),l.A.update(e=>{const t={...e.params};return"code"in t&&delete t.code,"session_state"in t&&delete t.session_state,"state"in t&&delete t.state,{...e,params:t}})},5e3)).catch(e=>{console.error(e),o({state:"error",keycloak:{}})}),{subscribe:t}}();o.subscribe(e=>{"auth"===e.state&&null===document.cookie.match(/^(.*;)?\s*authorization\s*=\s*[^;]+(.*)?$/)&&(document.cookie=`authorization=${e.keycloak.token}; expires=${new Date(1e3*e.keycloak.tokenParsed.exp).toUTCString()}; secure`)});const s=o},1144:(e,t,n)=>{n.d(t,{T5:()=>a});var r=n(7418);const l=[];function a(e,t=r.lQ1){let n;const a=new Set;function o(t){if((0,r.jXN)(e,t)&&(e=t,n)){const t=!l.length;for(const t of a)t[1](),l.push(t,e);if(t){for(let e=0;e<l.length;e+=2)l[e][0](l[e+1]);l.length=0}}}function s(t){o(t(e))}return{set:o,update:s,subscribe:function(l,i=r.lQ1){const c=[l,i];return a.add(c),1===a.size&&(n=t(o,s)||r.lQ1),l(e),()=>{a.delete(c),0===a.size&&n&&(n(),n=null)}}}}},2909:(e,t,n)=>{function r(e,t){return(...n)=>new Promise((r,l)=>{let a={done:!1};setTimeout(()=>{a.done||(a.done=!0,l("Timeout"))},t),e(...n).then(e=>{a.done||(a.done=!0,r(e))}).catch(e=>{a.done||(a.done=!0,l(e))})})}n.d(t,{A:()=>r})},7476:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(1144);function l(e){const t=e.indexOf("?");if(-1===t)return{path:e,params:{}};{const[n,r]=[e.slice(0,t),e.slice(t+1)],l=function(e){return""===e?{}:e.split("&").map(e=>e.split("=").map(decodeURIComponent)).reduce((e,[t,n])=>({...e,[t]:void 0===n||n}),{})}(r);return{path:n,params:l}}}function a(){return(window.location.hash||"#").slice(1)}const o=function(){const{path:e,params:t,server:n}={...l(a()),server:l(`${window.location.pathname}${window.location.search}`)},{subscribe:o,update:s,set:i}=(0,r.T5)({path:e,params:t,server:n});let c=e;return o(({path:e,params:t,server:n})=>{const r=function({path:e,params:t}){const n=function(e){return Object.keys(e).filter(t=>void 0!==e[t]&&""!==e[t]).map(t=>!0===e[t]?encodeURIComponent(t):[t,e[t]].map(encodeURIComponent).join("=")).join("&")}(t);return""===n?e:`${e}?${n}`}({path:e,params:t});if(e!==c)window.location.hash=r,c=e;else{const e=`${window.location.origin}${window.location.pathname}${window.location.search}`;history.replaceState(void 0,void 0,""!==r?`${e}#${r}`:e)}}),window.addEventListener("hashchange",()=>i({...l(a()),initServer:n})),{subscribe:o,update:s,set:i}}()}}]);