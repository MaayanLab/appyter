"use strict";(self.webpackChunkappyter_js=self.webpackChunkappyter_js||[]).push([[977],{7977:function(e,t,n){n.r(t);var r=n(8826),l=n(7909),a=n(7003);function o(e){(0,r.qOq)(e,"svelte-7t3aq4",".progress.svelte-7t3aq4{height:25px;width:100%;background-color:grey}.progress-bar.svelte-7t3aq4{height:100%;background-color:blue}.progress-bar.bg-success.svelte-7t3aq4{height:100%;background-color:green}")}function s(e,t,n){const r=e.slice();return r[12]=t[n],r}function i(e,t,n){const r=e.slice();return r[12]=t[n],r}function c(e,t,n){const r=e.slice();return r[17]=t[n],r}function u(e){let t,n,l,a;return{c(){t=(0,r.bGB)("sup"),n=(0,r.bGB)("i"),a=(0,r.DhX)(),(0,r.Ljt)(n,"class","far fa-question-circle"),(0,r.Ljt)(t,"data-toggle","tooltip"),(0,r.Ljt)(t,"title",l=e[0].description)},m(e,l){(0,r.$Tr)(e,t,l),(0,r.R3I)(t,n),(0,r.$Tr)(e,a,l)},p(e,n){1&n&&l!==(l=e[0].description)&&(0,r.Ljt)(t,"title",l)},d(e){e&&(0,r.ogt)(t),e&&(0,r.ogt)(a)}}}function d(e){let t,n,l,a=e[1][e[17]].error&&f(e),o=e[1][e[17]].url&&p(e);return{c(){t=(0,r.bGB)("div"),n=(0,r.fLW)("Error loading file"),a&&a.c(),l=(0,r.DhX)(),o&&o.c(),(0,r.Ljt)(t,"class","alert alert-danger")},m(e,s){(0,r.$Tr)(e,t,s),(0,r.R3I)(t,n),a&&a.m(t,null),(0,r.R3I)(t,l),o&&o.m(t,null)},p(e,n){e[1][e[17]].error?a?a.p(e,n):(a=f(e),a.c(),a.m(t,l)):a&&(a.d(1),a=null),e[1][e[17]].url?o?o.p(e,n):(o=p(e),o.c(),o.m(t,null)):o&&(o.d(1),o=null)},d(e){e&&(0,r.ogt)(t),a&&a.d(),o&&o.d()}}}function f(e){let t,n,l=e[1][e[17]].error+"";return{c(){t=(0,r.fLW)(": "),n=(0,r.fLW)(l)},m(e,l){(0,r.$Tr)(e,t,l),(0,r.$Tr)(e,n,l)},p(e,t){2&t&&l!==(l=e[1][e[17]].error+"")&&(0,r.rTO)(n,l)},d(e){e&&(0,r.ogt)(t),e&&(0,r.ogt)(n)}}}function p(e){let t,n,l,a,o=e[1][e[17]].url+"";return{c(){t=(0,r.fLW)("from "),n=(0,r.bGB)("a"),l=(0,r.fLW)(o),(0,r.Ljt)(n,"href",a=e[1][e[17]].url),(0,r.Ljt)(n,"target","_blank")},m(e,a){(0,r.$Tr)(e,t,a),(0,r.$Tr)(e,n,a),(0,r.R3I)(n,l)},p(e,t){2&t&&o!==(o=e[1][e[17]].url+"")&&(0,r.rTO)(l,o),2&t&&a!==(a=e[1][e[17]].url)&&(0,r.Ljt)(n,"href",a)},d(e){e&&(0,r.ogt)(t),e&&(0,r.ogt)(n)}}}function m(e){let t,n,l,a,o,s,i,c,u,d,f=e[1][e[17]].url+"",p=e[1][e[17]].error&&g(e);return{c(){t=(0,r.bGB)("div"),n=(0,r.fLW)("Error loading file"),p&&p.c(),l=(0,r.bGB)("br"),a=(0,r.DhX)(),o=(0,r.bGB)("b"),o.textContent="It may require user engagement",s=(0,r.fLW)(", please visit\n              "),i=(0,r.bGB)("a"),c=(0,r.fLW)(f),d=(0,r.fLW)("\n            to download the example file for upload."),(0,r.Ljt)(i,"href",u=e[1][e[17]].url),(0,r.Ljt)(i,"target","_blank"),(0,r.Ljt)(t,"class","alert alert-warning")},m(e,u){(0,r.$Tr)(e,t,u),(0,r.R3I)(t,n),p&&p.m(t,null),(0,r.R3I)(t,l),(0,r.R3I)(t,a),(0,r.R3I)(t,o),(0,r.R3I)(t,s),(0,r.R3I)(t,i),(0,r.R3I)(i,c),(0,r.R3I)(t,d)},p(e,n){e[1][e[17]].error?p?p.p(e,n):(p=g(e),p.c(),p.m(t,l)):p&&(p.d(1),p=null),2&n&&f!==(f=e[1][e[17]].url+"")&&(0,r.rTO)(c,f),2&n&&u!==(u=e[1][e[17]].url)&&(0,r.Ljt)(i,"href",u)},d(e){e&&(0,r.ogt)(t),p&&p.d()}}}function g(e){let t,n,l=e[1][e[17]].error+"";return{c(){t=(0,r.fLW)(": "),n=(0,r.fLW)(l)},m(e,l){(0,r.$Tr)(e,t,l),(0,r.$Tr)(e,n,l)},p(e,t){2&t&&l!==(l=e[1][e[17]].error+"")&&(0,r.rTO)(n,l)},d(e){e&&(0,r.ogt)(t),e&&(0,r.ogt)(n)}}}function h(e){let t,n,l,a,o,s,i,c,u,f,p,g,h=e[1][e[17]].filename+"";function b(){return e[7](e[17])}let L="error"===e[1][e[17]].bg&&d(e),j="warning"===e[1][e[17]].bg&&m(e);return{c(){t=(0,r.bGB)("div"),n=(0,r.bGB)("div"),l=(0,r.bGB)("div"),a=(0,r.fLW)(h),i=(0,r.DhX)(),c=(0,r.bGB)("button"),c.textContent="Ã—",u=(0,r.DhX)(),L&&L.c(),f=(0,r.DhX)(),j&&j.c(),(0,r.Ljt)(l,"class",o="progress-bar bg-"+e[1][e[17]].bg+" svelte-7t3aq4"),(0,r.Ljt)(l,"role","progressbar"),(0,r.Ljt)(l,"aria-valuemin","0"),(0,r.Ljt)(l,"aria-valuemax","100"),(0,r.Ljt)(l,"aria-valuenow",s=e[1][e[17]].progress),(0,r.czc)(l,"width",e[1][e[17]].progress+"%"),(0,r.VHj)(l,"progress-bar-striped",e[1][e[17]].striped),(0,r.VHj)(l,"progress-bar-animated",e[1][e[17]].animated),(0,r.Ljt)(c,"type","button"),(0,r.Ljt)(c,"class","btn btn-sm bg-danger text-white"),(0,r.Ljt)(n,"class","progress bg-light svelte-7t3aq4")},m(e,o){(0,r.$Tr)(e,t,o),(0,r.R3I)(t,n),(0,r.R3I)(n,l),(0,r.R3I)(l,a),(0,r.R3I)(n,i),(0,r.R3I)(n,c),(0,r.R3I)(t,u),L&&L.m(t,null),(0,r.R3I)(t,f),j&&j.m(t,null),p||(g=(0,r.oLt)(c,"click",b),p=!0)},p(n,i){e=n,2&i&&h!==(h=e[1][e[17]].filename+"")&&(0,r.rTO)(a,h),2&i&&o!==(o="progress-bar bg-"+e[1][e[17]].bg+" svelte-7t3aq4")&&(0,r.Ljt)(l,"class",o),2&i&&s!==(s=e[1][e[17]].progress)&&(0,r.Ljt)(l,"aria-valuenow",s),2&i&&(0,r.czc)(l,"width",e[1][e[17]].progress+"%"),2&i&&(0,r.VHj)(l,"progress-bar-striped",e[1][e[17]].striped),2&i&&(0,r.VHj)(l,"progress-bar-animated",e[1][e[17]].animated),"error"===e[1][e[17]].bg?L?L.p(e,i):(L=d(e),L.c(),L.m(t,f)):L&&(L.d(1),L=null),"warning"===e[1][e[17]].bg?j?j.p(e,i):(j=m(e),j.c(),j.m(t,null)):j&&(j.d(1),j=null)},d(e){e&&(0,r.ogt)(t),L&&L.d(),j&&j.d(),p=!1,g()}}}function b(e){let t,n,l,a,o,c,u,d,f,p,m,g,h,b,I,k,y,v,x=Object.keys(e[0].examples).length>1,$=Object.keys(e[0].examples).length>1,T=x&&L(),B=Object.keys(e[0].examples),G=[];for(let t=0;t<B.length;t+=1)G[t]=j(i(e,B,t));let O=$&&w(),W=Object.keys(e[0].examples),D=[];for(let t=0;t<W.length;t+=1)D[t]=R(s(e,W,t));return{c(){t=(0,r.bGB)("div"),n=(0,r.bGB)("div"),l=(0,r.bGB)("span"),a=(0,r.fLW)("Load example"),T&&T.c(),o=(0,r.DhX)(),c=(0,r.bGB)("sup"),c.innerHTML='<i class="far fa-question-circle"></i>',u=(0,r.fLW)(":"),d=(0,r.DhX)(),f=(0,r.bGB)("div");for(let e=0;e<G.length;e+=1)G[e].c();p=(0,r.DhX)(),m=(0,r.bGB)("div"),g=(0,r.bGB)("span"),h=(0,r.fLW)("Download example"),O&&O.c(),b=(0,r.DhX)(),I=(0,r.bGB)("sup"),I.innerHTML='<i class="far fa-question-circle"></i>',k=(0,r.fLW)(":"),y=(0,r.DhX)(),v=(0,r.bGB)("div");for(let e=0;e<D.length;e+=1)D[e].c();(0,r.Ljt)(c,"data-toggle","tooltip"),(0,r.Ljt)(c,"title","Load the example file directly into the appyter"),(0,r.Ljt)(l,"class","d-table-cell mr-1 my-1 p-1 text-right"),(0,r.czc)(l,"white-space","nowrap"),(0,r.Ljt)(f,"class","d-table-cell table-grow d-flex flex-wrap justify-content-start align-items-center"),(0,r.Ljt)(n,"class","d-table-row"),(0,r.Ljt)(I,"data-toggle","tooltip"),(0,r.Ljt)(I,"title","Download the example file for inspection"),(0,r.Ljt)(g,"class","d-table-cell mr-1 my-1 p-1 text-right"),(0,r.czc)(g,"white-space","nowrap"),(0,r.Ljt)(v,"class","d-table-cell table-grow d-flex flex-wrap justify-content-start align-items-center"),(0,r.Ljt)(m,"class","d-table-row"),(0,r.Ljt)(t,"class","d-table")},m(e,s){(0,r.$Tr)(e,t,s),(0,r.R3I)(t,n),(0,r.R3I)(n,l),(0,r.R3I)(l,a),T&&T.m(l,null),(0,r.R3I)(l,o),(0,r.R3I)(l,c),(0,r.R3I)(l,u),(0,r.R3I)(n,d),(0,r.R3I)(n,f);for(let e=0;e<G.length;e+=1)G[e].m(f,null);(0,r.R3I)(t,p),(0,r.R3I)(t,m),(0,r.R3I)(m,g),(0,r.R3I)(g,h),O&&O.m(g,null),(0,r.R3I)(g,b),(0,r.R3I)(g,I),(0,r.R3I)(g,k),(0,r.R3I)(m,y),(0,r.R3I)(m,v);for(let e=0;e<D.length;e+=1)D[e].m(v,null)},p(e,t){if(1&t&&(x=Object.keys(e[0].examples).length>1),x?T||(T=L(),T.c(),T.m(l,o)):T&&(T.d(1),T=null),33&t){let n;for(B=Object.keys(e[0].examples),n=0;n<B.length;n+=1){const r=i(e,B,n);G[n]?G[n].p(r,t):(G[n]=j(r),G[n].c(),G[n].m(f,null))}for(;n<G.length;n+=1)G[n].d(1);G.length=B.length}if(1&t&&($=Object.keys(e[0].examples).length>1),$?O||(O=w(),O.c(),O.m(g,b)):O&&(O.d(1),O=null),1&t){let n;for(W=Object.keys(e[0].examples),n=0;n<W.length;n+=1){const r=s(e,W,n);D[n]?D[n].p(r,t):(D[n]=R(r),D[n].c(),D[n].m(v,null))}for(;n<D.length;n+=1)D[n].d(1);D.length=W.length}},d(e){e&&(0,r.ogt)(t),T&&T.d(),(0,r.RMB)(G,e),O&&O.d(),(0,r.RMB)(D,e)}}}function L(e){let t;return{c(){t=(0,r.fLW)("s")},m(e,n){(0,r.$Tr)(e,t,n)},d(e){e&&(0,r.ogt)(t)}}}function j(e){let t,n,l,a,o,s,i=e[12]+"";function c(){return e[8](e[12])}return{c(){t=(0,r.bGB)("span"),n=(0,r.bGB)("button"),l=(0,r.fLW)(i),a=(0,r.DhX)(),(0,r.Ljt)(n,"type","button"),(0,r.Ljt)(n,"class","text-btn"),(0,r.Ljt)(t,"class","text-sm m-1 p-1"),(0,r.czc)(t,"white-space","nowrap")},m(e,i){(0,r.$Tr)(e,t,i),(0,r.R3I)(t,n),(0,r.R3I)(n,l),(0,r.R3I)(t,a),o||(s=(0,r.oLt)(n,"click",c),o=!0)},p(t,n){e=t,1&n&&i!==(i=e[12]+"")&&(0,r.rTO)(l,i)},d(e){e&&(0,r.ogt)(t),o=!1,s()}}}function w(e){let t;return{c(){t=(0,r.fLW)("s")},m(e,n){(0,r.$Tr)(e,t,n)},d(e){e&&(0,r.ogt)(t)}}}function R(e){let t,n,l,a,o,s=e[12]+"";return{c(){t=(0,r.bGB)("span"),n=(0,r.bGB)("a"),l=(0,r.fLW)(s),o=(0,r.DhX)(),(0,r.Ljt)(n,"href",a=e[0].examples[e[12]]),(0,r.Ljt)(n,"target","_blank"),(0,r.Ljt)(t,"class","text-sm m-1 p-1"),(0,r.czc)(t,"white-space","nowrap")},m(e,a){(0,r.$Tr)(e,t,a),(0,r.R3I)(t,n),(0,r.R3I)(n,l),(0,r.R3I)(t,o)},p(e,t){1&t&&s!==(s=e[12]+"")&&(0,r.rTO)(l,s),1&t&&a!==(a=e[0].examples[e[12]])&&(0,r.Ljt)(n,"href",a)},d(e){e&&(0,r.ogt)(t)}}}function I(e){let t,n,l,a,o,s,i,d,f,p,m,g,L,j,w,R,I,k,y,v,x=e[0].label+"",$=(e[3]||"Choose file"+(e[0].multiple?"s":""))+"",T=e[0].examples&&Object.keys(e[0].examples).length>0,B=e[0].description&&u(e),G=Object.keys(e[1]),O=[];for(let t=0;t<G.length;t+=1)O[t]=h(c(e,G,t));let W=T&&b(e);return{c(){t=(0,r.bGB)("div"),n=(0,r.bGB)("div"),l=(0,r.fLW)(x),a=(0,r.DhX)(),B&&B.c(),o=(0,r.fLW)(":"),s=(0,r.DhX)(),i=(0,r.bGB)("div"),d=(0,r.bGB)("div"),f=(0,r.bGB)("input"),g=(0,r.DhX)(),L=(0,r.bGB)("textarea"),w=(0,r.DhX)(),R=(0,r.bGB)("label"),I=(0,r.fLW)($),y=(0,r.DhX)();for(let e=0;e<O.length;e+=1)O[e].c();v=(0,r.DhX)(),W&&W.c(),(0,r.Ljt)(n,"class","col-lg-3 bold text-lg-right my-auto"),(0,r.Ljt)(f,"type","file"),(0,r.Ljt)(f,"class","custom-file-input"),(0,r.Ljt)(f,"id",p=e[0].name),f.multiple=m=e[0].multiple,(0,r.Ljt)(L,"class","hidden"),(0,r.Ljt)(L,"name",j=e[0].name),L.value=e[4],(0,r.Ljt)(R,"class","custom-file-label"),(0,r.Ljt)(R,"for",k=e[0].name),(0,r.Ljt)(d,"class","custom-file"),(0,r.Ljt)(d,"dropzone","copy"),(0,r.Ljt)(i,"class","col-lg-6 pt-2 pt-lg-0"),(0,r.Ljt)(t,"class","row px-4 px-lg-3 pb-4")},m(c,u){(0,r.$Tr)(c,t,u),(0,r.R3I)(t,n),(0,r.R3I)(n,l),(0,r.R3I)(n,a),B&&B.m(n,null),(0,r.R3I)(n,o),(0,r.R3I)(t,s),(0,r.R3I)(t,i),(0,r.R3I)(i,d),(0,r.R3I)(d,f),e[6](f),(0,r.R3I)(d,g),(0,r.R3I)(d,L),(0,r.R3I)(d,w),(0,r.R3I)(d,R),(0,r.R3I)(R,I),(0,r.R3I)(i,y);for(let e=0;e<O.length;e+=1)O[e].m(i,null);(0,r.R3I)(i,v),W&&W.m(i,null)},p(e,[t]){if(1&t&&x!==(x=e[0].label+"")&&(0,r.rTO)(l,x),e[0].description?B?B.p(e,t):(B=u(e),B.c(),B.m(n,o)):B&&(B.d(1),B=null),1&t&&p!==(p=e[0].name)&&(0,r.Ljt)(f,"id",p),1&t&&m!==(m=e[0].multiple)&&(f.multiple=m),1&t&&j!==(j=e[0].name)&&(0,r.Ljt)(L,"name",j),16&t&&(L.value=e[4]),9&t&&$!==($=(e[3]||"Choose file"+(e[0].multiple?"s":""))+"")&&(0,r.rTO)(I,$),1&t&&k!==(k=e[0].name)&&(0,r.Ljt)(R,"for",k),2&t){let n;for(G=Object.keys(e[1]),n=0;n<G.length;n+=1){const r=c(e,G,n);O[n]?O[n].p(r,t):(O[n]=h(r),O[n].c(),O[n].m(i,v))}for(;n<O.length;n+=1)O[n].d(1);O.length=G.length}1&t&&(T=e[0].examples&&Object.keys(e[0].examples).length>0),T?W?W.p(e,t):(W=b(e),W.c(),W.m(i,null)):W&&(W.d(1),W=null)},i:r.ZTd,o:r.ZTd,d(n){n&&(0,r.ogt)(t),B&&B.d(),e[6](null),(0,r.RMB)(O,n),W&&W.d()}}}function k(e,t,o){let s;(0,r.FIv)(e,l.Z,(e=>o(10,s=e)));let i,c,u,d,{args:f}=t,p={};async function m(e,t){o(1,p={...f.multiple?p:{},[t]:{filename:t,striped:!0,animated:!0,bg:"primary",progress:0}}),-1===e.indexOf("://")&&(e=new URL(e,document.baseURI).href);try{if(200!==(await fetch(`check/${e}`)).status)throw new Error;if(!(t in p))return;o(1,p={...p,[t]:{...p[t],full_filename:`${e}#${t}`,bg:"success",animated:!1,striped:!1,progress:100}})}catch(n){if(!(t in p))return;o(1,p={...p,[t]:{...p[t],progress:100,url:e,bg:"warning",striped:!1,animated:!1}})}}return(0,a.H3)((async()=>{const{default:e}=await n.e(29).then(n.t.bind(n,9029,23)),{default:t}=await Promise.all([n.e(229),n.e(284)]).then(n.bind(n,1284)),r=new e(t);d={socket:t,siofu:r},await async function(e){e.listenOnInput(i),e.addEventListener("start",(function(e){e.file.meta.auth=s.keycloak.token,o(1,p={...f.multiple?p:{},[e.file.name]:{filename:e.file.name,striped:!0,bg:"primary",progress:0}})})),e.addEventListener("progress",(function(e){e.file.name in p&&o(1,p={...p,[e.file.name]:{...p[e.file.name],progress:e.bytesLoaded/e.file.size*100|0,animated:!0}})})),e.addEventListener("complete",(function(e){e.file.name in p&&o(1,p={...p,[e.file.name]:{filename:e.file.name,full_filename:e.detail.full_filename,progress:100,bg:"success",striped:!1,animated:!1}})})),e.addEventListener("error",(function(e){console.error(e),e.file.name in p&&o(1,p={...p,[e.file.name]:{progress:100,bg:"danger",error:e.error,striped:!1,animated:!1}})}))}(r)})),e.$$set=e=>{"args"in e&&o(0,f=e.args)},e.$$.update=()=>{2&e.$$.dirty&&o(3,c=Object.keys(p).reduce(((e,t)=>void 0!==p[t].filename?[...e,p[t].filename]:e),[]).join(", ")),2&e.$$.dirty&&o(4,u=Object.keys(p).reduce(((e,t)=>void 0!==p[t].full_filename?[...e,p[t].full_filename]:e),[]).join("\n"))},[f,p,i,c,u,m,function(e){r.VnY[e?"unshift":"push"]((()=>{i=e,o(2,i)}))},e=>{const{[e]:t,...n}=p;t.progress,o(1,p=n)},e=>m(f.examples[e],e)]}class y extends r.f_C{constructor(e){super(),(0,r.S1n)(this,e,k,I,r.N8,{args:0},o)}}t.default=y},7909:function(e,t,n){var r=n(4683),l=n(9666),a=n(8764);const o=function(){const e=window._config.EXTRAS.includes("catalog-integration")&&void 0!==window._config.keycloak,{subscribe:t,set:o}=(0,r.fZ)({state:e?"init":"error",keycloak:{}});return e&&n.e(671).then(n.bind(n,4671)).then((0,a.Z)((async({default:e})=>{const t=new e(window._config.keycloak.params),n=t.logout;Object.assign(t,{getValidToken:async()=>{try{await t.updateToken(30)}catch(e){console.error(e),o({state:"guest",keycloak:t})}return t.token},logout:()=>{n(),o({state:"guest",keycloak:t})}});const r=await t.init({...window._config.keycloak.init,redirectUri:window.location.href+(window.location.href.includes("#")?"":"#")+(window.location.href.includes("?")?"":"?")});o({state:r?"auth":"guest",keycloak:t}),l.Z.update((e=>{const t={...e.params};return"code"in t&&delete t.code,"session_state"in t&&delete t.session_state,"state"in t&&delete t.state,{...e,params:t}}))}),5e3)).catch((e=>{console.error(e),o({state:"error",keycloak:{}})})),{subscribe:t}}();o.subscribe((e=>{"auth"===e.state&&null===document.cookie.match(/^(.*;)?\s*authorization\s*=\s*[^;]+(.*)?$/)&&(document.cookie=`authorization=${e.keycloak.token}; expires=${new Date(1e3*e.keycloak.tokenParsed.exp).toUTCString()}; secure`)})),t.Z=o},9666:function(e,t,n){var r=n(4683);function l(e){const t=e.indexOf("?");if(-1===t)return{path:e,params:{}};{const[n,r]=[e.slice(0,t),e.slice(t+1)];return{path:n,params:function(e){return""===e?{}:e.split("&").map((e=>e.split("=").map(decodeURIComponent))).reduce(((e,[t,n])=>({...e,[t]:void 0===n||n})),{})}(r)}}}function a(){return(window.location.hash||"#").slice(1)}const o=function(){const{path:e,params:t,server:n}={...l(a()),server:l(`${window.location.pathname}${window.location.search}`)},{subscribe:o,update:s,set:i}=(0,r.fZ)({path:e,params:t,server:n});let c=e;return o((({path:e,params:t,server:n})=>{const r=function({path:e,params:t}){const n=function(e){return Object.keys(e).filter((t=>void 0!==e[t]&&""!==e[t])).map((t=>!0===e[t]?encodeURIComponent(t):[t,e[t]].map(encodeURIComponent).join("="))).join("&")}(t);return""===n?e:`${e}?${n}`}({path:e,params:t});if(e!==c)window.location.hash=r,c=e;else{const e=`${window.location.origin}${window.location.pathname}${window.location.search}`;history.replaceState(void 0,void 0,""!==r?`${e}#${r}`:e)}})),window.addEventListener("hashchange",(()=>i({...l(a()),initServer:n}))),{subscribe:o,update:s,set:i}}();t.Z=o},4683:function(e,t,n){n.d(t,{fZ:function(){return a}});var r=n(8826);const l=[];function a(e,t=r.ZTd){let n;const a=new Set;function o(t){if((0,r.N8)(e,t)&&(e=t,n)){const t=!l.length;for(const t of a)t[1](),l.push(t,e);if(t){for(let e=0;e<l.length;e+=2)l[e][0](l[e+1]);l.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(l,s=r.ZTd){const i=[l,s];return a.add(i),1===a.size&&(n=t(o)||r.ZTd),l(e),()=>{a.delete(i),0===a.size&&(n(),n=null)}}}}},8764:function(e,t,n){function r(e,t){return(...n)=>new Promise(((r,l)=>{let a={done:!1};setTimeout((()=>{a.done||(a.done=!0,l("Timeout"))}),t),e(...n).then((e=>{a.done||(a.done=!0,r(e))})).catch((e=>{a.done||(a.done=!0,l(e))}))}))}n.d(t,{Z:function(){return r}})}}]);