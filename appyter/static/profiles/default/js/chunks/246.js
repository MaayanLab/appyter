"use strict";(self.webpackChunkappyter_js=self.webpackChunkappyter_js||[]).push([[246,798],{3798:function(t,e,n){n.r(e);var o=n(8826);function c(t){let e,n,c;const l=t[1].default,r=(0,o.nuO)(l,t,t[0],null);return{c(){e=(0,o.bGB)("div"),n=(0,o.bGB)("div"),r&&r.c(),(0,o.Ljt)(n,"class","col col-lg-9 px-lg-3 my-auto px-4"),(0,o.Ljt)(e,"class","row px-4 px-lg-3 pb-4 justify-content-center")},m(t,l){(0,o.$Tr)(t,e,l),(0,o.R3I)(e,n),r&&r.m(n,null),c=!0},p(t,[e]){r&&r.p&&(!c||1&e)&&(0,o.kmG)(r,l,t,t[0],c?(0,o.u2N)(l,t[0],e,null):(0,o.VOJ)(t[0]),null)},i(t){c||((0,o.Ui)(r,t),c=!0)},o(t){(0,o.etI)(r,t),c=!1},d(t){t&&(0,o.ogt)(e),r&&r.d(t)}}}function l(t,e,n){let{$$slots:o={},$$scope:c}=e;return t.$$set=t=>{"$$scope"in t&&n(0,c=t.$$scope)},[c,o]}class r extends o.f_C{constructor(t){super(),(0,o.S1n)(this,t,l,c,o.N8,{})}}e.default=r},3246:function(t,e,n){n.r(e),n.d(e,{default:function(){return V}});var o=n(8826),c=n(7909),l=n(1782);function r(t){const e=["B","KB","MB","GB","TB"];let n;for(let o=0;o<e.length-1&&(n=e[o],!(t<1e3));o++)t/=1e3;return`${t.toFixed(2)} ${n}`}function i(t,e,n){const o=t.slice();return o[12]=e[n],o}function a(t,e,n){const o=t.slice();return o[12]=e[n],o}function s(t,e,n){const o=t.slice();return o[12]=e[n],o}function u(t,e,n){const o=t.slice();return o[12]=e[n],o}function d(t,e,n){const o=t.slice();return o[12]=e[n],o}function f(t,e,n){const o=t.slice();return o[12]=e[n],o}function p(t){let e,n,c,l;return{c(){e=(0,o.bGB)("sup"),n=(0,o.bGB)("i"),l=(0,o.DhX)(),(0,o.Ljt)(n,"class","far fa-question-circle"),(0,o.Ljt)(e,"data-toggle","tooltip"),(0,o.Ljt)(e,"title",c=t[0].description)},m(t,c){(0,o.$Tr)(t,e,c),(0,o.R3I)(e,n),(0,o.$Tr)(t,l,c)},p(t,n){1&n&&c!==(c=t[0].description)&&(0,o.Ljt)(e,"title",c)},d(t){t&&(0,o.ogt)(e),t&&(0,o.ogt)(l)}}}function g(t){let e;return{c(){e=(0,o.bGB)("span"),e.innerHTML='<i class="far fa-folder"></i>'},m(t,n){(0,o.$Tr)(t,e,n)},d(t){t&&(0,o.ogt)(e)}}}function m(t){let e;return{c(){e=(0,o.bGB)("span"),e.innerHTML='<i class="far fa-folder"></i>'},m(t,n){(0,o.$Tr)(t,e,n)},d(t){t&&(0,o.ogt)(e)}}}function h(t){let e,n="directory"===t[12].type&&m();return{c(){n&&n.c(),e=(0,o.cSb)()},m(t,c){n&&n.m(t,c),(0,o.$Tr)(t,e,c)},p(t,o){"directory"===t[12].type?n||(n=m(),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&(0,o.ogt)(e)}}}function $(t){let e;return{c(){e=(0,o.bGB)("span"),e.innerHTML='<i class="far fa-file"></i>  '},m(t,n){(0,o.$Tr)(t,e,n)},d(t){t&&(0,o.ogt)(e)}}}function b(t){let e,n="file"===t[12].type&&$();return{c(){n&&n.c(),e=(0,o.cSb)()},m(t,c){n&&n.m(t,c),(0,o.$Tr)(t,e,c)},p(t,o){"file"===t[12].type?n||(n=$(),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&(0,o.ogt)(e)}}}function y(t){let e,n,c,l,r;return{c(){e=(0,o.bGB)("button"),n=(0,o.fLW)(".. "),c=(0,o.fLW)(t[5]),(0,o.Ljt)(e,"type","button"),(0,o.Ljt)(e,"class","text-btn")},m(i,a){(0,o.$Tr)(i,e,a),(0,o.R3I)(e,n),(0,o.R3I)(e,c),l||(r=(0,o.oLt)(e,"click",t[8]),l=!0)},p(t,e){32&e&&(0,o.rTO)(c,t[5])},d(t){t&&(0,o.ogt)(e),l=!1,r()}}}function L(t){let e,n,c,l,r=t[12].name.slice(t[2].length).replace(/^\//,"")+"";function i(){return t[9](t[12])}return{c(){e=(0,o.bGB)("button"),n=(0,o.fLW)(r),(0,o.Ljt)(e,"type","button"),(0,o.Ljt)(e,"class","text-btn")},m(t,r){(0,o.$Tr)(t,e,r),(0,o.R3I)(e,n),c||(l=(0,o.oLt)(e,"click",i),c=!0)},p(e,c){t=e,12&c&&r!==(r=t[12].name.slice(t[2].length).replace(/^\//,"")+"")&&(0,o.rTO)(n,r)},d(t){t&&(0,o.ogt)(e),c=!1,l()}}}function w(t){let e,n="directory"===t[12].type&&L(t);return{c(){n&&n.c(),e=(0,o.cSb)()},m(t,c){n&&n.m(t,c),(0,o.$Tr)(t,e,c)},p(t,o){"directory"===t[12].type?n?n.p(t,o):(n=L(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&(0,o.ogt)(e)}}}function I(t){let e,n,c;function l(t,e){return t[1]===t[12].name?k:T}let r=l(t),i=r(t);function a(){return t[10](t[12])}return{c(){e=(0,o.bGB)("button"),i.c(),(0,o.Ljt)(e,"type","button"),(0,o.Ljt)(e,"class","text-btn")},m(t,l){(0,o.$Tr)(t,e,l),i.m(e,null),n||(c=(0,o.oLt)(e,"click",a),n=!0)},p(n,o){r===(r=l(t=n))&&i?i.p(t,o):(i.d(1),i=r(t),i&&(i.c(),i.m(e,null)))},d(t){t&&(0,o.ogt)(e),i.d(),n=!1,c()}}}function T(t){let e,n=t[12].name.slice(t[2].length).replace(/^\//,"")+"";return{c(){e=(0,o.fLW)(n)},m(t,n){(0,o.$Tr)(t,e,n)},p(t,c){12&c&&n!==(n=t[12].name.slice(t[2].length).replace(/^\//,"")+"")&&(0,o.rTO)(e,n)},d(t){t&&(0,o.ogt)(e)}}}function k(t){let e,n,c=t[12].name.slice(t[2].length).replace(/^\//,"")+"";return{c(){e=(0,o.bGB)("span"),n=(0,o.fLW)(c),(0,o.czc)(e,"font-weight","600")},m(t,c){(0,o.$Tr)(t,e,c),(0,o.R3I)(e,n)},p(t,e){12&e&&c!==(c=t[12].name.slice(t[2].length).replace(/^\//,"")+"")&&(0,o.rTO)(n,c)},d(t){t&&(0,o.ogt)(e)}}}function R(t){let e,n="file"===t[12].type&&I(t);return{c(){n&&n.c(),e=(0,o.cSb)()},m(t,c){n&&n.m(t,c),(0,o.$Tr)(t,e,c)},p(t,o){"file"===t[12].type?n?n.p(t,o):(n=I(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&(0,o.ogt)(e)}}}function x(t){let e,n;return e=new l.Z({}),{c(){(0,o.YCL)(e.$$.fragment)},m(t,c){(0,o.yef)(e,t,c),n=!0},i(t){n||((0,o.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,o.etI)(e.$$.fragment,t),n=!1},d(t){(0,o.vpE)(e,t)}}}function v(t){let e;return{c(){e=(0,o.bGB)("span"),e.textContent=" "},m(t,n){(0,o.$Tr)(t,e,n)},d(t){t&&(0,o.ogt)(e)}}}function B(t){let e;return{c(){e=(0,o.bGB)("span"),e.textContent=" "},m(t,n){(0,o.$Tr)(t,e,n)},d(t){t&&(0,o.ogt)(e)}}}function j(t){let e,n="directory"===t[12].type&&B();return{c(){n&&n.c(),e=(0,o.cSb)()},m(t,c){n&&n.m(t,c),(0,o.$Tr)(t,e,c)},p(t,o){"directory"===t[12].type?n||(n=B(),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&(0,o.ogt)(e)}}}function G(t){let e;function n(t,e){return t[1]===t[12].name?Z:z}let c=n(t),l=c(t);return{c(){l.c(),e=(0,o.cSb)()},m(t,n){l.m(t,n),(0,o.$Tr)(t,e,n)},p(t,o){c===(c=n(t))&&l?l.p(t,o):(l.d(1),l=c(t),l&&(l.c(),l.m(e.parentNode,e)))},d(t){l.d(t),t&&(0,o.ogt)(e)}}}function z(t){let e,n,c=r(t[12].size)+"";return{c(){e=(0,o.bGB)("span"),n=(0,o.fLW)(c),(0,o.czc)(e,"white-space","nowrap")},m(t,c){(0,o.$Tr)(t,e,c),(0,o.R3I)(e,n)},p(t,e){12&e&&c!==(c=r(t[12].size)+"")&&(0,o.rTO)(n,c)},d(t){t&&(0,o.ogt)(e)}}}function Z(t){let e,n,c=r(t[12].size)+"";return{c(){e=(0,o.bGB)("span"),n=(0,o.fLW)(c),(0,o.czc)(e,"white-space","nowrap"),(0,o.czc)(e,"font-weight","600")},m(t,c){(0,o.$Tr)(t,e,c),(0,o.R3I)(e,n)},p(t,e){12&e&&c!==(c=r(t[12].size)+"")&&(0,o.rTO)(n,c)},d(t){t&&(0,o.ogt)(e)}}}function U(t){let e,n="file"===t[12].type&&G(t);return{c(){n&&n.c(),e=(0,o.cSb)()},m(t,c){n&&n.m(t,c),(0,o.$Tr)(t,e,c)},p(t,o){"file"===t[12].type?n?n.p(t,o):(n=G(t),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&(0,o.ogt)(e)}}}function C(t){let e,n,c,l,r,m,$,L,I,T,k,B,G,z,Z,C,D,X,S,W,O,N,M,_,E,Y,F,H,P,V,A,q,J,K,Q=t[0].label+"",tt=t[0].description&&p(t),et=t[5]!==t[2]&&g(),nt=t[3][t[2]]||[],ot=[];for(let e=0;e<nt.length;e+=1)ot[e]=h(f(t,nt,e));let ct=t[3][t[2]]||[],lt=[];for(let e=0;e<ct.length;e+=1)lt[e]=b(d(t,ct,e));let rt=t[5]!==t[2]&&y(t),it=t[3][t[2]]||[],at=[];for(let e=0;e<it.length;e+=1)at[e]=w(u(t,it,e));let st=t[3][t[2]]||[],ut=[];for(let e=0;e<st.length;e+=1)ut[e]=R(s(t,st,e));let dt=t[4]&&x(),ft=t[5]!==t[2]&&v(),pt=t[3][t[2]]||[],gt=[];for(let e=0;e<pt.length;e+=1)gt[e]=j(a(t,pt,e));let mt=t[3][t[2]]||[],ht=[];for(let e=0;e<mt.length;e+=1)ht[e]=U(i(t,mt,e));return{c(){e=(0,o.bGB)("div"),n=(0,o.bGB)("div"),c=(0,o.fLW)(Q),l=(0,o.DhX)(),tt&&tt.c(),r=(0,o.fLW)(":"),m=(0,o.DhX)(),$=(0,o.bGB)("div"),L=(0,o.bGB)("div"),I=(0,o.bGB)("div"),et&&et.c(),T=(0,o.DhX)(),k=(0,o.bGB)("span"),k.innerHTML='<i class="far fa-folder-open"></i>',B=(0,o.DhX)();for(let t=0;t<ot.length;t+=1)ot[t].c();G=(0,o.DhX)();for(let t=0;t<lt.length;t+=1)lt[t].c();z=(0,o.DhX)(),Z=(0,o.bGB)("div"),rt&&rt.c(),C=(0,o.DhX)(),D=(0,o.bGB)("button"),X=(0,o.fLW)(". "),S=(0,o.fLW)(t[2]),W=(0,o.DhX)();for(let t=0;t<at.length;t+=1)at[t].c();O=(0,o.DhX)();for(let t=0;t<ut.length;t+=1)ut[t].c();N=(0,o.DhX)(),dt&&dt.c(),M=(0,o.DhX)(),_=(0,o.bGB)("div"),ft&&ft.c(),E=(0,o.DhX)(),Y=(0,o.bGB)("span"),Y.textContent=" ",F=(0,o.DhX)();for(let t=0;t<gt.length;t+=1)gt[t].c();H=(0,o.DhX)();for(let t=0;t<ht.length;t+=1)ht[t].c();P=(0,o.DhX)(),V=(0,o.bGB)("input"),(0,o.Ljt)(n,"class","col-lg-3 bold text-lg-right my-auto"),(0,o.czc)(I,"display","flex"),(0,o.czc)(I,"flex-direction","column"),(0,o.czc)(I,"align-items","center"),(0,o.czc)(I,"padding-right","5px"),(0,o.Ljt)(D,"type","button"),(0,o.Ljt)(D,"class","text-btn"),(0,o.czc)(Z,"display","flex"),(0,o.czc)(Z,"flex-direction","column"),(0,o.czc)(Z,"align-items","start"),(0,o.czc)(Z,"white-space","nowrap"),(0,o.czc)(Z,"overflow-x","auto"),(0,o.czc)(Z,"flex","1 1 auto"),(0,o.czc)(_,"display","flex"),(0,o.czc)(_,"flex-direction","column"),(0,o.czc)(_,"align-items","start"),(0,o.czc)(_,"padding-left","5px"),(0,o.czc)(L,"display","flex"),(0,o.czc)(L,"flex-direction","row"),(0,o.czc)(L,"max-height","500px"),(0,o.czc)(L,"overflow-x","hidden"),(0,o.czc)(L,"overflow-y","auto"),(0,o.Ljt)(L,"class","pl-0"),(0,o.Ljt)(V,"type","text"),(0,o.czc)(V,"display","none"),(0,o.Ljt)(V,"name",A=t[0].name),(0,o.Ljt)($,"class","col-lg-6 pt-2 pt-lg-0"),(0,o.Ljt)(e,"class","row px-4 px-lg-3 pb-4")},m(i,a){(0,o.$Tr)(i,e,a),(0,o.R3I)(e,n),(0,o.R3I)(n,c),(0,o.R3I)(n,l),tt&&tt.m(n,null),(0,o.R3I)(n,r),(0,o.R3I)(e,m),(0,o.R3I)(e,$),(0,o.R3I)($,L),(0,o.R3I)(L,I),et&&et.m(I,null),(0,o.R3I)(I,T),(0,o.R3I)(I,k),(0,o.R3I)(I,B);for(let t=0;t<ot.length;t+=1)ot[t].m(I,null);(0,o.R3I)(I,G);for(let t=0;t<lt.length;t+=1)lt[t].m(I,null);(0,o.R3I)(L,z),(0,o.R3I)(L,Z),rt&&rt.m(Z,null),(0,o.R3I)(Z,C),(0,o.R3I)(Z,D),(0,o.R3I)(D,X),(0,o.R3I)(D,S),(0,o.R3I)(Z,W);for(let t=0;t<at.length;t+=1)at[t].m(Z,null);(0,o.R3I)(Z,O);for(let t=0;t<ut.length;t+=1)ut[t].m(Z,null);(0,o.R3I)(Z,N),dt&&dt.m(Z,null),(0,o.R3I)(L,M),(0,o.R3I)(L,_),ft&&ft.m(_,null),(0,o.R3I)(_,E),(0,o.R3I)(_,Y),(0,o.R3I)(_,F);for(let t=0;t<gt.length;t+=1)gt[t].m(_,null);(0,o.R3I)(_,H);for(let t=0;t<ht.length;t+=1)ht[t].m(_,null);(0,o.R3I)($,P),(0,o.R3I)($,V),(0,o.BmG)(V,t[0].value),q=!0,J||(K=(0,o.oLt)(V,"input",t[11]),J=!0)},p(t,[e]){if((!q||1&e)&&Q!==(Q=t[0].label+"")&&(0,o.rTO)(c,Q),t[0].description?tt?tt.p(t,e):(tt=p(t),tt.c(),tt.m(n,r)):tt&&(tt.d(1),tt=null),t[5]!==t[2]?et||(et=g(),et.c(),et.m(I,T)):et&&(et.d(1),et=null),12&e){let n;for(nt=t[3][t[2]]||[],n=0;n<nt.length;n+=1){const o=f(t,nt,n);ot[n]?ot[n].p(o,e):(ot[n]=h(o),ot[n].c(),ot[n].m(I,G))}for(;n<ot.length;n+=1)ot[n].d(1);ot.length=nt.length}if(12&e){let n;for(ct=t[3][t[2]]||[],n=0;n<ct.length;n+=1){const o=d(t,ct,n);lt[n]?lt[n].p(o,e):(lt[n]=b(o),lt[n].c(),lt[n].m(I,null))}for(;n<lt.length;n+=1)lt[n].d(1);lt.length=ct.length}if(t[5]!==t[2]?rt?rt.p(t,e):(rt=y(t),rt.c(),rt.m(Z,C)):rt&&(rt.d(1),rt=null),(!q||4&e)&&(0,o.rTO)(S,t[2]),12&e){let n;for(it=t[3][t[2]]||[],n=0;n<it.length;n+=1){const o=u(t,it,n);at[n]?at[n].p(o,e):(at[n]=w(o),at[n].c(),at[n].m(Z,O))}for(;n<at.length;n+=1)at[n].d(1);at.length=it.length}if(14&e){let n;for(st=t[3][t[2]]||[],n=0;n<st.length;n+=1){const o=s(t,st,n);ut[n]?ut[n].p(o,e):(ut[n]=R(o),ut[n].c(),ut[n].m(Z,N))}for(;n<ut.length;n+=1)ut[n].d(1);ut.length=st.length}if(t[4]?dt?16&e&&(0,o.Ui)(dt,1):(dt=x(),dt.c(),(0,o.Ui)(dt,1),dt.m(Z,null)):dt&&((0,o.dvw)(),(0,o.etI)(dt,1,1,(()=>{dt=null})),(0,o.gbL)()),t[5]!==t[2]?ft||(ft=v(),ft.c(),ft.m(_,E)):ft&&(ft.d(1),ft=null),12&e){let n;for(pt=t[3][t[2]]||[],n=0;n<pt.length;n+=1){const o=a(t,pt,n);gt[n]?gt[n].p(o,e):(gt[n]=j(o),gt[n].c(),gt[n].m(_,H))}for(;n<gt.length;n+=1)gt[n].d(1);gt.length=pt.length}if(14&e){let n;for(mt=t[3][t[2]]||[],n=0;n<mt.length;n+=1){const o=i(t,mt,n);ht[n]?ht[n].p(o,e):(ht[n]=U(o),ht[n].c(),ht[n].m(_,null))}for(;n<ht.length;n+=1)ht[n].d(1);ht.length=mt.length}(!q||1&e&&A!==(A=t[0].name))&&(0,o.Ljt)(V,"name",A),1&e&&V.value!==t[0].value&&(0,o.BmG)(V,t[0].value)},i(t){q||((0,o.Ui)(dt),q=!0)},o(t){(0,o.etI)(dt),q=!1},d(t){t&&(0,o.ogt)(e),tt&&tt.d(),et&&et.d(),(0,o.RMB)(ot,t),(0,o.RMB)(lt,t),rt&&rt.d(),(0,o.RMB)(at,t),(0,o.RMB)(ut,t),dt&&dt.d(),ft&&ft.d(),(0,o.RMB)(gt,t),(0,o.RMB)(ht,t),J=!1,K()}}}function D(t,e,n){let l;(0,o.FIv)(t,c.Z,(t=>n(7,l=t)));let{args:r}=e,{backend:i="StorageFileField"}=e,a=r.value||r.default||"",s=!1,u="",d="",f={};return t.$$set=t=>{"args"in t&&n(0,r=t.args),"backend"in t&&n(6,i=t.backend)},t.$$.update=()=>{3&t.$$.dirty&&n(0,r.value=`${r.storage}${a}#${a.split("/").slice(-1)[0]}`,r),4&t.$$.dirty&&n(5,d=u.split("/").slice(0,-1).join("/")),205&t.$$.dirty&&(u in f||(n(4,s=!0),async function(t){let e;return"auth"===t.state&&(e=await t.keycloak.getValidToken()),null!=e?{Authorization:`Bearer ${e}`}:{}}(l).then((async t=>{try{const e=await fetch(`${i}/ls/${r.storage}${u}`,{headers:t});n(3,f[u]=await e.json(),f),n(4,s=!1)}catch(t){n(3,f[u]=[],f),n(4,s=!1)}}))))},[r,a,u,f,s,d,i,l,()=>{n(2,u=d)},t=>{n(2,u=t.name)},t=>{n(1,a=t.name)},function(){r.value=this.value,n(0,r),n(1,a)}]}class X extends o.f_C{constructor(t){super(),(0,o.S1n)(this,t,D,C,o.N8,{args:0,backend:6})}}var S=X,W=n(3798);function O(t){let e,n,c,l,r,i,a,s;const u=[E,_,M],d=[];function f(t,e){return"init"===t[1].state?0:"error"===t[1].state?1:2}return c=f(t),l=d[c]=u[c](t),{c(){e=(0,o.bGB)("div"),n=(0,o.bGB)("div"),l.c(),r=(0,o.DhX)(),i=(0,o.bGB)("input"),(0,o.Ljt)(n,"class","row px-4 px-lg-3 pb-4 justify-content-center"),(0,o.Ljt)(e,"class","pt-3"),(0,o.Ljt)(i,"type","text"),(0,o.czc)(i,"display","none"),(0,o.Ljt)(i,"name",a=t[0].name),i.value=""},m(t,l){(0,o.$Tr)(t,e,l),(0,o.R3I)(e,n),d[c].m(n,null),(0,o.$Tr)(t,r,l),(0,o.$Tr)(t,i,l),s=!0},p(t,e){let r=c;c=f(t),c===r?d[c].p(t,e):((0,o.dvw)(),(0,o.etI)(d[r],1,1,(()=>{d[r]=null})),(0,o.gbL)(),l=d[c],l?l.p(t,e):(l=d[c]=u[c](t),l.c()),(0,o.Ui)(l,1),l.m(n,null)),(!s||1&e&&a!==(a=t[0].name))&&(0,o.Ljt)(i,"name",a)},i(t){s||((0,o.Ui)(l),s=!0)},o(t){(0,o.etI)(l),s=!1},d(t){t&&(0,o.ogt)(e),d[c].d(),t&&(0,o.ogt)(r),t&&(0,o.ogt)(i)}}}function N(t){let e,n,c,l;return e=new W.default({props:{$$slots:{default:[Y]},$$scope:{ctx:t}}}),c=new S({props:{backend:"locate",args:{...t[0],label:"Browse Your Uploads & Integrations",storage:"user://"}}}),{c(){(0,o.YCL)(e.$$.fragment),n=(0,o.DhX)(),(0,o.YCL)(c.$$.fragment)},m(t,r){(0,o.yef)(e,t,r),(0,o.$Tr)(t,n,r),(0,o.yef)(c,t,r),l=!0},p(t,n){const o={};18&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const l={};1&n&&(l.args={...t[0],label:"Browse Your Uploads & Integrations",storage:"user://"}),c.$set(l)},i(t){l||((0,o.Ui)(e.$$.fragment,t),(0,o.Ui)(c.$$.fragment,t),l=!0)},o(t){(0,o.etI)(e.$$.fragment,t),(0,o.etI)(c.$$.fragment,t),l=!1},d(t){(0,o.vpE)(e,t),t&&(0,o.ogt)(n),(0,o.vpE)(c,t)}}}function M(t){let e,n,c,l,r;return{c(){e=(0,o.bGB)("div"),n=(0,o.bGB)("button"),n.textContent="Login",c=(0,o.fLW)(" to access uploads and integration storage."),(0,o.Ljt)(n,"type","button"),(0,o.Ljt)(n,"class","text-btn"),(0,o.Ljt)(e,"class","col col-lg-9 px-lg-3 my-auto px-4 text-center alert alert-info")},m(i,a){(0,o.$Tr)(i,e,a),(0,o.R3I)(e,n),(0,o.R3I)(e,c),l||(r=(0,o.oLt)(n,"click",t[3]),l=!0)},p:o.ZTd,i:o.ZTd,o:o.ZTd,d(t){t&&(0,o.ogt)(e),l=!1,r()}}}function _(t){let e;return{c(){e=(0,o.bGB)("div"),e.textContent="Unable to access authentication at this time, please try again later.",(0,o.Ljt)(e,"class","col col-lg-9 px-lg-3 my-auto px-4 text-center alert alert-warning")},m(t,n){(0,o.$Tr)(t,e,n)},p:o.ZTd,i:o.ZTd,o:o.ZTd,d(t){t&&(0,o.ogt)(e)}}}function E(t){let e,n;return e=new l.Z({}),{c(){(0,o.YCL)(e.$$.fragment)},m(t,c){(0,o.yef)(e,t,c),n=!0},p:o.ZTd,i(t){n||((0,o.Ui)(e.$$.fragment,t),n=!0)},o(t){(0,o.etI)(e.$$.fragment,t),n=!1},d(t){(0,o.vpE)(e,t)}}}function Y(t){let e,n,c,l,r,i,a,s,u=t[1].keycloak.tokenParsed.email+"";return{c(){e=(0,o.bGB)("div"),n=(0,o.fLW)("Logged in as "),c=(0,o.fLW)(u),l=(0,o.fLW)(", "),r=(0,o.bGB)("button"),r.textContent="click here",i=(0,o.fLW)(" to logout."),(0,o.Ljt)(r,"type","button"),(0,o.Ljt)(r,"class","text-btn"),(0,o.Ljt)(e,"class","text-center")},m(u,d){(0,o.$Tr)(u,e,d),(0,o.R3I)(e,n),(0,o.R3I)(e,c),(0,o.R3I)(e,l),(0,o.R3I)(e,r),(0,o.R3I)(e,i),a||(s=(0,o.oLt)(r,"click",t[2]),a=!0)},p(t,e){2&e&&u!==(u=t[1].keycloak.tokenParsed.email+"")&&(0,o.rTO)(c,u)},d(t){t&&(0,o.ogt)(e),a=!1,s()}}}function F(t){let e,n,c,l;const r=[N,O],i=[];function a(t,e){return"auth"===t[1].state?0:1}return e=a(t),n=i[e]=r[e](t),{c(){n.c(),c=(0,o.cSb)()},m(t,n){i[e].m(t,n),(0,o.$Tr)(t,c,n),l=!0},p(t,[l]){let s=e;e=a(t),e===s?i[e].p(t,l):((0,o.dvw)(),(0,o.etI)(i[s],1,1,(()=>{i[s]=null})),(0,o.gbL)(),n=i[e],n?n.p(t,l):(n=i[e]=r[e](t),n.c()),(0,o.Ui)(n,1),n.m(c.parentNode,c))},i(t){l||((0,o.Ui)(n),l=!0)},o(t){(0,o.etI)(n),l=!1},d(t){i[e].d(t),t&&(0,o.ogt)(c)}}}function H(t,e,n){let l;(0,o.FIv)(t,c.Z,(t=>n(1,l=t)));let{args:r}=e;return t.$$set=t=>{"args"in t&&n(0,r=t.args)},[r,l,()=>l.keycloak.logout(),()=>l.keycloak.login()]}class P extends o.f_C{constructor(t){super(),(0,o.S1n)(this,t,H,F,o.N8,{args:0})}}var V=P},7909:function(t,e,n){var o=n(4683),c=n(9666),l=n(8764);const r=function(){const t=window._config.EXTRAS.includes("catalog-integration")&&void 0!==window._config.keycloak,{subscribe:e,set:r}=(0,o.fZ)({state:t?"init":"error",keycloak:{}});return t&&n.e(671).then(n.bind(n,4671)).then((0,l.Z)((async({default:t})=>{const e=new t(window._config.keycloak.params),n=e.logout;Object.assign(e,{getValidToken:async()=>{try{await e.updateToken(30)}catch(t){console.error(t),r({state:"guest",keycloak:e})}return e.token},logout:()=>{n(),r({state:"guest",keycloak:e})}});const o=await e.init({...window._config.keycloak.init,redirectUri:window.location.href+(window.location.href.includes("#")?"":"#")+(window.location.href.includes("?")?"":"?")});r({state:o?"auth":"guest",keycloak:e}),c.Z.update((t=>{const e={...t.params};return"code"in e&&delete e.code,"session_state"in e&&delete e.session_state,"state"in e&&delete e.state,{...t,params:e}}))}),5e3)).catch((t=>{console.error(t),r({state:"error",keycloak:{}})})),{subscribe:e}}();r.subscribe((t=>{"auth"===t.state&&null===document.cookie.match(/^(.*;)?\s*authorization\s*=\s*[^;]+(.*)?$/)&&(document.cookie=`authorization=${t.keycloak.token}; expires=${new Date(1e3*t.keycloak.tokenParsed.exp).toUTCString()}; secure`)})),e.Z=r},9666:function(t,e,n){var o=n(4683);function c(t){const e=t.indexOf("?");if(-1===e)return{path:t,params:{}};{const[n,o]=[t.slice(0,e),t.slice(e+1)];return{path:n,params:function(t){return""===t?{}:t.split("&").map((t=>t.split("=").map(decodeURIComponent))).reduce(((t,[e,n])=>({...t,[e]:void 0===n||n})),{})}(o)}}}function l(){return(window.location.hash||"#").slice(1)}const r=function(){const{path:t,params:e,server:n}={...c(l()),server:c(`${window.location.pathname}${window.location.search}`)},{subscribe:r,update:i,set:a}=(0,o.fZ)({path:t,params:e,server:n});let s=t;return r((({path:t,params:e,server:n})=>{const o=function({path:t,params:e}){const n=function(t){return Object.keys(t).filter((e=>void 0!==t[e]&&""!==t[e])).map((e=>!0===t[e]?encodeURIComponent(e):[e,t[e]].map(encodeURIComponent).join("="))).join("&")}(e);return""===n?t:`${t}?${n}`}({path:t,params:e});if(t!==s)window.location.hash=o,s=t;else{const t=`${window.location.origin}${window.location.pathname}${window.location.search}`;history.replaceState(void 0,void 0,""!==o?`${t}#${o}`:t)}})),window.addEventListener("hashchange",(()=>a({...c(l()),initServer:n}))),{subscribe:r,update:i,set:a}}();e.Z=r},4683:function(t,e,n){n.d(e,{fZ:function(){return l}});var o=n(8826);const c=[];function l(t,e=o.ZTd){let n;const l=new Set;function r(e){if((0,o.N8)(t,e)&&(t=e,n)){const e=!c.length;for(const e of l)e[1](),c.push(e,t);if(e){for(let t=0;t<c.length;t+=2)c[t][0](c[t+1]);c.length=0}}}return{set:r,update:function(e){r(e(t))},subscribe:function(c,i=o.ZTd){const a=[c,i];return l.add(a),1===l.size&&(n=e(r)||o.ZTd),c(t),()=>{l.delete(a),0===l.size&&(n(),n=null)}}}}},8764:function(t,e,n){function o(t,e){return(...n)=>new Promise(((o,c)=>{let l={done:!1};setTimeout((()=>{l.done||(l.done=!0,c("Timeout"))}),e),t(...n).then((t=>{l.done||(l.done=!0,o(t))})).catch((t=>{l.done||(l.done=!0,c(t))}))}))}n.d(e,{Z:function(){return o}})}}]);