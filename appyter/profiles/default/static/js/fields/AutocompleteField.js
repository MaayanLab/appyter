!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;((t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).AutocompleteField||(t.AutocompleteField={})).svelte=e()}}((function(){var e={};(function(t){"use strict";function n(){}Object.defineProperty(e,"__esModule",{value:!0});function o(e){return e()}function r(){return Object.create(null)}function i(e){e.forEach(o)}function l(e){return"function"==typeof e}function s(e){return 0===Object.keys(e).length}const c="undefined"!=typeof window;e.raf=c?e=>requestAnimationFrame(e):n;new Set;function a(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function d(e){e.parentNode.removeChild(e)}function p(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function m(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function b(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e){return Array.from(e.childNodes)}function h(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}new Set;function v(t){e.current_component=t}function g(){if(!e.current_component)throw new Error("Function called outside component initialization");return e.current_component}const w=[],$=[],_=[],x=[],k=Promise.resolve();let C=!1;function E(){C||(C=!0,k.then(S))}function j(e){_.push(e)}let O=!1;const P=new Set;function S(){if(!O){O=!0;do{for(let e=0;e<w.length;e+=1){const t=w[e];v(t),A(t.$$)}for(v(null),w.length=0;$.length;)$.pop()();for(let e=0;e<_.length;e+=1){const t=_[e];P.has(t)||(P.add(t),t())}_.length=0}while(w.length);for(;x.length;)x.pop()();C=!1,O=!1,P.clear()}}function A(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}const D=new Set;let M;function T(){M={r:0,c:[],p:M}}function q(){M.r||i(M.c),M=M.p}function L(e,t){e&&e.i&&(D.delete(e),e.i(t))}function U(e,t,n,o){if(e&&e.o){if(D.has(e))return;D.add(e),M.c.push(()=>{D.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}}"undefined"!=typeof window?window:"undefined"!=typeof globalThis&&globalThis;new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);function N(e,t,n,r){const{fragment:s,on_mount:c,on_destroy:a,after_update:u}=e.$$;s&&s.m(t,n),r||j(()=>{const t=c.map(o).filter(l);a?a.push(...t):i(t),e.$$.on_mount=[]}),u.forEach(j)}function z(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}"function"==typeof HTMLElement&&HTMLElement;class F{$destroy(){z(this,1),this.$destroy=n}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!s(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class B extends F{constructor(e){if(!e||!e.target&&!e.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}e.SvelteComponent=F,e.SvelteComponentDev=B,e.SvelteComponentTyped=class extends B{constructor(e){super(e)}},e.afterUpdate=function(e){g().$$.after_update.push(e)},e.append=a,e.attr=b,e.beforeUpdate=function(e){g().$$.before_update.push(e)},e.check_outros=q,e.createEventDispatcher=function(){const e=g();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const r=h(t,n);o.slice().forEach(t=>{t.call(e,r)})}}},e.create_component=function(e){e&&e.c()},e.destroy_component=z,e.destroy_each=function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)},e.detach=d,e.element=p,e.empty=function(){return f("")},e.getContext=function(e){return g().$$.context.get(e)},e.group_outros=T,e.hasContext=function(e){return g().$$.context.has(e)},e.init=function(t,o,l,s,c,a,u=[-1]){const p=e.current_component;v(t);const f=t.$$={fragment:null,ctx:null,props:a,update:n,not_equal:c,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:r(),dirty:u,skip_bound:!1};let m=!1;if(f.ctx=l?l(t,o.props||{},(e,n,...o)=>{const r=o.length?o[0]:n;return f.ctx&&c(f.ctx[e],f.ctx[e]=r)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](r),m&&function(e,t){-1===e.$$.dirty[0]&&(w.push(e),E(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n}):[],f.update(),m=!0,i(f.before_update),f.fragment=!!s&&s(f.ctx),o.target){if(o.hydrate){const e=y(o.target);f.fragment&&f.fragment.l(e),e.forEach(d)}else f.fragment&&f.fragment.c();o.intro&&L(t.$$.fragment),N(t,o.target,o.anchor,o.customElement),S()}v(p)},e.insert=u,e.listen=m,e.mount_component=N,e.noop=n,e.onDestroy=function(e){g().$$.on_destroy.push(e)},e.onMount=function(e){g().$$.on_mount.push(e)},e.run_all=i,e.safe_not_equal=function(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e},e.setContext=function(e,t){g().$$.context.set(e,t)},e.set_data=function(e,t){t=""+t,e.wholeText!==t&&(e.data=t)},e.set_input_value=function(e,t){e.value=null==t?"":t},e.space=function(){return f(" ")},e.text=f,e.tick=function(){return E(),k},e.toggle_class=function(e,t,n){e.classList[n?"add":"remove"](t)},e.transition_in=L,e.transition_out=U}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var t={};Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"SvelteComponent",{enumerable:!0,get:function(){return e.SvelteComponentDev}}),Object.defineProperty(t,"SvelteComponentTyped",{enumerable:!0,get:function(){return e.SvelteComponentTyped}}),Object.defineProperty(t,"afterUpdate",{enumerable:!0,get:function(){return e.afterUpdate}}),Object.defineProperty(t,"beforeUpdate",{enumerable:!0,get:function(){return e.beforeUpdate}}),Object.defineProperty(t,"createEventDispatcher",{enumerable:!0,get:function(){return e.createEventDispatcher}}),Object.defineProperty(t,"getContext",{enumerable:!0,get:function(){return e.getContext}}),Object.defineProperty(t,"hasContext",{enumerable:!0,get:function(){return e.hasContext}}),Object.defineProperty(t,"onDestroy",{enumerable:!0,get:function(){return e.onDestroy}}),Object.defineProperty(t,"onMount",{enumerable:!0,get:function(){return e.onMount}}),Object.defineProperty(t,"setContext",{enumerable:!0,get:function(){return e.setContext}}),Object.defineProperty(t,"tick",{enumerable:!0,get:function(){return e.tick}});const{SvelteComponent:n,append:o,attr:r,detach:i,element:l,init:s,insert:c,noop:a,safe_not_equal:u}=e;function d(e){let t;return{c(){(t=l("div")).innerHTML='<div class="svelte-1p9bywm"></div><div class="svelte-1p9bywm"></div><div class="svelte-1p9bywm"></div><div class="svelte-1p9bywm"></div>',r(t,"class","lds-ellipsis svelte-1p9bywm")},m(e,n){c(e,t,n)},p:a,i:a,o:a,d(e){e&&i(t)}}}var p=class extends n{constructor(e){var t;super(),document.getElementById("svelte-1p9bywm-style")||((t=l("style")).id="svelte-1p9bywm-style",t.textContent=".lds-ellipsis.svelte-1p9bywm.svelte-1p9bywm{display:inline-block;position:relative;width:80px;height:80px}.lds-ellipsis.svelte-1p9bywm div.svelte-1p9bywm{position:absolute;top:33px;width:13px;height:13px;border-radius:50%;background:#000;animation-timing-function:cubic-bezier(0, 1, 1, 0)}.lds-ellipsis.svelte-1p9bywm div.svelte-1p9bywm:nth-child(1){left:8px;animation:svelte-1p9bywm-lds-ellipsis1 0.6s infinite}.lds-ellipsis.svelte-1p9bywm div.svelte-1p9bywm:nth-child(2){left:8px;animation:svelte-1p9bywm-lds-ellipsis2 0.6s infinite}.lds-ellipsis.svelte-1p9bywm div.svelte-1p9bywm:nth-child(3){left:32px;animation:svelte-1p9bywm-lds-ellipsis2 0.6s infinite}.lds-ellipsis.svelte-1p9bywm div.svelte-1p9bywm:nth-child(4){left:56px;animation:svelte-1p9bywm-lds-ellipsis3 0.6s infinite}@keyframes svelte-1p9bywm-lds-ellipsis1{0%{transform:scale(0)}100%{transform:scale(1)}}@keyframes svelte-1p9bywm-lds-ellipsis3{0%{transform:scale(1)}100%{transform:scale(0)}}@keyframes svelte-1p9bywm-lds-ellipsis2{0%{transform:translate(0, 0)}100%{transform:translate(24px, 0)}}",o(document.head,t)),s(this,e,null,d,u,{})}};const{SvelteComponent:f,append:m,attr:b,check_outros:y,create_component:h,destroy_component:v,destroy_each:g,detach:w,element:$,empty:_,group_outros:x,init:k,insert:C,listen:E,mount_component:j,noop:O,run_all:P,safe_not_equal:S,set_data:A,set_input_value:D,space:M,text:T,toggle_class:q,transition_in:L,transition_out:U}=e,{onMount:N}=t;function z(e,t,n){const o=e.slice();return o[12]=t[n],o[14]=n,o}function F(e){let t,n,o,r;return{c(){t=$("sup"),n=$("i"),r=M(),b(n,"class","far fa-question-circle"),b(n,"data-toggle","tooltip"),b(n,"title",""),b(n,"data-original-title",o=e[0].description)},m(e,o){C(e,t,o),m(t,n),C(e,r,o)},p(e,t){1&t&&o!==(o=e[0].description)&&b(n,"data-original-title",o)},d(e){e&&w(t),e&&w(r)}}}function B(e){let t,n,o;return{c(){t=$("div"),n=$("div"),o=T(e[4]),b(n,"class","alert alert-warning"),b(n,"role","alert"),b(t,"class","w-100")},m(e,r){C(e,t,r),m(t,n),m(n,o)},p(e,t){16&t&&A(o,e[4])},i:O,o:O,d(e){e&&w(t)}}}function H(e){let t,n,o=e[3]&&e[1]&&I(e);return{c(){o&&o.c(),t=_()},m(e,r){o&&o.m(e,r),C(e,t,r),n=!0},p(e,n){e[3]&&e[1]?o?(o.p(e,n),10&n&&L(o,1)):((o=I(e)).c(),L(o,1),o.m(t.parentNode,t)):o&&(x(),U(o,1,1,()=>{o=null}),y())},i(e){n||(L(o),n=!0)},o(e){U(o),n=!1},d(e){o&&o.d(e),e&&w(t)}}}function I(e){let t,n,o,r;const i=[J,G],l=[];function s(e,t){return void 0===e[2]?0:1}return n=s(e),o=l[n]=i[n](e),{c(){t=$("div"),o.c(),b(t,"class","autocomplete-items svelte-mb9t7t")},m(e,o){C(e,t,o),l[n].m(t,null),r=!0},p(e,r){let c=n;(n=s(e))===c?l[n].p(e,r):(x(),U(l[c],1,1,()=>{l[c]=null}),y(),(o=l[n])?o.p(e,r):(o=l[n]=i[n](e)).c(),L(o,1),o.m(t,null))},i(e){r||(L(o),r=!0)},o(e){U(o),r=!1},d(e){e&&w(t),l[n].d()}}}function G(e){let t,n=e[6],o=[];for(let r=0;r<n.length;r+=1)o[r]=K(z(e,n,r));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=_()},m(e,n){for(let t=0;t<o.length;t+=1)o[t].m(e,n);C(e,t,n)},p(e,r){if(98&r){let i;for(n=e[6],i=0;i<n.length;i+=1){const l=z(e,n,i);o[i]?o[i].p(l,r):(o[i]=K(l),o[i].c(),o[i].m(t.parentNode,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},i:O,o:O,d(e){g(o,e),e&&w(t)}}}function J(e){let t,n,o;return n=new p({}),{c(){t=$("center"),h(n.$$.fragment)},m(e,r){C(e,t,r),j(n,t,null),o=!0},p:O,i(e){o||(L(n.$$.fragment,e),o=!0)},o(e){U(n.$$.fragment,e),o=!1},d(e){e&&w(t),v(n)}}}function K(e){let t,n,o,r,i,l,s,c=e[12].substr(0,e[1].length)+"",a=e[12].substr(e[1].length)+"";function u(){return e[11](e[12])}return{c(){t=$("div"),n=$("strong"),o=T(c),r=T(a),i=M(),b(t,"class","svelte-mb9t7t"),q(t,"autocomplete-active",e[5]===e[14])},m(e,c){C(e,t,c),m(t,n),m(n,o),m(t,r),m(t,i),l||(s=E(t,"mousedown",u),l=!0)},p(n,i){e=n,66&i&&c!==(c=e[12].substr(0,e[1].length)+"")&&A(o,c),66&i&&a!==(a=e[12].substr(e[1].length)+"")&&A(r,a),32&i&&q(t,"autocomplete-active",e[5]===e[14])},d(e){e&&w(t),l=!1,s()}}}function Q(e){let t,n,o,r,i,l,s,c,a,u,d,p,f,h,v,g,_,k=e[0].label+"",j=e[0].description&&F(e);const O=[H,B],S=[];function q(e,t){return void 0===e[4]?0:1}return f=q(e),h=S[f]=O[f](e),{c(){t=$("div"),n=$("div"),o=T(k),r=M(),j&&j.c(),i=T(":"),l=M(),s=$("div"),c=$("input"),p=M(),h.c(),b(n,"class","col-lg-3 bold text-lg-right my-auto"),b(c,"type","text"),b(c,"id",a=e[0].name),b(c,"name",u=e[0].name),b(c,"class","form-control nodecoration tiny bg-white px-2 py-1 mb-0"),b(c,"autocomplete","off"),b(c,"placeholder",d=e[0].hint),b(s,"class","autocomplete col-lg-6 pt-2 pt-lg-0 svelte-mb9t7t"),b(t,"class","row px-4 px-lg-3 pb-4")},m(a,u){C(a,t,u),m(t,n),m(n,o),m(n,r),j&&j.m(n,null),m(n,i),m(t,l),m(t,s),m(s,c),D(c,e[1]),m(s,p),S[f].m(s,null),v=!0,g||(_=[E(c,"input",e[7]),E(c,"focus",e[8]),E(c,"blur",e[9]),E(c,"keydown",e[10])],g=!0)},p(e,[t]){(!v||1&t)&&k!==(k=e[0].label+"")&&A(o,k),e[0].description?j?j.p(e,t):((j=F(e)).c(),j.m(n,i)):j&&(j.d(1),j=null),(!v||1&t&&a!==(a=e[0].name))&&b(c,"id",a),(!v||1&t&&u!==(u=e[0].name))&&b(c,"name",u),(!v||1&t&&d!==(d=e[0].hint))&&b(c,"placeholder",d),2&t&&c.value!==e[1]&&D(c,e[1]);let r=f;(f=q(e))===r?S[f].p(e,t):(x(),U(S[r],1,1,()=>{S[r]=null}),y(),(h=S[f])?h.p(e,t):(h=S[f]=O[f](e)).c(),L(h,1),h.m(s,null))},i(e){v||(L(h),v=!0)},o(e){U(h),v=!1},d(e){e&&w(t),j&&j.d(),S[f].d(),g=!1,P(_)}}}function R(e,t,n){let o,r,i,l,{args:s}=t,c=s.default,a=-1;return N(async()=>{try{if(void 0!==s.file_path){const e=await fetch(s.file_path),t=await e.json();if("object"!=typeof t)throw new Error("Unrecognized type for downloaded file");Array.isArray(t)?n(2,i=t):(console.warn("Legacy mode... please use an array"),n(2,i=t[Object.keys(t)[0]]))}else{if(void 0===s.choices)throw new Error("No autocomplete item source");if("object"!=typeof s.choices)throw new Error("Unrecognized type for choices");Array.isArray(s.choices)?n(2,i=s.choices):n(2,i=Object.keys(s.choices))}}catch(e){n(4,r="Failed to load autocomplete items"),n(2,i=[]),console.error(e)}}),e.$$set=e=>{"args"in e&&n(0,s=e.args)},e.$$.update=()=>{6&e.$$.dirty&&void 0!==i&&(n(6,l=i.filter(e=>e.toLowerCase().substr(0,c.length)===c.toLowerCase()&&e!==c).slice(0,7)),n(5,a=-1))},[s,c,i,o,r,a,l,function(){c=this.value,n(1,c)},()=>n(3,o=!0),()=>n(3,o=!1),e=>{"ArrowUp"===e.key?(e.preventDefault(),n(5,a=Math.max(-1,a-1))):"ArrowDown"===e.key?(e.preventDefault(),n(5,a=Math.min(l.length-1,a+1))):"Enter"===e.key&&(e.preventDefault(),a>=0&&n(1,c=l[a]),n(5,a=-1))},e=>n(1,c=e)]}return class extends f{constructor(e){var t;super(),document.getElementById("svelte-mb9t7t-style")||((t=$("style")).id="svelte-mb9t7t-style",t.textContent=".autocomplete.svelte-mb9t7t.svelte-mb9t7t{position:relative;display:inline-block}.autocomplete-items.svelte-mb9t7t.svelte-mb9t7t{background-color:white;position:absolute;border:1px solid #d4d4d4;border-bottom:none;border-top:none;z-index:99;top:100%;left:0;right:0}.autocomplete-items.svelte-mb9t7t div.svelte-mb9t7t{padding:10px;cursor:pointer;background-color:#fff;border-bottom:1px solid #d4d4d4}.autocomplete-items.svelte-mb9t7t div.svelte-mb9t7t:hover{background-color:#e9e9e9}.autocomplete-active.svelte-mb9t7t.svelte-mb9t7t{background-color:DodgerBlue !important;color:#ffffff}",m(document.head,t)),k(this,e,R,Q,S,{args:0})}}}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2stZmxhdC9fcHJlbHVkZSIsIm5vZGVfbW9kdWxlcy9zdmVsdGUvaW50ZXJuYWwvaW5kZXguanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL2luZGV4LmpzIiwiY29tcG9uZW50cy9Mb2FkZXIuc3ZlbHRlIiwicHJvZmlsZXMvZGVmYXVsdC9zdGF0aWMvanMvZmllbGRzL0F1dG9jb21wbGV0ZUZpZWxkLnN2ZWx0ZSJdLCJuYW1lcyI6WyJmIiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsImciLCJ3aW5kb3ciLCJnbG9iYWwiLCJzZWxmIiwidGhpcyIsIkF1dG9jb21wbGV0ZUZpZWxkIiwic3ZlbHRlIiwiXyRpbnRlcm5hbF8zIiwibm9vcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJydW4iLCJmbiIsImJsYW5rX29iamVjdCIsImNyZWF0ZSIsInJ1bl9hbGwiLCJmbnMiLCJmb3JFYWNoIiwiaXNfZnVuY3Rpb24iLCJ0aGluZyIsImlzX2VtcHR5Iiwib2JqIiwia2V5cyIsImxlbmd0aCIsImlzX2NsaWVudCIsInJhZiIsImNiIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiU2V0IiwiYXBwZW5kIiwidGFyZ2V0Iiwibm9kZSIsImFwcGVuZENoaWxkIiwiaW5zZXJ0IiwiYW5jaG9yIiwiaW5zZXJ0QmVmb3JlIiwiZGV0YWNoIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiZWxlbWVudCIsIm5hbWUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0IiwiZGF0YSIsImNyZWF0ZVRleHROb2RlIiwibGlzdGVuIiwiZXZlbnQiLCJoYW5kbGVyIiwib3B0aW9ucyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYXR0ciIsImF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsImNoaWxkcmVuIiwiQXJyYXkiLCJmcm9tIiwiY2hpbGROb2RlcyIsImN1c3RvbV9ldmVudCIsInR5cGUiLCJkZXRhaWwiLCJlIiwiY3JlYXRlRXZlbnQiLCJpbml0Q3VzdG9tRXZlbnQiLCJzZXRfY3VycmVudF9jb21wb25lbnQiLCJjb21wb25lbnQiLCJjdXJyZW50X2NvbXBvbmVudCIsImdldF9jdXJyZW50X2NvbXBvbmVudCIsIkVycm9yIiwiZGlydHlfY29tcG9uZW50cyIsImJpbmRpbmdfY2FsbGJhY2tzIiwicmVuZGVyX2NhbGxiYWNrcyIsImZsdXNoX2NhbGxiYWNrcyIsInJlc29sdmVkX3Byb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInVwZGF0ZV9zY2hlZHVsZWQiLCJzY2hlZHVsZV91cGRhdGUiLCJ0aGVuIiwiZmx1c2giLCJhZGRfcmVuZGVyX2NhbGxiYWNrIiwicHVzaCIsImZsdXNoaW5nIiwic2Vlbl9jYWxsYmFja3MiLCJpIiwidXBkYXRlIiwiJCQiLCJwb3AiLCJjYWxsYmFjayIsImhhcyIsImFkZCIsImNsZWFyIiwiZnJhZ21lbnQiLCJiZWZvcmVfdXBkYXRlIiwiZGlydHkiLCJwIiwiY3R4IiwiYWZ0ZXJfdXBkYXRlIiwib3V0cm9pbmciLCJvdXRyb3MiLCJncm91cF9vdXRyb3MiLCJyIiwiYyIsImNoZWNrX291dHJvcyIsInRyYW5zaXRpb25faW4iLCJibG9jayIsImxvY2FsIiwiZGVsZXRlIiwidHJhbnNpdGlvbl9vdXQiLCJvIiwiZCIsImdsb2JhbFRoaXMiLCJtb3VudF9jb21wb25lbnQiLCJjdXN0b21FbGVtZW50Iiwib25fbW91bnQiLCJvbl9kZXN0cm95IiwibSIsIm5ld19vbl9kZXN0cm95IiwibWFwIiwiZmlsdGVyIiwiZGVzdHJveV9jb21wb25lbnQiLCJkZXRhY2hpbmciLCJIVE1MRWxlbWVudCIsIlN2ZWx0ZUNvbXBvbmVudCIsIltvYmplY3QgT2JqZWN0XSIsIiRkZXN0cm95IiwiY2FsbGJhY2tzIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiJCRwcm9wcyIsIiQkc2V0Iiwic2tpcF9ib3VuZCIsIlN2ZWx0ZUNvbXBvbmVudERldiIsIiQkaW5saW5lIiwic3VwZXIiLCJjb25zb2xlIiwid2FybiIsIlN2ZWx0ZUNvbXBvbmVudFR5cGVkIiwiYWZ0ZXJVcGRhdGUiLCJiZWZvcmVVcGRhdGUiLCJjcmVhdGVFdmVudERpc3BhdGNoZXIiLCJzbGljZSIsImNhbGwiLCJjcmVhdGVfY29tcG9uZW50IiwiZGVzdHJveV9lYWNoIiwiaXRlcmF0aW9ucyIsImVtcHR5IiwiZ2V0Q29udGV4dCIsImtleSIsImNvbnRleHQiLCJnZXQiLCJoYXNDb250ZXh0IiwiaW5pdCIsImluc3RhbmNlIiwiY3JlYXRlX2ZyYWdtZW50Iiwibm90X2VxdWFsIiwicHJvcHMiLCJwYXJlbnRfY29tcG9uZW50IiwiYm91bmQiLCJvbl9kaXNjb25uZWN0IiwiTWFwIiwicmVhZHkiLCJyZXQiLCJyZXN0IiwiZmlsbCIsImh5ZHJhdGUiLCJub2RlcyIsImwiLCJpbnRybyIsIm9uRGVzdHJveSIsIm9uTW91bnQiLCJzYWZlX25vdF9lcXVhbCIsImEiLCJiIiwic2V0Q29udGV4dCIsInNldCIsInNldF9kYXRhIiwid2hvbGVUZXh0Iiwic2V0X2lucHV0X3ZhbHVlIiwiaW5wdXQiLCJzcGFjZSIsInRpY2siLCJ0b2dnbGVfY2xhc3MiLCJ0b2dnbGUiLCJjbGFzc0xpc3QiLCJfJHN2ZWx0ZV8yIiwiZW51bWVyYWJsZSIsImRpdjQiLCJpbm5lckhUTUwiLCJfJExvYWRlcl8xIiwic3R5bGUiLCJnZXRFbGVtZW50QnlJZCIsImlkIiwidGV4dENvbnRlbnQiLCJoZWFkIiwiX19TdmVsdGVDb21wb25lbnRfNCIsIl9fYXBwZW5kXzQiLCJfX2F0dHJfNCIsIl9fZGV0YWNoXzQiLCJfX2VsZW1lbnRfNCIsIl9faW5pdF80IiwiX19pbnNlcnRfNCIsIl9fbm9vcF80IiwiX19zYWZlX25vdF9lcXVhbF80IiwiZ2V0X2VhY2hfY29udGV4dCIsImxpc3QiLCJjaGlsZF9jdHgiLCJjcmVhdGVfaWZfYmxvY2tfMyIsInN1cCIsImlfZGF0YV9vcmlnaW5hbF90aXRsZV92YWx1ZSIsInQiLCJkZXNjcmlwdGlvbiIsImNyZWF0ZV9lbHNlX2Jsb2NrXzEiLCJkaXYxIiwiZGl2MCIsImNyZWF0ZV9pZl9ibG9jayIsImlmX2Jsb2NrX2FuY2hvciIsImN1cnJlbnQiLCJpZl9ibG9jayIsImNyZWF0ZV9pZl9ibG9ja18xIiwiZGl2IiwiY3VycmVudF9ibG9ja190eXBlX2luZGV4IiwiaWZfYmxvY2tfY3JlYXRvcnMiLCJjcmVhdGVfaWZfYmxvY2tfMiIsImNyZWF0ZV9lbHNlX2Jsb2NrIiwiaWZfYmxvY2tzIiwic2VsZWN0X2Jsb2NrX3R5cGVfMSIsInByZXZpb3VzX2Jsb2NrX2luZGV4IiwiZWFjaF8xX2FuY2hvciIsImVhY2hfdmFsdWUiLCJlYWNoX2Jsb2NrcyIsImNyZWF0ZV9lYWNoX2Jsb2NrIiwiY2VudGVyIiwibG9hZGVyIiwic3Ryb25nIiwidDAiLCJ0MSIsInQyIiwibW91bnRlZCIsImRpc3Bvc2UiLCJ0MF92YWx1ZSIsInN1YnN0ciIsInQxX3ZhbHVlIiwibW91c2Vkb3duX2hhbmRsZXIiLCJuZXdfY3R4IiwiX19jcmVhdGVfZnJhZ21lbnRfNCIsImRpdjIiLCJ0MyIsImlucHV0X2lkX3ZhbHVlIiwiaW5wdXRfbmFtZV92YWx1ZSIsImlucHV0X3BsYWNlaG9sZGVyX3ZhbHVlIiwidDQiLCJpZl9ibG9jazEiLCJsYWJlbCIsImlmX2Jsb2NrMCIsInNlbGVjdF9ibG9ja190eXBlIiwiaGludCIsIiQkc2VsZiIsIiQkaW52YWxpZGF0ZSIsImZvY3VzZWQiLCJlcnJvciIsIml0ZW1zIiwicmVsZXZhbnRfaXRlbXMiLCJhcmdzIiwiZGVmYXVsdCIsImN1cnJlbnRfZm9jdXMiLCJhc3luYyIsImZpbGVfcGF0aCIsInJlcSIsImZldGNoIiwicmVzdWx0IiwianNvbiIsImlzQXJyYXkiLCJjaG9pY2VzIiwiaXRlbSIsInRvTG93ZXJDYXNlIiwicHJldmVudERlZmF1bHQiLCJNYXRoIiwibWF4IiwibWluIl0sIm1hcHBpbmdzIjoiQ0FB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QUFBL0osU0FBQTZKLEtBQUFKLElBQUFVLEVBQUF6TSxLQUFBOEMsRUFBQTRHLEVBQUE0RixFQUFBMUMsRUFBQSxDQUFBNEQsS0FBQSIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbihmKXtpZih0eXBlb2YgZXhwb3J0cz09PVwib2JqZWN0XCImJnR5cGVvZiBtb2R1bGUhPT1cInVuZGVmaW5lZFwiKXttb2R1bGUuZXhwb3J0cz1mKCl9ZWxzZSBpZih0eXBlb2YgZGVmaW5lPT09XCJmdW5jdGlvblwiJiZkZWZpbmUuYW1kKXtkZWZpbmUoW10sZil9ZWxzZXt2YXIgZztpZih0eXBlb2Ygd2luZG93IT09XCJ1bmRlZmluZWRcIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09XCJ1bmRlZmluZWRcIil7Zz1nbG9iYWx9ZWxzZSBpZih0eXBlb2Ygc2VsZiE9PVwidW5kZWZpbmVkXCIpe2c9c2VsZn1lbHNle2c9dGhpc30oZy5BdXRvY29tcGxldGVGaWVsZCB8fCAoZy5BdXRvY29tcGxldGVGaWVsZCA9IHt9KSkuc3ZlbHRlID0gZigpfX0pKGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxuZnVuY3Rpb24gbm9vcCgpIHsgfVxuY29uc3QgaWRlbnRpdHkgPSB4ID0+IHg7XG5mdW5jdGlvbiBhc3NpZ24odGFyLCBzcmMpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgZm9yIChjb25zdCBrIGluIHNyYylcbiAgICAgICAgdGFyW2tdID0gc3JjW2tdO1xuICAgIHJldHVybiB0YXI7XG59XG5mdW5jdGlvbiBpc19wcm9taXNlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBhZGRfbG9jYXRpb24oZWxlbWVudCwgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyKSB7XG4gICAgZWxlbWVudC5fX3N2ZWx0ZV9tZXRhID0ge1xuICAgICAgICBsb2M6IHsgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gcnVuKGZuKSB7XG4gICAgcmV0dXJuIGZuKCk7XG59XG5mdW5jdGlvbiBibGFua19vYmplY3QoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5jcmVhdGUobnVsbCk7XG59XG5mdW5jdGlvbiBydW5fYWxsKGZucykge1xuICAgIGZucy5mb3JFYWNoKHJ1bik7XG59XG5mdW5jdGlvbiBpc19mdW5jdGlvbih0aGluZykge1xuICAgIHJldHVybiB0eXBlb2YgdGhpbmcgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBzYWZlX25vdF9lcXVhbChhLCBiKSB7XG4gICAgcmV0dXJuIGEgIT0gYSA/IGIgPT0gYiA6IGEgIT09IGIgfHwgKChhICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JykgfHwgdHlwZW9mIGEgPT09ICdmdW5jdGlvbicpO1xufVxuZnVuY3Rpb24gbm90X2VxdWFsKGEsIGIpIHtcbiAgICByZXR1cm4gYSAhPSBhID8gYiA9PSBiIDogYSAhPT0gYjtcbn1cbmZ1bmN0aW9uIGlzX2VtcHR5KG9iaikge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX3N0b3JlKHN0b3JlLCBuYW1lKSB7XG4gICAgaWYgKHN0b3JlICE9IG51bGwgJiYgdHlwZW9mIHN0b3JlLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCcke25hbWV9JyBpcyBub3QgYSBzdG9yZSB3aXRoIGEgJ3N1YnNjcmliZScgbWV0aG9kYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gc3Vic2NyaWJlKHN0b3JlLCAuLi5jYWxsYmFja3MpIHtcbiAgICBpZiAoc3RvcmUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICB9XG4gICAgY29uc3QgdW5zdWIgPSBzdG9yZS5zdWJzY3JpYmUoLi4uY2FsbGJhY2tzKTtcbiAgICByZXR1cm4gdW5zdWIudW5zdWJzY3JpYmUgPyAoKSA9PiB1bnN1Yi51bnN1YnNjcmliZSgpIDogdW5zdWI7XG59XG5mdW5jdGlvbiBnZXRfc3RvcmVfdmFsdWUoc3RvcmUpIHtcbiAgICBsZXQgdmFsdWU7XG4gICAgc3Vic2NyaWJlKHN0b3JlLCBfID0+IHZhbHVlID0gXykoKTtcbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBjb21wb25lbnRfc3Vic2NyaWJlKGNvbXBvbmVudCwgc3RvcmUsIGNhbGxiYWNrKSB7XG4gICAgY29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kucHVzaChzdWJzY3JpYmUoc3RvcmUsIGNhbGxiYWNrKSk7XG59XG5mdW5jdGlvbiBjcmVhdGVfc2xvdChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG4gICAgaWYgKGRlZmluaXRpb24pIHtcbiAgICAgICAgY29uc3Qgc2xvdF9jdHggPSBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pO1xuICAgICAgICByZXR1cm4gZGVmaW5pdGlvblswXShzbG90X2N0eCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0X3Nsb3RfY29udGV4dChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG4gICAgcmV0dXJuIGRlZmluaXRpb25bMV0gJiYgZm5cbiAgICAgICAgPyBhc3NpZ24oJCRzY29wZS5jdHguc2xpY2UoKSwgZGVmaW5pdGlvblsxXShmbihjdHgpKSlcbiAgICAgICAgOiAkJHNjb3BlLmN0eDtcbn1cbmZ1bmN0aW9uIGdldF9zbG90X2NoYW5nZXMoZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGZuKSB7XG4gICAgaWYgKGRlZmluaXRpb25bMl0gJiYgZm4pIHtcbiAgICAgICAgY29uc3QgbGV0cyA9IGRlZmluaXRpb25bMl0oZm4oZGlydHkpKTtcbiAgICAgICAgaWYgKCQkc2NvcGUuZGlydHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxldHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBsZXRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkID0gW107XG4gICAgICAgICAgICBjb25zdCBsZW4gPSBNYXRoLm1heCgkJHNjb3BlLmRpcnR5Lmxlbmd0aCwgbGV0cy5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIG1lcmdlZFtpXSA9ICQkc2NvcGUuZGlydHlbaV0gfCBsZXRzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJCRzY29wZS5kaXJ0eSB8IGxldHM7XG4gICAgfVxuICAgIHJldHVybiAkJHNjb3BlLmRpcnR5O1xufVxuZnVuY3Rpb24gdXBkYXRlX3Nsb3Qoc2xvdCwgc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGRpcnR5LCBnZXRfc2xvdF9jaGFuZ2VzX2ZuLCBnZXRfc2xvdF9jb250ZXh0X2ZuKSB7XG4gICAgY29uc3Qgc2xvdF9jaGFuZ2VzID0gZ2V0X3Nsb3RfY2hhbmdlcyhzbG90X2RlZmluaXRpb24sICQkc2NvcGUsIGRpcnR5LCBnZXRfc2xvdF9jaGFuZ2VzX2ZuKTtcbiAgICBpZiAoc2xvdF9jaGFuZ2VzKSB7XG4gICAgICAgIGNvbnN0IHNsb3RfY29udGV4dCA9IGdldF9zbG90X2NvbnRleHQoc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGdldF9zbG90X2NvbnRleHRfZm4pO1xuICAgICAgICBzbG90LnAoc2xvdF9jb250ZXh0LCBzbG90X2NoYW5nZXMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZV9zbG90X3NwcmVhZChzbG90LCBzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZGlydHksIGdldF9zbG90X2NoYW5nZXNfZm4sIGdldF9zbG90X3NwcmVhZF9jaGFuZ2VzX2ZuLCBnZXRfc2xvdF9jb250ZXh0X2ZuKSB7XG4gICAgY29uc3Qgc2xvdF9jaGFuZ2VzID0gZ2V0X3Nsb3Rfc3ByZWFkX2NoYW5nZXNfZm4oZGlydHkpIHwgZ2V0X3Nsb3RfY2hhbmdlcyhzbG90X2RlZmluaXRpb24sICQkc2NvcGUsIGRpcnR5LCBnZXRfc2xvdF9jaGFuZ2VzX2ZuKTtcbiAgICBpZiAoc2xvdF9jaGFuZ2VzKSB7XG4gICAgICAgIGNvbnN0IHNsb3RfY29udGV4dCA9IGdldF9zbG90X2NvbnRleHQoc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGdldF9zbG90X2NvbnRleHRfZm4pO1xuICAgICAgICBzbG90LnAoc2xvdF9jb250ZXh0LCBzbG90X2NoYW5nZXMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGV4Y2x1ZGVfaW50ZXJuYWxfcHJvcHMocHJvcHMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGsgaW4gcHJvcHMpXG4gICAgICAgIGlmIChrWzBdICE9PSAnJCcpXG4gICAgICAgICAgICByZXN1bHRba10gPSBwcm9wc1trXTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY29tcHV0ZV9yZXN0X3Byb3BzKHByb3BzLCBrZXlzKSB7XG4gICAgY29uc3QgcmVzdCA9IHt9O1xuICAgIGtleXMgPSBuZXcgU2V0KGtleXMpO1xuICAgIGZvciAoY29uc3QgayBpbiBwcm9wcylcbiAgICAgICAgaWYgKCFrZXlzLmhhcyhrKSAmJiBrWzBdICE9PSAnJCcpXG4gICAgICAgICAgICByZXN0W2tdID0gcHJvcHNba107XG4gICAgcmV0dXJuIHJlc3Q7XG59XG5mdW5jdGlvbiBjb21wdXRlX3Nsb3RzKHNsb3RzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2xvdHMpIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gb25jZShmbikge1xuICAgIGxldCByYW4gPSBmYWxzZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHJhbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmFuID0gdHJ1ZTtcbiAgICAgICAgZm4uY2FsbCh0aGlzLCAuLi5hcmdzKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gbnVsbF90b19lbXB0eSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIHNldF9zdG9yZV92YWx1ZShzdG9yZSwgcmV0LCB2YWx1ZSA9IHJldCkge1xuICAgIHN0b3JlLnNldCh2YWx1ZSk7XG4gICAgcmV0dXJuIHJldDtcbn1cbmNvbnN0IGhhc19wcm9wID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG5mdW5jdGlvbiBhY3Rpb25fZGVzdHJveWVyKGFjdGlvbl9yZXN1bHQpIHtcbiAgICByZXR1cm4gYWN0aW9uX3Jlc3VsdCAmJiBpc19mdW5jdGlvbihhY3Rpb25fcmVzdWx0LmRlc3Ryb3kpID8gYWN0aW9uX3Jlc3VsdC5kZXN0cm95IDogbm9vcDtcbn1cblxuY29uc3QgaXNfY2xpZW50ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG5leHBvcnRzLm5vdyA9IGlzX2NsaWVudFxuICAgID8gKCkgPT4gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpXG4gICAgOiAoKSA9PiBEYXRlLm5vdygpO1xuZXhwb3J0cy5yYWYgPSBpc19jbGllbnQgPyBjYiA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpIDogbm9vcDtcbi8vIHVzZWQgaW50ZXJuYWxseSBmb3IgdGVzdGluZ1xuZnVuY3Rpb24gc2V0X25vdyhmbikge1xuICAgIGV4cG9ydHMubm93ID0gZm47XG59XG5mdW5jdGlvbiBzZXRfcmFmKGZuKSB7XG4gICAgZXhwb3J0cy5yYWYgPSBmbjtcbn1cblxuY29uc3QgdGFza3MgPSBuZXcgU2V0KCk7XG5mdW5jdGlvbiBydW5fdGFza3Mobm93KSB7XG4gICAgdGFza3MuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgaWYgKCF0YXNrLmMobm93KSkge1xuICAgICAgICAgICAgdGFza3MuZGVsZXRlKHRhc2spO1xuICAgICAgICAgICAgdGFzay5mKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAodGFza3Muc2l6ZSAhPT0gMClcbiAgICAgICAgZXhwb3J0cy5yYWYocnVuX3Rhc2tzKTtcbn1cbi8qKlxuICogRm9yIHRlc3RpbmcgcHVycG9zZXMgb25seSFcbiAqL1xuZnVuY3Rpb24gY2xlYXJfbG9vcHMoKSB7XG4gICAgdGFza3MuY2xlYXIoKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB0YXNrIHRoYXQgcnVucyBvbiBlYWNoIHJhZiBmcmFtZVxuICogdW50aWwgaXQgcmV0dXJucyBhIGZhbHN5IHZhbHVlIG9yIGlzIGFib3J0ZWRcbiAqL1xuZnVuY3Rpb24gbG9vcChjYWxsYmFjaykge1xuICAgIGxldCB0YXNrO1xuICAgIGlmICh0YXNrcy5zaXplID09PSAwKVxuICAgICAgICBleHBvcnRzLnJhZihydW5fdGFza3MpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHByb21pc2U6IG5ldyBQcm9taXNlKGZ1bGZpbGwgPT4ge1xuICAgICAgICAgICAgdGFza3MuYWRkKHRhc2sgPSB7IGM6IGNhbGxiYWNrLCBmOiBmdWxmaWxsIH0pO1xuICAgICAgICB9KSxcbiAgICAgICAgYWJvcnQoKSB7XG4gICAgICAgICAgICB0YXNrcy5kZWxldGUodGFzayk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBhcHBlbmQodGFyZ2V0LCBub2RlKSB7XG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKG5vZGUpO1xufVxuZnVuY3Rpb24gaW5zZXJ0KHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG4gICAgdGFyZ2V0Lmluc2VydEJlZm9yZShub2RlLCBhbmNob3IgfHwgbnVsbCk7XG59XG5mdW5jdGlvbiBkZXRhY2gobm9kZSkge1xuICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbn1cbmZ1bmN0aW9uIGRlc3Ryb3lfZWFjaChpdGVyYXRpb25zLCBkZXRhY2hpbmcpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZXJhdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGl0ZXJhdGlvbnNbaV0pXG4gICAgICAgICAgICBpdGVyYXRpb25zW2ldLmQoZGV0YWNoaW5nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBlbGVtZW50KG5hbWUpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTtcbn1cbmZ1bmN0aW9uIGVsZW1lbnRfaXMobmFtZSwgaXMpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lLCB7IGlzIH0pO1xufVxuZnVuY3Rpb24gb2JqZWN0X3dpdGhvdXRfcHJvcGVydGllcyhvYmosIGV4Y2x1ZGUpIHtcbiAgICBjb25zdCB0YXJnZXQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGsgaW4gb2JqKSB7XG4gICAgICAgIGlmIChoYXNfcHJvcChvYmosIGspXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAmJiBleGNsdWRlLmluZGV4T2YoaykgPT09IC0xKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB0YXJnZXRba10gPSBvYmpba107XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIHN2Z19lbGVtZW50KG5hbWUpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIG5hbWUpO1xufVxuZnVuY3Rpb24gdGV4dChkYXRhKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRhdGEpO1xufVxuZnVuY3Rpb24gc3BhY2UoKSB7XG4gICAgcmV0dXJuIHRleHQoJyAnKTtcbn1cbmZ1bmN0aW9uIGVtcHR5KCkge1xuICAgIHJldHVybiB0ZXh0KCcnKTtcbn1cbmZ1bmN0aW9uIGxpc3Rlbihub2RlLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgcmV0dXJuICgpID0+IG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBwcmV2ZW50X2RlZmF1bHQoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG59XG5mdW5jdGlvbiBzdG9wX3Byb3BhZ2F0aW9uKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHNlbGYoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcylcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG59XG5mdW5jdGlvbiBhdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICBlbHNlIGlmIChub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpICE9PSB2YWx1ZSlcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBzZXRfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobm9kZS5fX3Byb3RvX18pO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZXNba2V5XSA9PSBudWxsKSB7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ3N0eWxlJykge1xuICAgICAgICAgICAgbm9kZS5zdHlsZS5jc3NUZXh0ID0gYXR0cmlidXRlc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ19fdmFsdWUnKSB7XG4gICAgICAgICAgICBub2RlLnZhbHVlID0gbm9kZVtrZXldID0gYXR0cmlidXRlc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlc2NyaXB0b3JzW2tleV0gJiYgZGVzY3JpcHRvcnNba2V5XS5zZXQpIHtcbiAgICAgICAgICAgIG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0X3N2Z19hdHRyaWJ1dGVzKG5vZGUsIGF0dHJpYnV0ZXMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldF9jdXN0b21fZWxlbWVudF9kYXRhKG5vZGUsIHByb3AsIHZhbHVlKSB7XG4gICAgaWYgKHByb3AgaW4gbm9kZSkge1xuICAgICAgICBub2RlW3Byb3BdID0gdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhdHRyKG5vZGUsIHByb3AsIHZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiB4bGlua19hdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICBub2RlLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgYXR0cmlidXRlLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBnZXRfYmluZGluZ19ncm91cF92YWx1ZShncm91cCwgX192YWx1ZSwgY2hlY2tlZCkge1xuICAgIGNvbnN0IHZhbHVlID0gbmV3IFNldCgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXAubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGdyb3VwW2ldLmNoZWNrZWQpXG4gICAgICAgICAgICB2YWx1ZS5hZGQoZ3JvdXBbaV0uX192YWx1ZSk7XG4gICAgfVxuICAgIGlmICghY2hlY2tlZCkge1xuICAgICAgICB2YWx1ZS5kZWxldGUoX192YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBBcnJheS5mcm9tKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHRvX251bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gJycgPyBudWxsIDogK3ZhbHVlO1xufVxuZnVuY3Rpb24gdGltZV9yYW5nZXNfdG9fYXJyYXkocmFuZ2VzKSB7XG4gICAgY29uc3QgYXJyYXkgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBhcnJheS5wdXNoKHsgc3RhcnQ6IHJhbmdlcy5zdGFydChpKSwgZW5kOiByYW5nZXMuZW5kKGkpIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59XG5mdW5jdGlvbiBjaGlsZHJlbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oZWxlbWVudC5jaGlsZE5vZGVzKTtcbn1cbmZ1bmN0aW9uIGNsYWltX2VsZW1lbnQobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIHN2Zykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgbGV0IGogPSAwO1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlID0gW107XG4gICAgICAgICAgICB3aGlsZSAoaiA8IG5vZGUuYXR0cmlidXRlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBub2RlLmF0dHJpYnV0ZXNbaisrXTtcbiAgICAgICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZS5wdXNoKGF0dHJpYnV0ZS5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IHJlbW92ZS5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKHJlbW92ZVtrXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbm9kZXMuc3BsaWNlKGksIDEpWzBdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdmcgPyBzdmdfZWxlbWVudChuYW1lKSA6IGVsZW1lbnQobmFtZSk7XG59XG5mdW5jdGlvbiBjbGFpbV90ZXh0KG5vZGVzLCBkYXRhKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAzKSB7XG4gICAgICAgICAgICBub2RlLmRhdGEgPSAnJyArIGRhdGE7XG4gICAgICAgICAgICByZXR1cm4gbm9kZXMuc3BsaWNlKGksIDEpWzBdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0ZXh0KGRhdGEpO1xufVxuZnVuY3Rpb24gY2xhaW1fc3BhY2Uobm9kZXMpIHtcbiAgICByZXR1cm4gY2xhaW1fdGV4dChub2RlcywgJyAnKTtcbn1cbmZ1bmN0aW9uIHNldF9kYXRhKHRleHQsIGRhdGEpIHtcbiAgICBkYXRhID0gJycgKyBkYXRhO1xuICAgIGlmICh0ZXh0Lndob2xlVGV4dCAhPT0gZGF0YSlcbiAgICAgICAgdGV4dC5kYXRhID0gZGF0YTtcbn1cbmZ1bmN0aW9uIHNldF9pbnB1dF92YWx1ZShpbnB1dCwgdmFsdWUpIHtcbiAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xufVxuZnVuY3Rpb24gc2V0X2lucHV0X3R5cGUoaW5wdXQsIHR5cGUpIHtcbiAgICB0cnkge1xuICAgICAgICBpbnB1dC50eXBlID0gdHlwZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldF9zdHlsZShub2RlLCBrZXksIHZhbHVlLCBpbXBvcnRhbnQpIHtcbiAgICBub2RlLnN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFsdWUsIGltcG9ydGFudCA/ICdpbXBvcnRhbnQnIDogJycpO1xufVxuZnVuY3Rpb24gc2VsZWN0X29wdGlvbihzZWxlY3QsIHZhbHVlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Qub3B0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tpXTtcbiAgICAgICAgaWYgKG9wdGlvbi5fX3ZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHNlbGVjdF9vcHRpb25zKHNlbGVjdCwgdmFsdWUpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW2ldO1xuICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB+dmFsdWUuaW5kZXhPZihvcHRpb24uX192YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2VsZWN0X3ZhbHVlKHNlbGVjdCkge1xuICAgIGNvbnN0IHNlbGVjdGVkX29wdGlvbiA9IHNlbGVjdC5xdWVyeVNlbGVjdG9yKCc6Y2hlY2tlZCcpIHx8IHNlbGVjdC5vcHRpb25zWzBdO1xuICAgIHJldHVybiBzZWxlY3RlZF9vcHRpb24gJiYgc2VsZWN0ZWRfb3B0aW9uLl9fdmFsdWU7XG59XG5mdW5jdGlvbiBzZWxlY3RfbXVsdGlwbGVfdmFsdWUoc2VsZWN0KSB7XG4gICAgcmV0dXJuIFtdLm1hcC5jYWxsKHNlbGVjdC5xdWVyeVNlbGVjdG9yQWxsKCc6Y2hlY2tlZCcpLCBvcHRpb24gPT4gb3B0aW9uLl9fdmFsdWUpO1xufVxuLy8gdW5mb3J0dW5hdGVseSB0aGlzIGNhbid0IGJlIGEgY29uc3RhbnQgYXMgdGhhdCB3b3VsZG4ndCBiZSB0cmVlLXNoYWtlYWJsZVxuLy8gc28gd2UgY2FjaGUgdGhlIHJlc3VsdCBpbnN0ZWFkXG5sZXQgY3Jvc3NvcmlnaW47XG5mdW5jdGlvbiBpc19jcm9zc29yaWdpbigpIHtcbiAgICBpZiAoY3Jvc3NvcmlnaW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjcm9zc29yaWdpbiA9IGZhbHNlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB2b2lkIHdpbmRvdy5wYXJlbnQuZG9jdW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjcm9zc29yaWdpbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNyb3Nzb3JpZ2luO1xufVxuZnVuY3Rpb24gYWRkX3Jlc2l6ZV9saXN0ZW5lcihub2RlLCBmbikge1xuICAgIGNvbnN0IGNvbXB1dGVkX3N0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICBpZiAoY29tcHV0ZWRfc3R5bGUucG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG4gICAgICAgIG5vZGUuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIH1cbiAgICBjb25zdCBpZnJhbWUgPSBlbGVtZW50KCdpZnJhbWUnKTtcbiAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5OiBibG9jazsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7ICcgK1xuICAgICAgICAnb3ZlcmZsb3c6IGhpZGRlbjsgYm9yZGVyOiAwOyBvcGFjaXR5OiAwOyBwb2ludGVyLWV2ZW50czogbm9uZTsgei1pbmRleDogLTE7Jyk7XG4gICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIGlmcmFtZS50YWJJbmRleCA9IC0xO1xuICAgIGNvbnN0IGNyb3Nzb3JpZ2luID0gaXNfY3Jvc3NvcmlnaW4oKTtcbiAgICBsZXQgdW5zdWJzY3JpYmU7XG4gICAgaWYgKGNyb3Nzb3JpZ2luKSB7XG4gICAgICAgIGlmcmFtZS5zcmMgPSBcImRhdGE6dGV4dC9odG1sLDxzY3JpcHQ+b25yZXNpemU9ZnVuY3Rpb24oKXtwYXJlbnQucG9zdE1lc3NhZ2UoMCwnKicpfTwvc2NyaXB0PlwiO1xuICAgICAgICB1bnN1YnNjcmliZSA9IGxpc3Rlbih3aW5kb3csICdtZXNzYWdlJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSBpZnJhbWUuY29udGVudFdpbmRvdylcbiAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmcmFtZS5zcmMgPSAnYWJvdXQ6YmxhbmsnO1xuICAgICAgICBpZnJhbWUub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgdW5zdWJzY3JpYmUgPSBsaXN0ZW4oaWZyYW1lLmNvbnRlbnRXaW5kb3csICdyZXNpemUnLCBmbik7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGFwcGVuZChub2RlLCBpZnJhbWUpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChjcm9zc29yaWdpbikge1xuICAgICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh1bnN1YnNjcmliZSAmJiBpZnJhbWUuY29udGVudFdpbmRvdykge1xuICAgICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgICBkZXRhY2goaWZyYW1lKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gdG9nZ2xlX2NsYXNzKGVsZW1lbnQsIG5hbWUsIHRvZ2dsZSkge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0W3RvZ2dsZSA/ICdhZGQnIDogJ3JlbW92ZSddKG5hbWUpO1xufVxuZnVuY3Rpb24gY3VzdG9tX2V2ZW50KHR5cGUsIGRldGFpbCkge1xuICAgIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgICBlLmluaXRDdXN0b21FdmVudCh0eXBlLCBmYWxzZSwgZmFsc2UsIGRldGFpbCk7XG4gICAgcmV0dXJuIGU7XG59XG5mdW5jdGlvbiBxdWVyeV9zZWxlY3Rvcl9hbGwoc2VsZWN0b3IsIHBhcmVudCA9IGRvY3VtZW50LmJvZHkpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShwYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xufVxuY2xhc3MgSHRtbFRhZyB7XG4gICAgY29uc3RydWN0b3IoYW5jaG9yID0gbnVsbCkge1xuICAgICAgICB0aGlzLmEgPSBhbmNob3I7XG4gICAgICAgIHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG4gICAgfVxuICAgIG0oaHRtbCwgdGFyZ2V0LCBhbmNob3IgPSBudWxsKSB7XG4gICAgICAgIGlmICghdGhpcy5lKSB7XG4gICAgICAgICAgICB0aGlzLmUgPSBlbGVtZW50KHRhcmdldC5ub2RlTmFtZSk7XG4gICAgICAgICAgICB0aGlzLnQgPSB0YXJnZXQ7XG4gICAgICAgICAgICB0aGlzLmgoaHRtbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pKGFuY2hvcik7XG4gICAgfVxuICAgIGgoaHRtbCkge1xuICAgICAgICB0aGlzLmUuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgdGhpcy5uID0gQXJyYXkuZnJvbSh0aGlzLmUuY2hpbGROb2Rlcyk7XG4gICAgfVxuICAgIGkoYW5jaG9yKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBpbnNlcnQodGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcChodG1sKSB7XG4gICAgICAgIHRoaXMuZCgpO1xuICAgICAgICB0aGlzLmgoaHRtbCk7XG4gICAgICAgIHRoaXMuaSh0aGlzLmEpO1xuICAgIH1cbiAgICBkKCkge1xuICAgICAgICB0aGlzLm4uZm9yRWFjaChkZXRhY2gpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGF0dHJpYnV0ZV90b19vYmplY3QoYXR0cmlidXRlcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgcmVzdWx0W2F0dHJpYnV0ZS5uYW1lXSA9IGF0dHJpYnV0ZS52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldF9jdXN0b21fZWxlbWVudHNfc2xvdHMoZWxlbWVudCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIHJlc3VsdFtub2RlLnNsb3QgfHwgJ2RlZmF1bHQnXSA9IHRydWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuY29uc3QgYWN0aXZlX2RvY3MgPSBuZXcgU2V0KCk7XG5sZXQgYWN0aXZlID0gMDtcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXJrc2t5YXBwL3N0cmluZy1oYXNoL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG5mdW5jdGlvbiBoYXNoKHN0cikge1xuICAgIGxldCBoYXNoID0gNTM4MTtcbiAgICBsZXQgaSA9IHN0ci5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSlcbiAgICAgICAgaGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpIF4gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgcmV0dXJuIGhhc2ggPj4+IDA7XG59XG5mdW5jdGlvbiBjcmVhdGVfcnVsZShub2RlLCBhLCBiLCBkdXJhdGlvbiwgZGVsYXksIGVhc2UsIGZuLCB1aWQgPSAwKSB7XG4gICAgY29uc3Qgc3RlcCA9IDE2LjY2NiAvIGR1cmF0aW9uO1xuICAgIGxldCBrZXlmcmFtZXMgPSAne1xcbic7XG4gICAgZm9yIChsZXQgcCA9IDA7IHAgPD0gMTsgcCArPSBzdGVwKSB7XG4gICAgICAgIGNvbnN0IHQgPSBhICsgKGIgLSBhKSAqIGVhc2UocCk7XG4gICAgICAgIGtleWZyYW1lcyArPSBwICogMTAwICsgYCV7JHtmbih0LCAxIC0gdCl9fVxcbmA7XG4gICAgfVxuICAgIGNvbnN0IHJ1bGUgPSBrZXlmcmFtZXMgKyBgMTAwJSB7JHtmbihiLCAxIC0gYil9fVxcbn1gO1xuICAgIGNvbnN0IG5hbWUgPSBgX19zdmVsdGVfJHtoYXNoKHJ1bGUpfV8ke3VpZH1gO1xuICAgIGNvbnN0IGRvYyA9IG5vZGUub3duZXJEb2N1bWVudDtcbiAgICBhY3RpdmVfZG9jcy5hZGQoZG9jKTtcbiAgICBjb25zdCBzdHlsZXNoZWV0ID0gZG9jLl9fc3ZlbHRlX3N0eWxlc2hlZXQgfHwgKGRvYy5fX3N2ZWx0ZV9zdHlsZXNoZWV0ID0gZG9jLmhlYWQuYXBwZW5kQ2hpbGQoZWxlbWVudCgnc3R5bGUnKSkuc2hlZXQpO1xuICAgIGNvbnN0IGN1cnJlbnRfcnVsZXMgPSBkb2MuX19zdmVsdGVfcnVsZXMgfHwgKGRvYy5fX3N2ZWx0ZV9ydWxlcyA9IHt9KTtcbiAgICBpZiAoIWN1cnJlbnRfcnVsZXNbbmFtZV0pIHtcbiAgICAgICAgY3VycmVudF9ydWxlc1tuYW1lXSA9IHRydWU7XG4gICAgICAgIHN0eWxlc2hlZXQuaW5zZXJ0UnVsZShgQGtleWZyYW1lcyAke25hbWV9ICR7cnVsZX1gLCBzdHlsZXNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxuICAgIGNvbnN0IGFuaW1hdGlvbiA9IG5vZGUuc3R5bGUuYW5pbWF0aW9uIHx8ICcnO1xuICAgIG5vZGUuc3R5bGUuYW5pbWF0aW9uID0gYCR7YW5pbWF0aW9uID8gYCR7YW5pbWF0aW9ufSwgYCA6ICcnfSR7bmFtZX0gJHtkdXJhdGlvbn1tcyBsaW5lYXIgJHtkZWxheX1tcyAxIGJvdGhgO1xuICAgIGFjdGl2ZSArPSAxO1xuICAgIHJldHVybiBuYW1lO1xufVxuZnVuY3Rpb24gZGVsZXRlX3J1bGUobm9kZSwgbmFtZSkge1xuICAgIGNvbnN0IHByZXZpb3VzID0gKG5vZGUuc3R5bGUuYW5pbWF0aW9uIHx8ICcnKS5zcGxpdCgnLCAnKTtcbiAgICBjb25zdCBuZXh0ID0gcHJldmlvdXMuZmlsdGVyKG5hbWVcbiAgICAgICAgPyBhbmltID0+IGFuaW0uaW5kZXhPZihuYW1lKSA8IDAgLy8gcmVtb3ZlIHNwZWNpZmljIGFuaW1hdGlvblxuICAgICAgICA6IGFuaW0gPT4gYW5pbS5pbmRleE9mKCdfX3N2ZWx0ZScpID09PSAtMSAvLyByZW1vdmUgYWxsIFN2ZWx0ZSBhbmltYXRpb25zXG4gICAgKTtcbiAgICBjb25zdCBkZWxldGVkID0gcHJldmlvdXMubGVuZ3RoIC0gbmV4dC5sZW5ndGg7XG4gICAgaWYgKGRlbGV0ZWQpIHtcbiAgICAgICAgbm9kZS5zdHlsZS5hbmltYXRpb24gPSBuZXh0LmpvaW4oJywgJyk7XG4gICAgICAgIGFjdGl2ZSAtPSBkZWxldGVkO1xuICAgICAgICBpZiAoIWFjdGl2ZSlcbiAgICAgICAgICAgIGNsZWFyX3J1bGVzKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY2xlYXJfcnVsZXMoKSB7XG4gICAgZXhwb3J0cy5yYWYoKCkgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBhY3RpdmVfZG9jcy5mb3JFYWNoKGRvYyA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdHlsZXNoZWV0ID0gZG9jLl9fc3ZlbHRlX3N0eWxlc2hlZXQ7XG4gICAgICAgICAgICBsZXQgaSA9IHN0eWxlc2hlZXQuY3NzUnVsZXMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKGktLSlcbiAgICAgICAgICAgICAgICBzdHlsZXNoZWV0LmRlbGV0ZVJ1bGUoaSk7XG4gICAgICAgICAgICBkb2MuX19zdmVsdGVfcnVsZXMgPSB7fTtcbiAgICAgICAgfSk7XG4gICAgICAgIGFjdGl2ZV9kb2NzLmNsZWFyKCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9hbmltYXRpb24obm9kZSwgZnJvbSwgZm4sIHBhcmFtcykge1xuICAgIGlmICghZnJvbSlcbiAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgY29uc3QgdG8gPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmIChmcm9tLmxlZnQgPT09IHRvLmxlZnQgJiYgZnJvbS5yaWdodCA9PT0gdG8ucmlnaHQgJiYgZnJvbS50b3AgPT09IHRvLnRvcCAmJiBmcm9tLmJvdHRvbSA9PT0gdG8uYm90dG9tKVxuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIGVhc2luZyA9IGlkZW50aXR5LCBcbiAgICAvLyBAdHMtaWdub3JlIHRvZG86IHNob3VsZCB0aGlzIGJlIHNlcGFyYXRlZCBmcm9tIGRlc3RydWN0dXJpbmc/IE9yIHN0YXJ0L2VuZCBhZGRlZCB0byBwdWJsaWMgYXBpIGFuZCBkb2N1bWVudGF0aW9uP1xuICAgIHN0YXJ0OiBzdGFydF90aW1lID0gZXhwb3J0cy5ub3coKSArIGRlbGF5LCBcbiAgICAvLyBAdHMtaWdub3JlIHRvZG86XG4gICAgZW5kID0gc3RhcnRfdGltZSArIGR1cmF0aW9uLCB0aWNrID0gbm9vcCwgY3NzIH0gPSBmbihub2RlLCB7IGZyb20sIHRvIH0sIHBhcmFtcyk7XG4gICAgbGV0IHJ1bm5pbmcgPSB0cnVlO1xuICAgIGxldCBzdGFydGVkID0gZmFsc2U7XG4gICAgbGV0IG5hbWU7XG4gICAgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIGlmIChjc3MpIHtcbiAgICAgICAgICAgIG5hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAwLCAxLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlbGF5KSB7XG4gICAgICAgICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICBpZiAoY3NzKVxuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSwgbmFtZSk7XG4gICAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgbG9vcChub3cgPT4ge1xuICAgICAgICBpZiAoIXN0YXJ0ZWQgJiYgbm93ID49IHN0YXJ0X3RpbWUpIHtcbiAgICAgICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydGVkICYmIG5vdyA+PSBlbmQpIHtcbiAgICAgICAgICAgIHRpY2soMSwgMCk7XG4gICAgICAgICAgICBzdG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFydW5uaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBub3cgLSBzdGFydF90aW1lO1xuICAgICAgICAgICAgY29uc3QgdCA9IDAgKyAxICogZWFzaW5nKHAgLyBkdXJhdGlvbik7XG4gICAgICAgICAgICB0aWNrKHQsIDEgLSB0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgICBzdGFydCgpO1xuICAgIHRpY2soMCwgMSk7XG4gICAgcmV0dXJuIHN0b3A7XG59XG5mdW5jdGlvbiBmaXhfcG9zaXRpb24obm9kZSkge1xuICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICBpZiAoc3R5bGUucG9zaXRpb24gIT09ICdhYnNvbHV0ZScgJiYgc3R5bGUucG9zaXRpb24gIT09ICdmaXhlZCcpIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBzdHlsZTtcbiAgICAgICAgY29uc3QgYSA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIG5vZGUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBub2RlLnN0eWxlLndpZHRoID0gd2lkdGg7XG4gICAgICAgIG5vZGUuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBhZGRfdHJhbnNmb3JtKG5vZGUsIGEpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZF90cmFuc2Zvcm0obm9kZSwgYSkge1xuICAgIGNvbnN0IGIgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmIChhLmxlZnQgIT09IGIubGVmdCB8fCBhLnRvcCAhPT0gYi50b3ApIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBzdHlsZS50cmFuc2Zvcm0gPT09ICdub25lJyA/ICcnIDogc3R5bGUudHJhbnNmb3JtO1xuICAgICAgICBub2RlLnN0eWxlLnRyYW5zZm9ybSA9IGAke3RyYW5zZm9ybX0gdHJhbnNsYXRlKCR7YS5sZWZ0IC0gYi5sZWZ0fXB4LCAke2EudG9wIC0gYi50b3B9cHgpYDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpIHtcbiAgICBleHBvcnRzLmN1cnJlbnRfY29tcG9uZW50ID0gY29tcG9uZW50O1xufVxuZnVuY3Rpb24gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkge1xuICAgIGlmICghZXhwb3J0cy5jdXJyZW50X2NvbXBvbmVudClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiBjYWxsZWQgb3V0c2lkZSBjb21wb25lbnQgaW5pdGlhbGl6YXRpb24nKTtcbiAgICByZXR1cm4gZXhwb3J0cy5jdXJyZW50X2NvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIGJlZm9yZVVwZGF0ZShmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmJlZm9yZV91cGRhdGUucHVzaChmbik7XG59XG5mdW5jdGlvbiBvbk1vdW50KGZuKSB7XG4gICAgZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQub25fbW91bnQucHVzaChmbik7XG59XG5mdW5jdGlvbiBhZnRlclVwZGF0ZShmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmFmdGVyX3VwZGF0ZS5wdXNoKGZuKTtcbn1cbmZ1bmN0aW9uIG9uRGVzdHJveShmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLm9uX2Rlc3Ryb3kucHVzaChmbik7XG59XG5mdW5jdGlvbiBjcmVhdGVFdmVudERpc3BhdGNoZXIoKSB7XG4gICAgY29uc3QgY29tcG9uZW50ID0gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCk7XG4gICAgcmV0dXJuICh0eXBlLCBkZXRhaWwpID0+IHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1t0eXBlXTtcbiAgICAgICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICAgICAgLy8gVE9ETyBhcmUgdGhlcmUgc2l0dWF0aW9ucyB3aGVyZSBldmVudHMgY291bGQgYmUgZGlzcGF0Y2hlZFxuICAgICAgICAgICAgLy8gaW4gYSBzZXJ2ZXIgKG5vbi1ET00pIGVudmlyb25tZW50P1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBjdXN0b21fZXZlbnQodHlwZSwgZGV0YWlsKTtcbiAgICAgICAgICAgIGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goZm4gPT4ge1xuICAgICAgICAgICAgICAgIGZuLmNhbGwoY29tcG9uZW50LCBldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBzZXRDb250ZXh0KGtleSwgY29udGV4dCkge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuc2V0KGtleSwgY29udGV4dCk7XG59XG5mdW5jdGlvbiBnZXRDb250ZXh0KGtleSkge1xuICAgIHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LmdldChrZXkpO1xufVxuZnVuY3Rpb24gaGFzQ29udGV4dChrZXkpIHtcbiAgICByZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5oYXMoa2V5KTtcbn1cbi8vIFRPRE8gZmlndXJlIG91dCBpZiB3ZSBzdGlsbCB3YW50IHRvIHN1cHBvcnRcbi8vIHNob3J0aGFuZCBldmVudHMsIG9yIGlmIHdlIHdhbnQgdG8gaW1wbGVtZW50XG4vLyBhIHJlYWwgYnViYmxpbmcgbWVjaGFuaXNtXG5mdW5jdGlvbiBidWJibGUoY29tcG9uZW50LCBldmVudCkge1xuICAgIGNvbnN0IGNhbGxiYWNrcyA9IGNvbXBvbmVudC4kJC5jYWxsYmFja3NbZXZlbnQudHlwZV07XG4gICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICBjYWxsYmFja3Muc2xpY2UoKS5mb3JFYWNoKGZuID0+IGZuKGV2ZW50KSk7XG4gICAgfVxufVxuXG5jb25zdCBkaXJ0eV9jb21wb25lbnRzID0gW107XG5jb25zdCBpbnRyb3MgPSB7IGVuYWJsZWQ6IGZhbHNlIH07XG5jb25zdCBiaW5kaW5nX2NhbGxiYWNrcyA9IFtdO1xuY29uc3QgcmVuZGVyX2NhbGxiYWNrcyA9IFtdO1xuY29uc3QgZmx1c2hfY2FsbGJhY2tzID0gW107XG5jb25zdCByZXNvbHZlZF9wcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5sZXQgdXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuZnVuY3Rpb24gc2NoZWR1bGVfdXBkYXRlKCkge1xuICAgIGlmICghdXBkYXRlX3NjaGVkdWxlZCkge1xuICAgICAgICB1cGRhdGVfc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgcmVzb2x2ZWRfcHJvbWlzZS50aGVuKGZsdXNoKTtcbiAgICB9XG59XG5mdW5jdGlvbiB0aWNrKCkge1xuICAgIHNjaGVkdWxlX3VwZGF0ZSgpO1xuICAgIHJldHVybiByZXNvbHZlZF9wcm9taXNlO1xufVxuZnVuY3Rpb24gYWRkX3JlbmRlcl9jYWxsYmFjayhmbikge1xuICAgIHJlbmRlcl9jYWxsYmFja3MucHVzaChmbik7XG59XG5mdW5jdGlvbiBhZGRfZmx1c2hfY2FsbGJhY2soZm4pIHtcbiAgICBmbHVzaF9jYWxsYmFja3MucHVzaChmbik7XG59XG5sZXQgZmx1c2hpbmcgPSBmYWxzZTtcbmNvbnN0IHNlZW5fY2FsbGJhY2tzID0gbmV3IFNldCgpO1xuZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgaWYgKGZsdXNoaW5nKVxuICAgICAgICByZXR1cm47XG4gICAgZmx1c2hpbmcgPSB0cnVlO1xuICAgIGRvIHtcbiAgICAgICAgLy8gZmlyc3QsIGNhbGwgYmVmb3JlVXBkYXRlIGZ1bmN0aW9uc1xuICAgICAgICAvLyBhbmQgdXBkYXRlIGNvbXBvbmVudHNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXJ0eV9jb21wb25lbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBkaXJ0eV9jb21wb25lbnRzW2ldO1xuICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCk7XG4gICAgICAgICAgICB1cGRhdGUoY29tcG9uZW50LiQkKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQobnVsbCk7XG4gICAgICAgIGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoID0gMDtcbiAgICAgICAgd2hpbGUgKGJpbmRpbmdfY2FsbGJhY2tzLmxlbmd0aClcbiAgICAgICAgICAgIGJpbmRpbmdfY2FsbGJhY2tzLnBvcCgpKCk7XG4gICAgICAgIC8vIHRoZW4sIG9uY2UgY29tcG9uZW50cyBhcmUgdXBkYXRlZCwgY2FsbFxuICAgICAgICAvLyBhZnRlclVwZGF0ZSBmdW5jdGlvbnMuIFRoaXMgbWF5IGNhdXNlXG4gICAgICAgIC8vIHN1YnNlcXVlbnQgdXBkYXRlcy4uLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlcl9jYWxsYmFja3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gcmVuZGVyX2NhbGxiYWNrc1tpXTtcbiAgICAgICAgICAgIGlmICghc2Vlbl9jYWxsYmFja3MuaGFzKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgICAgIC8vIC4uLnNvIGd1YXJkIGFnYWluc3QgaW5maW5pdGUgbG9vcHNcbiAgICAgICAgICAgICAgICBzZWVuX2NhbGxiYWNrcy5hZGQoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyX2NhbGxiYWNrcy5sZW5ndGggPSAwO1xuICAgIH0gd2hpbGUgKGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoKTtcbiAgICB3aGlsZSAoZmx1c2hfY2FsbGJhY2tzLmxlbmd0aCkge1xuICAgICAgICBmbHVzaF9jYWxsYmFja3MucG9wKCkoKTtcbiAgICB9XG4gICAgdXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuICAgIGZsdXNoaW5nID0gZmFsc2U7XG4gICAgc2Vlbl9jYWxsYmFja3MuY2xlYXIoKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZSgkJCkge1xuICAgIGlmICgkJC5mcmFnbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAkJC51cGRhdGUoKTtcbiAgICAgICAgcnVuX2FsbCgkJC5iZWZvcmVfdXBkYXRlKTtcbiAgICAgICAgY29uc3QgZGlydHkgPSAkJC5kaXJ0eTtcbiAgICAgICAgJCQuZGlydHkgPSBbLTFdO1xuICAgICAgICAkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5wKCQkLmN0eCwgZGlydHkpO1xuICAgICAgICAkJC5hZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcbiAgICB9XG59XG5cbmxldCBwcm9taXNlO1xuZnVuY3Rpb24gd2FpdCgpIHtcbiAgICBpZiAoIXByb21pc2UpIHtcbiAgICAgICAgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICBwcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcHJvbWlzZSA9IG51bGw7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoKG5vZGUsIGRpcmVjdGlvbiwga2luZCkge1xuICAgIG5vZGUuZGlzcGF0Y2hFdmVudChjdXN0b21fZXZlbnQoYCR7ZGlyZWN0aW9uID8gJ2ludHJvJyA6ICdvdXRybyd9JHtraW5kfWApKTtcbn1cbmNvbnN0IG91dHJvaW5nID0gbmV3IFNldCgpO1xubGV0IG91dHJvcztcbmZ1bmN0aW9uIGdyb3VwX291dHJvcygpIHtcbiAgICBvdXRyb3MgPSB7XG4gICAgICAgIHI6IDAsXG4gICAgICAgIGM6IFtdLFxuICAgICAgICBwOiBvdXRyb3MgLy8gcGFyZW50IGdyb3VwXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNoZWNrX291dHJvcygpIHtcbiAgICBpZiAoIW91dHJvcy5yKSB7XG4gICAgICAgIHJ1bl9hbGwob3V0cm9zLmMpO1xuICAgIH1cbiAgICBvdXRyb3MgPSBvdXRyb3MucDtcbn1cbmZ1bmN0aW9uIHRyYW5zaXRpb25faW4oYmxvY2ssIGxvY2FsKSB7XG4gICAgaWYgKGJsb2NrICYmIGJsb2NrLmkpIHtcbiAgICAgICAgb3V0cm9pbmcuZGVsZXRlKGJsb2NrKTtcbiAgICAgICAgYmxvY2suaShsb2NhbCk7XG4gICAgfVxufVxuZnVuY3Rpb24gdHJhbnNpdGlvbl9vdXQoYmxvY2ssIGxvY2FsLCBkZXRhY2gsIGNhbGxiYWNrKSB7XG4gICAgaWYgKGJsb2NrICYmIGJsb2NrLm8pIHtcbiAgICAgICAgaWYgKG91dHJvaW5nLmhhcyhibG9jaykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIG91dHJvaW5nLmFkZChibG9jayk7XG4gICAgICAgIG91dHJvcy5jLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgb3V0cm9pbmcuZGVsZXRlKGJsb2NrKTtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGlmIChkZXRhY2gpXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLmQoMSk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGJsb2NrLm8obG9jYWwpO1xuICAgIH1cbn1cbmNvbnN0IG51bGxfdHJhbnNpdGlvbiA9IHsgZHVyYXRpb246IDAgfTtcbmZ1bmN0aW9uIGNyZWF0ZV9pbl90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMpIHtcbiAgICBsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zKTtcbiAgICBsZXQgcnVubmluZyA9IGZhbHNlO1xuICAgIGxldCBhbmltYXRpb25fbmFtZTtcbiAgICBsZXQgdGFzaztcbiAgICBsZXQgdWlkID0gMDtcbiAgICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgICBpZiAoYW5pbWF0aW9uX25hbWUpXG4gICAgICAgICAgICBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdvKCkge1xuICAgICAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIGVhc2luZyA9IGlkZW50aXR5LCB0aWNrID0gbm9vcCwgY3NzIH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuICAgICAgICBpZiAoY3NzKVxuICAgICAgICAgICAgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAwLCAxLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzLCB1aWQrKyk7XG4gICAgICAgIHRpY2soMCwgMSk7XG4gICAgICAgIGNvbnN0IHN0YXJ0X3RpbWUgPSBleHBvcnRzLm5vdygpICsgZGVsYXk7XG4gICAgICAgIGNvbnN0IGVuZF90aW1lID0gc3RhcnRfdGltZSArIGR1cmF0aW9uO1xuICAgICAgICBpZiAodGFzaylcbiAgICAgICAgICAgIHRhc2suYWJvcnQoKTtcbiAgICAgICAgcnVubmluZyA9IHRydWU7XG4gICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ3N0YXJ0JykpO1xuICAgICAgICB0YXNrID0gbG9vcChub3cgPT4ge1xuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAobm93ID49IGVuZF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2soMSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIHRydWUsICdlbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm93ID49IHN0YXJ0X3RpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IGVhc2luZygobm93IC0gc3RhcnRfdGltZSkgLyBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRpY2sodCwgMSAtIHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBydW5uaW5nO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGV0IHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydCgpIHtcbiAgICAgICAgICAgIGlmIChzdGFydGVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUpO1xuICAgICAgICAgICAgaWYgKGlzX2Z1bmN0aW9uKGNvbmZpZykpIHtcbiAgICAgICAgICAgICAgICBjb25maWcgPSBjb25maWcoKTtcbiAgICAgICAgICAgICAgICB3YWl0KCkudGhlbihnbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbnZhbGlkYXRlKCkge1xuICAgICAgICAgICAgc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBlbmQoKSB7XG4gICAgICAgICAgICBpZiAocnVubmluZykge1xuICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlX291dF90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMpIHtcbiAgICBsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zKTtcbiAgICBsZXQgcnVubmluZyA9IHRydWU7XG4gICAgbGV0IGFuaW1hdGlvbl9uYW1lO1xuICAgIGNvbnN0IGdyb3VwID0gb3V0cm9zO1xuICAgIGdyb3VwLnIgKz0gMTtcbiAgICBmdW5jdGlvbiBnbygpIHtcbiAgICAgICAgY29uc3QgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gMzAwLCBlYXNpbmcgPSBpZGVudGl0eSwgdGljayA9IG5vb3AsIGNzcyB9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcbiAgICAgICAgaWYgKGNzcylcbiAgICAgICAgICAgIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMSwgMCwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG4gICAgICAgIGNvbnN0IHN0YXJ0X3RpbWUgPSBleHBvcnRzLm5vdygpICsgZGVsYXk7XG4gICAgICAgIGNvbnN0IGVuZF90aW1lID0gc3RhcnRfdGltZSArIGR1cmF0aW9uO1xuICAgICAgICBhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnc3RhcnQnKSk7XG4gICAgICAgIGxvb3Aobm93ID0+IHtcbiAgICAgICAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vdyA+PSBlbmRfdGltZSkge1xuICAgICAgICAgICAgICAgICAgICB0aWNrKDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChub2RlLCBmYWxzZSwgJ2VuZCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIS0tZ3JvdXAucikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyB3aWxsIHJlc3VsdCBpbiBgZW5kKClgIGJlaW5nIGNhbGxlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvIHdlIGRvbid0IG5lZWQgdG8gY2xlYW4gdXAgaGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgcnVuX2FsbChncm91cC5jKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gZWFzaW5nKChub3cgLSBzdGFydF90aW1lKSAvIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGljaygxIC0gdCwgdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ1bm5pbmc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuICAgICAgICB3YWl0KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjb25maWcgPSBjb25maWcoKTtcbiAgICAgICAgICAgIGdvKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ28oKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW5kKHJlc2V0KSB7XG4gICAgICAgICAgICBpZiAocmVzZXQgJiYgY29uZmlnLnRpY2spIHtcbiAgICAgICAgICAgICAgICBjb25maWcudGljaygxLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbl9uYW1lKVxuICAgICAgICAgICAgICAgICAgICBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG4gICAgICAgICAgICAgICAgcnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9iaWRpcmVjdGlvbmFsX3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcywgaW50cm8pIHtcbiAgICBsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zKTtcbiAgICBsZXQgdCA9IGludHJvID8gMCA6IDE7XG4gICAgbGV0IHJ1bm5pbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgbGV0IHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgbGV0IGFuaW1hdGlvbl9uYW1lID0gbnVsbDtcbiAgICBmdW5jdGlvbiBjbGVhcl9hbmltYXRpb24oKSB7XG4gICAgICAgIGlmIChhbmltYXRpb25fbmFtZSlcbiAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5pdChwcm9ncmFtLCBkdXJhdGlvbikge1xuICAgICAgICBjb25zdCBkID0gcHJvZ3JhbS5iIC0gdDtcbiAgICAgICAgZHVyYXRpb24gKj0gTWF0aC5hYnMoZCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhOiB0LFxuICAgICAgICAgICAgYjogcHJvZ3JhbS5iLFxuICAgICAgICAgICAgZCxcbiAgICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAgICAgc3RhcnQ6IHByb2dyYW0uc3RhcnQsXG4gICAgICAgICAgICBlbmQ6IHByb2dyYW0uc3RhcnQgKyBkdXJhdGlvbixcbiAgICAgICAgICAgIGdyb3VwOiBwcm9ncmFtLmdyb3VwXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdvKGIpIHtcbiAgICAgICAgY29uc3QgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gMzAwLCBlYXNpbmcgPSBpZGVudGl0eSwgdGljayA9IG5vb3AsIGNzcyB9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHtcbiAgICAgICAgICAgIHN0YXJ0OiBleHBvcnRzLm5vdygpICsgZGVsYXksXG4gICAgICAgICAgICBiXG4gICAgICAgIH07XG4gICAgICAgIGlmICghYikge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSB0b2RvOiBpbXByb3ZlIHR5cGluZ3NcbiAgICAgICAgICAgIHByb2dyYW0uZ3JvdXAgPSBvdXRyb3M7XG4gICAgICAgICAgICBvdXRyb3MuciArPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKSB7XG4gICAgICAgICAgICBwZW5kaW5nX3Byb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBhbiBpbnRybywgYW5kIHRoZXJlJ3MgYSBkZWxheSwgd2UgbmVlZCB0byBkb1xuICAgICAgICAgICAgLy8gYW4gaW5pdGlhbCB0aWNrIGFuZC9vciBhcHBseSBDU1MgYW5pbWF0aW9uIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICBpZiAoY3NzKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJfYW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCB0LCBiLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiKVxuICAgICAgICAgICAgICAgIHRpY2soMCwgMSk7XG4gICAgICAgICAgICBydW5uaW5nX3Byb2dyYW0gPSBpbml0KHByb2dyYW0sIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgYiwgJ3N0YXJ0JykpO1xuICAgICAgICAgICAgbG9vcChub3cgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nX3Byb2dyYW0gJiYgbm93ID4gcGVuZGluZ19wcm9ncmFtLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocGVuZGluZ19wcm9ncmFtLCBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIHJ1bm5pbmdfcHJvZ3JhbS5iLCAnc3RhcnQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJfYW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIHQsIHJ1bm5pbmdfcHJvZ3JhbS5iLCBydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24sIDAsIGVhc2luZywgY29uZmlnLmNzcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJ1bm5pbmdfcHJvZ3JhbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5lbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2sodCA9IHJ1bm5pbmdfcHJvZ3JhbS5iLCAxIC0gdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChub2RlLCBydW5uaW5nX3Byb2dyYW0uYiwgJ2VuZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwZW5kaW5nX3Byb2dyYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSdyZSBkb25lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bm5pbmdfcHJvZ3JhbS5iKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGludHJvIOKAlCB3ZSBjYW4gdGlkeSB1cCBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG91dHJvIOKAlCBuZWVkcyB0byBiZSBjb29yZGluYXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIS0tcnVubmluZ19wcm9ncmFtLmdyb3VwLnIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW5fYWxsKHJ1bm5pbmdfcHJvZ3JhbS5ncm91cC5jKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBydW5uaW5nX3Byb2dyYW0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vdyA+PSBydW5uaW5nX3Byb2dyYW0uc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBub3cgLSBydW5uaW5nX3Byb2dyYW0uc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ID0gcnVubmluZ19wcm9ncmFtLmEgKyBydW5uaW5nX3Byb2dyYW0uZCAqIGVhc2luZyhwIC8gcnVubmluZ19wcm9ncmFtLmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2sodCwgMSAtIHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAhIShydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJ1bihiKSB7XG4gICAgICAgICAgICBpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuICAgICAgICAgICAgICAgIHdhaXQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSBjb25maWcoKTtcbiAgICAgICAgICAgICAgICAgICAgZ28oYik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbyhiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW5kKCkge1xuICAgICAgICAgICAgY2xlYXJfYW5pbWF0aW9uKCk7XG4gICAgICAgICAgICBydW5uaW5nX3Byb2dyYW0gPSBwZW5kaW5nX3Byb2dyYW0gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlX3Byb21pc2UocHJvbWlzZSwgaW5mbykge1xuICAgIGNvbnN0IHRva2VuID0gaW5mby50b2tlbiA9IHt9O1xuICAgIGZ1bmN0aW9uIHVwZGF0ZSh0eXBlLCBpbmRleCwga2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoaW5mby50b2tlbiAhPT0gdG9rZW4pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGluZm8ucmVzb2x2ZWQgPSB2YWx1ZTtcbiAgICAgICAgbGV0IGNoaWxkX2N0eCA9IGluZm8uY3R4O1xuICAgICAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNoaWxkX2N0eCA9IGNoaWxkX2N0eC5zbGljZSgpO1xuICAgICAgICAgICAgY2hpbGRfY3R4W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBibG9jayA9IHR5cGUgJiYgKGluZm8uY3VycmVudCA9IHR5cGUpKGNoaWxkX2N0eCk7XG4gICAgICAgIGxldCBuZWVkc19mbHVzaCA9IGZhbHNlO1xuICAgICAgICBpZiAoaW5mby5ibG9jaykge1xuICAgICAgICAgICAgaWYgKGluZm8uYmxvY2tzKSB7XG4gICAgICAgICAgICAgICAgaW5mby5ibG9ja3MuZm9yRWFjaCgoYmxvY2ssIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGluZGV4ICYmIGJsb2NrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cF9vdXRyb3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25fb3V0KGJsb2NrLCAxLCAxLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8uYmxvY2tzW2ldID09PSBibG9jaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLmJsb2Nrc1tpXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja19vdXRyb3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5mby5ibG9jay5kKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmxvY2suYygpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbl9pbihibG9jaywgMSk7XG4gICAgICAgICAgICBibG9jay5tKGluZm8ubW91bnQoKSwgaW5mby5hbmNob3IpO1xuICAgICAgICAgICAgbmVlZHNfZmx1c2ggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGluZm8uYmxvY2sgPSBibG9jaztcbiAgICAgICAgaWYgKGluZm8uYmxvY2tzKVxuICAgICAgICAgICAgaW5mby5ibG9ja3NbaW5kZXhdID0gYmxvY2s7XG4gICAgICAgIGlmIChuZWVkc19mbHVzaCkge1xuICAgICAgICAgICAgZmx1c2goKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNfcHJvbWlzZShwcm9taXNlKSkge1xuICAgICAgICBjb25zdCBjdXJyZW50X2NvbXBvbmVudCA9IGdldF9jdXJyZW50X2NvbXBvbmVudCgpO1xuICAgICAgICBwcm9taXNlLnRoZW4odmFsdWUgPT4ge1xuICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KGN1cnJlbnRfY29tcG9uZW50KTtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLnRoZW4sIDEsIGluZm8udmFsdWUsIHZhbHVlKTtcbiAgICAgICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcbiAgICAgICAgfSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KGN1cnJlbnRfY29tcG9uZW50KTtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLmNhdGNoLCAyLCBpbmZvLmVycm9yLCBlcnJvcik7XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQobnVsbCk7XG4gICAgICAgICAgICBpZiAoIWluZm8uaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGlmIHdlIHByZXZpb3VzbHkgaGFkIGEgdGhlbi9jYXRjaCBibG9jaywgZGVzdHJveSBpdFxuICAgICAgICBpZiAoaW5mby5jdXJyZW50ICE9PSBpbmZvLnBlbmRpbmcpIHtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLnBlbmRpbmcsIDApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChpbmZvLmN1cnJlbnQgIT09IGluZm8udGhlbikge1xuICAgICAgICAgICAgdXBkYXRlKGluZm8udGhlbiwgMSwgaW5mby52YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpbmZvLnJlc29sdmVkID0gcHJvbWlzZTtcbiAgICB9XG59XG5cbmNvbnN0IGdsb2JhbHMgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICA/IHdpbmRvd1xuICAgIDogdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnXG4gICAgICAgID8gZ2xvYmFsVGhpc1xuICAgICAgICA6IGdsb2JhbCk7XG5cbmZ1bmN0aW9uIGRlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuICAgIGJsb2NrLmQoMSk7XG4gICAgbG9va3VwLmRlbGV0ZShibG9jay5rZXkpO1xufVxuZnVuY3Rpb24gb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuICAgIHRyYW5zaXRpb25fb3V0KGJsb2NrLCAxLCAxLCAoKSA9PiB7XG4gICAgICAgIGxvb2t1cC5kZWxldGUoYmxvY2sua2V5KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGZpeF9hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG4gICAgYmxvY2suZigpO1xuICAgIGRlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCk7XG59XG5mdW5jdGlvbiBmaXhfYW5kX291dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcbiAgICBibG9jay5mKCk7XG4gICAgb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCk7XG59XG5mdW5jdGlvbiB1cGRhdGVfa2V5ZWRfZWFjaChvbGRfYmxvY2tzLCBkaXJ0eSwgZ2V0X2tleSwgZHluYW1pYywgY3R4LCBsaXN0LCBsb29rdXAsIG5vZGUsIGRlc3Ryb3ksIGNyZWF0ZV9lYWNoX2Jsb2NrLCBuZXh0LCBnZXRfY29udGV4dCkge1xuICAgIGxldCBvID0gb2xkX2Jsb2Nrcy5sZW5ndGg7XG4gICAgbGV0IG4gPSBsaXN0Lmxlbmd0aDtcbiAgICBsZXQgaSA9IG87XG4gICAgY29uc3Qgb2xkX2luZGV4ZXMgPSB7fTtcbiAgICB3aGlsZSAoaS0tKVxuICAgICAgICBvbGRfaW5kZXhlc1tvbGRfYmxvY2tzW2ldLmtleV0gPSBpO1xuICAgIGNvbnN0IG5ld19ibG9ja3MgPSBbXTtcbiAgICBjb25zdCBuZXdfbG9va3VwID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGRlbHRhcyA9IG5ldyBNYXAoKTtcbiAgICBpID0gbjtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkX2N0eCA9IGdldF9jb250ZXh0KGN0eCwgbGlzdCwgaSk7XG4gICAgICAgIGNvbnN0IGtleSA9IGdldF9rZXkoY2hpbGRfY3R4KTtcbiAgICAgICAgbGV0IGJsb2NrID0gbG9va3VwLmdldChrZXkpO1xuICAgICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgICAgICBibG9jayA9IGNyZWF0ZV9lYWNoX2Jsb2NrKGtleSwgY2hpbGRfY3R4KTtcbiAgICAgICAgICAgIGJsb2NrLmMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkeW5hbWljKSB7XG4gICAgICAgICAgICBibG9jay5wKGNoaWxkX2N0eCwgZGlydHkpO1xuICAgICAgICB9XG4gICAgICAgIG5ld19sb29rdXAuc2V0KGtleSwgbmV3X2Jsb2Nrc1tpXSA9IGJsb2NrKTtcbiAgICAgICAgaWYgKGtleSBpbiBvbGRfaW5kZXhlcylcbiAgICAgICAgICAgIGRlbHRhcy5zZXQoa2V5LCBNYXRoLmFicyhpIC0gb2xkX2luZGV4ZXNba2V5XSkpO1xuICAgIH1cbiAgICBjb25zdCB3aWxsX21vdmUgPSBuZXcgU2V0KCk7XG4gICAgY29uc3QgZGlkX21vdmUgPSBuZXcgU2V0KCk7XG4gICAgZnVuY3Rpb24gaW5zZXJ0KGJsb2NrKSB7XG4gICAgICAgIHRyYW5zaXRpb25faW4oYmxvY2ssIDEpO1xuICAgICAgICBibG9jay5tKG5vZGUsIG5leHQpO1xuICAgICAgICBsb29rdXAuc2V0KGJsb2NrLmtleSwgYmxvY2spO1xuICAgICAgICBuZXh0ID0gYmxvY2suZmlyc3Q7XG4gICAgICAgIG4tLTtcbiAgICB9XG4gICAgd2hpbGUgKG8gJiYgbikge1xuICAgICAgICBjb25zdCBuZXdfYmxvY2sgPSBuZXdfYmxvY2tzW24gLSAxXTtcbiAgICAgICAgY29uc3Qgb2xkX2Jsb2NrID0gb2xkX2Jsb2Nrc1tvIC0gMV07XG4gICAgICAgIGNvbnN0IG5ld19rZXkgPSBuZXdfYmxvY2sua2V5O1xuICAgICAgICBjb25zdCBvbGRfa2V5ID0gb2xkX2Jsb2NrLmtleTtcbiAgICAgICAgaWYgKG5ld19ibG9jayA9PT0gb2xkX2Jsb2NrKSB7XG4gICAgICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgICAgICAgICBuZXh0ID0gbmV3X2Jsb2NrLmZpcnN0O1xuICAgICAgICAgICAgby0tO1xuICAgICAgICAgICAgbi0tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFuZXdfbG9va3VwLmhhcyhvbGRfa2V5KSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIG9sZCBibG9ja1xuICAgICAgICAgICAgZGVzdHJveShvbGRfYmxvY2ssIGxvb2t1cCk7XG4gICAgICAgICAgICBvLS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWxvb2t1cC5oYXMobmV3X2tleSkgfHwgd2lsbF9tb3ZlLmhhcyhuZXdfa2V5KSkge1xuICAgICAgICAgICAgaW5zZXJ0KG5ld19ibG9jayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGlkX21vdmUuaGFzKG9sZF9rZXkpKSB7XG4gICAgICAgICAgICBvLS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGVsdGFzLmdldChuZXdfa2V5KSA+IGRlbHRhcy5nZXQob2xkX2tleSkpIHtcbiAgICAgICAgICAgIGRpZF9tb3ZlLmFkZChuZXdfa2V5KTtcbiAgICAgICAgICAgIGluc2VydChuZXdfYmxvY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2lsbF9tb3ZlLmFkZChvbGRfa2V5KTtcbiAgICAgICAgICAgIG8tLTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3aGlsZSAoby0tKSB7XG4gICAgICAgIGNvbnN0IG9sZF9ibG9jayA9IG9sZF9ibG9ja3Nbb107XG4gICAgICAgIGlmICghbmV3X2xvb2t1cC5oYXMob2xkX2Jsb2NrLmtleSkpXG4gICAgICAgICAgICBkZXN0cm95KG9sZF9ibG9jaywgbG9va3VwKTtcbiAgICB9XG4gICAgd2hpbGUgKG4pXG4gICAgICAgIGluc2VydChuZXdfYmxvY2tzW24gLSAxXSk7XG4gICAgcmV0dXJuIG5ld19ibG9ja3M7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV9lYWNoX2tleXMoY3R4LCBsaXN0LCBnZXRfY29udGV4dCwgZ2V0X2tleSkge1xuICAgIGNvbnN0IGtleXMgPSBuZXcgU2V0KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGdldF9rZXkoZ2V0X2NvbnRleHQoY3R4LCBsaXN0LCBpKSk7XG4gICAgICAgIGlmIChrZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBoYXZlIGR1cGxpY2F0ZSBrZXlzIGluIGEga2V5ZWQgZWFjaCcpO1xuICAgICAgICB9XG4gICAgICAgIGtleXMuYWRkKGtleSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRfc3ByZWFkX3VwZGF0ZShsZXZlbHMsIHVwZGF0ZXMpIHtcbiAgICBjb25zdCB1cGRhdGUgPSB7fTtcbiAgICBjb25zdCB0b19udWxsX291dCA9IHt9O1xuICAgIGNvbnN0IGFjY291bnRlZF9mb3IgPSB7ICQkc2NvcGU6IDEgfTtcbiAgICBsZXQgaSA9IGxldmVscy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICBjb25zdCBvID0gbGV2ZWxzW2ldO1xuICAgICAgICBjb25zdCBuID0gdXBkYXRlc1tpXTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG8pIHtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbikpXG4gICAgICAgICAgICAgICAgICAgIHRvX251bGxfb3V0W2tleV0gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbikge1xuICAgICAgICAgICAgICAgIGlmICghYWNjb3VudGVkX2ZvcltrZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVtrZXldID0gbltrZXldO1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50ZWRfZm9yW2tleV0gPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldmVsc1tpXSA9IG47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvKSB7XG4gICAgICAgICAgICAgICAgYWNjb3VudGVkX2ZvcltrZXldID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0b19udWxsX291dCkge1xuICAgICAgICBpZiAoIShrZXkgaW4gdXBkYXRlKSlcbiAgICAgICAgICAgIHVwZGF0ZVtrZXldID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdXBkYXRlO1xufVxuZnVuY3Rpb24gZ2V0X3NwcmVhZF9vYmplY3Qoc3ByZWFkX3Byb3BzKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBzcHJlYWRfcHJvcHMgPT09ICdvYmplY3QnICYmIHNwcmVhZF9wcm9wcyAhPT0gbnVsbCA/IHNwcmVhZF9wcm9wcyA6IHt9O1xufVxuXG4vLyBzb3VyY2U6IGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2luZGljZXMuaHRtbFxuY29uc3QgYm9vbGVhbl9hdHRyaWJ1dGVzID0gbmV3IFNldChbXG4gICAgJ2FsbG93ZnVsbHNjcmVlbicsXG4gICAgJ2FsbG93cGF5bWVudHJlcXVlc3QnLFxuICAgICdhc3luYycsXG4gICAgJ2F1dG9mb2N1cycsXG4gICAgJ2F1dG9wbGF5JyxcbiAgICAnY2hlY2tlZCcsXG4gICAgJ2NvbnRyb2xzJyxcbiAgICAnZGVmYXVsdCcsXG4gICAgJ2RlZmVyJyxcbiAgICAnZGlzYWJsZWQnLFxuICAgICdmb3Jtbm92YWxpZGF0ZScsXG4gICAgJ2hpZGRlbicsXG4gICAgJ2lzbWFwJyxcbiAgICAnbG9vcCcsXG4gICAgJ211bHRpcGxlJyxcbiAgICAnbXV0ZWQnLFxuICAgICdub21vZHVsZScsXG4gICAgJ25vdmFsaWRhdGUnLFxuICAgICdvcGVuJyxcbiAgICAncGxheXNpbmxpbmUnLFxuICAgICdyZWFkb25seScsXG4gICAgJ3JlcXVpcmVkJyxcbiAgICAncmV2ZXJzZWQnLFxuICAgICdzZWxlY3RlZCdcbl0pO1xuXG5jb25zdCBpbnZhbGlkX2F0dHJpYnV0ZV9uYW1lX2NoYXJhY3RlciA9IC9bXFxzJ1wiPi89XFx1e0ZERDB9LVxcdXtGREVGfVxcdXtGRkZFfVxcdXtGRkZGfVxcdXsxRkZGRX1cXHV7MUZGRkZ9XFx1ezJGRkZFfVxcdXsyRkZGRn1cXHV7M0ZGRkV9XFx1ezNGRkZGfVxcdXs0RkZGRX1cXHV7NEZGRkZ9XFx1ezVGRkZFfVxcdXs1RkZGRn1cXHV7NkZGRkV9XFx1ezZGRkZGfVxcdXs3RkZGRX1cXHV7N0ZGRkZ9XFx1ezhGRkZFfVxcdXs4RkZGRn1cXHV7OUZGRkV9XFx1ezlGRkZGfVxcdXtBRkZGRX1cXHV7QUZGRkZ9XFx1e0JGRkZFfVxcdXtCRkZGRn1cXHV7Q0ZGRkV9XFx1e0NGRkZGfVxcdXtERkZGRX1cXHV7REZGRkZ9XFx1e0VGRkZFfVxcdXtFRkZGRn1cXHV7RkZGRkV9XFx1e0ZGRkZGfVxcdXsxMEZGRkV9XFx1ezEwRkZGRn1dL3U7XG4vLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNhdHRyaWJ1dGVzLTJcbi8vIGh0dHBzOi8vaW5mcmEuc3BlYy53aGF0d2cub3JnLyNub25jaGFyYWN0ZXJcbmZ1bmN0aW9uIHNwcmVhZChhcmdzLCBjbGFzc2VzX3RvX2FkZCkge1xuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBPYmplY3QuYXNzaWduKHt9LCAuLi5hcmdzKTtcbiAgICBpZiAoY2xhc3Nlc190b19hZGQpIHtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZXMuY2xhc3MgPT0gbnVsbCkge1xuICAgICAgICAgICAgYXR0cmlidXRlcy5jbGFzcyA9IGNsYXNzZXNfdG9fYWRkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXR0cmlidXRlcy5jbGFzcyArPSAnICcgKyBjbGFzc2VzX3RvX2FkZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgc3RyID0gJyc7XG4gICAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgaWYgKGludmFsaWRfYXR0cmlidXRlX25hbWVfY2hhcmFjdGVyLnRlc3QobmFtZSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYXR0cmlidXRlc1tuYW1lXTtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlKVxuICAgICAgICAgICAgc3RyICs9ICcgJyArIG5hbWU7XG4gICAgICAgIGVsc2UgaWYgKGJvb2xlYW5fYXR0cmlidXRlcy5oYXMobmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICAgICAgICAgIHN0ciArPSAnICcgKyBuYW1lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHN0ciArPSBgICR7bmFtZX09XCIke1N0cmluZyh2YWx1ZSkucmVwbGFjZSgvXCIvZywgJyYjMzQ7JykucmVwbGFjZSgvJy9nLCAnJiMzOTsnKX1cImA7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc3RyO1xufVxuY29uc3QgZXNjYXBlZCA9IHtcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjMzk7JyxcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0Oydcbn07XG5mdW5jdGlvbiBlc2NhcGUoaHRtbCkge1xuICAgIHJldHVybiBTdHJpbmcoaHRtbCkucmVwbGFjZSgvW1wiJyY8Pl0vZywgbWF0Y2ggPT4gZXNjYXBlZFttYXRjaF0pO1xufVxuZnVuY3Rpb24gZWFjaChpdGVtcywgZm4pIHtcbiAgICBsZXQgc3RyID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBzdHIgKz0gZm4oaXRlbXNbaV0sIGkpO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xufVxuY29uc3QgbWlzc2luZ19jb21wb25lbnQgPSB7XG4gICAgJCRyZW5kZXI6ICgpID0+ICcnXG59O1xuZnVuY3Rpb24gdmFsaWRhdGVfY29tcG9uZW50KGNvbXBvbmVudCwgbmFtZSkge1xuICAgIGlmICghY29tcG9uZW50IHx8ICFjb21wb25lbnQuJCRyZW5kZXIpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09ICdzdmVsdGU6Y29tcG9uZW50JylcbiAgICAgICAgICAgIG5hbWUgKz0gJyB0aGlzPXsuLi59JztcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGA8JHtuYW1lfT4gaXMgbm90IGEgdmFsaWQgU1NSIGNvbXBvbmVudC4gWW91IG1heSBuZWVkIHRvIHJldmlldyB5b3VyIGJ1aWxkIGNvbmZpZyB0byBlbnN1cmUgdGhhdCBkZXBlbmRlbmNpZXMgYXJlIGNvbXBpbGVkLCByYXRoZXIgdGhhbiBpbXBvcnRlZCBhcyBwcmUtY29tcGlsZWQgbW9kdWxlc2ApO1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9uZW50O1xufVxuZnVuY3Rpb24gZGVidWcoZmlsZSwgbGluZSwgY29sdW1uLCB2YWx1ZXMpIHtcbiAgICBjb25zb2xlLmxvZyhge0BkZWJ1Z30gJHtmaWxlID8gZmlsZSArICcgJyA6ICcnfSgke2xpbmV9OiR7Y29sdW1ufSlgKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS5sb2codmFsdWVzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgcmV0dXJuICcnO1xufVxubGV0IG9uX2Rlc3Ryb3k7XG5mdW5jdGlvbiBjcmVhdGVfc3NyX2NvbXBvbmVudChmbikge1xuICAgIGZ1bmN0aW9uICQkcmVuZGVyKHJlc3VsdCwgcHJvcHMsIGJpbmRpbmdzLCBzbG90cykge1xuICAgICAgICBjb25zdCBwYXJlbnRfY29tcG9uZW50ID0gZXhwb3J0cy5jdXJyZW50X2NvbXBvbmVudDtcbiAgICAgICAgY29uc3QgJCQgPSB7XG4gICAgICAgICAgICBvbl9kZXN0cm95LFxuICAgICAgICAgICAgY29udGV4dDogbmV3IE1hcChwYXJlbnRfY29tcG9uZW50ID8gcGFyZW50X2NvbXBvbmVudC4kJC5jb250ZXh0IDogW10pLFxuICAgICAgICAgICAgLy8gdGhlc2Ugd2lsbCBiZSBpbW1lZGlhdGVseSBkaXNjYXJkZWRcbiAgICAgICAgICAgIG9uX21vdW50OiBbXSxcbiAgICAgICAgICAgIGJlZm9yZV91cGRhdGU6IFtdLFxuICAgICAgICAgICAgYWZ0ZXJfdXBkYXRlOiBbXSxcbiAgICAgICAgICAgIGNhbGxiYWNrczogYmxhbmtfb2JqZWN0KClcbiAgICAgICAgfTtcbiAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KHsgJCQgfSk7XG4gICAgICAgIGNvbnN0IGh0bWwgPSBmbihyZXN1bHQsIHByb3BzLCBiaW5kaW5ncywgc2xvdHMpO1xuICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQocGFyZW50X2NvbXBvbmVudCk7XG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICByZW5kZXI6IChwcm9wcyA9IHt9LCBvcHRpb25zID0ge30pID0+IHtcbiAgICAgICAgICAgIG9uX2Rlc3Ryb3kgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHsgdGl0bGU6ICcnLCBoZWFkOiAnJywgY3NzOiBuZXcgU2V0KCkgfTtcbiAgICAgICAgICAgIGNvbnN0IGh0bWwgPSAkJHJlbmRlcihyZXN1bHQsIHByb3BzLCB7fSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBydW5fYWxsKG9uX2Rlc3Ryb3kpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBodG1sLFxuICAgICAgICAgICAgICAgIGNzczoge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBBcnJheS5mcm9tKHJlc3VsdC5jc3MpLm1hcChjc3MgPT4gY3NzLmNvZGUpLmpvaW4oJ1xcbicpLFxuICAgICAgICAgICAgICAgICAgICBtYXA6IG51bGwgLy8gVE9ET1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaGVhZDogcmVzdWx0LnRpdGxlICsgcmVzdWx0LmhlYWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgICQkcmVuZGVyXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGFkZF9hdHRyaWJ1dGUobmFtZSwgdmFsdWUsIGJvb2xlYW4pIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCAoYm9vbGVhbiAmJiAhdmFsdWUpKVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgcmV0dXJuIGAgJHtuYW1lfSR7dmFsdWUgPT09IHRydWUgPyAnJyA6IGA9JHt0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gSlNPTi5zdHJpbmdpZnkoZXNjYXBlKHZhbHVlKSkgOiBgXCIke3ZhbHVlfVwiYH1gfWA7XG59XG5mdW5jdGlvbiBhZGRfY2xhc3NlcyhjbGFzc2VzKSB7XG4gICAgcmV0dXJuIGNsYXNzZXMgPyBgIGNsYXNzPVwiJHtjbGFzc2VzfVwiYCA6ICcnO1xufVxuXG5mdW5jdGlvbiBiaW5kKGNvbXBvbmVudCwgbmFtZSwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBpbmRleCA9IGNvbXBvbmVudC4kJC5wcm9wc1tuYW1lXTtcbiAgICBpZiAoaW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb21wb25lbnQuJCQuYm91bmRbaW5kZXhdID0gY2FsbGJhY2s7XG4gICAgICAgIGNhbGxiYWNrKGNvbXBvbmVudC4kJC5jdHhbaW5kZXhdKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVfY29tcG9uZW50KGJsb2NrKSB7XG4gICAgYmxvY2sgJiYgYmxvY2suYygpO1xufVxuZnVuY3Rpb24gY2xhaW1fY29tcG9uZW50KGJsb2NrLCBwYXJlbnRfbm9kZXMpIHtcbiAgICBibG9jayAmJiBibG9jay5sKHBhcmVudF9ub2Rlcyk7XG59XG5mdW5jdGlvbiBtb3VudF9jb21wb25lbnQoY29tcG9uZW50LCB0YXJnZXQsIGFuY2hvciwgY3VzdG9tRWxlbWVudCkge1xuICAgIGNvbnN0IHsgZnJhZ21lbnQsIG9uX21vdW50LCBvbl9kZXN0cm95LCBhZnRlcl91cGRhdGUgfSA9IGNvbXBvbmVudC4kJDtcbiAgICBmcmFnbWVudCAmJiBmcmFnbWVudC5tKHRhcmdldCwgYW5jaG9yKTtcbiAgICBpZiAoIWN1c3RvbUVsZW1lbnQpIHtcbiAgICAgICAgLy8gb25Nb3VudCBoYXBwZW5zIGJlZm9yZSB0aGUgaW5pdGlhbCBhZnRlclVwZGF0ZVxuICAgICAgICBhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld19vbl9kZXN0cm95ID0gb25fbW91bnQubWFwKHJ1bikuZmlsdGVyKGlzX2Z1bmN0aW9uKTtcbiAgICAgICAgICAgIGlmIChvbl9kZXN0cm95KSB7XG4gICAgICAgICAgICAgICAgb25fZGVzdHJveS5wdXNoKC4uLm5ld19vbl9kZXN0cm95KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEVkZ2UgY2FzZSAtIGNvbXBvbmVudCB3YXMgZGVzdHJveWVkIGltbWVkaWF0ZWx5LFxuICAgICAgICAgICAgICAgIC8vIG1vc3QgbGlrZWx5IGFzIGEgcmVzdWx0IG9mIGEgYmluZGluZyBpbml0aWFsaXNpbmdcbiAgICAgICAgICAgICAgICBydW5fYWxsKG5ld19vbl9kZXN0cm95KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbXBvbmVudC4kJC5vbl9tb3VudCA9IFtdO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYWZ0ZXJfdXBkYXRlLmZvckVhY2goYWRkX3JlbmRlcl9jYWxsYmFjayk7XG59XG5mdW5jdGlvbiBkZXN0cm95X2NvbXBvbmVudChjb21wb25lbnQsIGRldGFjaGluZykge1xuICAgIGNvbnN0ICQkID0gY29tcG9uZW50LiQkO1xuICAgIGlmICgkJC5mcmFnbWVudCAhPT0gbnVsbCkge1xuICAgICAgICBydW5fYWxsKCQkLm9uX2Rlc3Ryb3kpO1xuICAgICAgICAkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5kKGRldGFjaGluZyk7XG4gICAgICAgIC8vIFRPRE8gbnVsbCBvdXQgb3RoZXIgcmVmcywgaW5jbHVkaW5nIGNvbXBvbmVudC4kJCAoYnV0IG5lZWQgdG9cbiAgICAgICAgLy8gcHJlc2VydmUgZmluYWwgc3RhdGU/KVxuICAgICAgICAkJC5vbl9kZXN0cm95ID0gJCQuZnJhZ21lbnQgPSBudWxsO1xuICAgICAgICAkJC5jdHggPSBbXTtcbiAgICB9XG59XG5mdW5jdGlvbiBtYWtlX2RpcnR5KGNvbXBvbmVudCwgaSkge1xuICAgIGlmIChjb21wb25lbnQuJCQuZGlydHlbMF0gPT09IC0xKSB7XG4gICAgICAgIGRpcnR5X2NvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuICAgICAgICBzY2hlZHVsZV91cGRhdGUoKTtcbiAgICAgICAgY29tcG9uZW50LiQkLmRpcnR5LmZpbGwoMCk7XG4gICAgfVxuICAgIGNvbXBvbmVudC4kJC5kaXJ0eVsoaSAvIDMxKSB8IDBdIHw9ICgxIDw8IChpICUgMzEpKTtcbn1cbmZ1bmN0aW9uIGluaXQoY29tcG9uZW50LCBvcHRpb25zLCBpbnN0YW5jZSwgY3JlYXRlX2ZyYWdtZW50LCBub3RfZXF1YWwsIHByb3BzLCBkaXJ0eSA9IFstMV0pIHtcbiAgICBjb25zdCBwYXJlbnRfY29tcG9uZW50ID0gZXhwb3J0cy5jdXJyZW50X2NvbXBvbmVudDtcbiAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcbiAgICBjb25zdCAkJCA9IGNvbXBvbmVudC4kJCA9IHtcbiAgICAgICAgZnJhZ21lbnQ6IG51bGwsXG4gICAgICAgIGN0eDogbnVsbCxcbiAgICAgICAgLy8gc3RhdGVcbiAgICAgICAgcHJvcHMsXG4gICAgICAgIHVwZGF0ZTogbm9vcCxcbiAgICAgICAgbm90X2VxdWFsLFxuICAgICAgICBib3VuZDogYmxhbmtfb2JqZWN0KCksXG4gICAgICAgIC8vIGxpZmVjeWNsZVxuICAgICAgICBvbl9tb3VudDogW10sXG4gICAgICAgIG9uX2Rlc3Ryb3k6IFtdLFxuICAgICAgICBvbl9kaXNjb25uZWN0OiBbXSxcbiAgICAgICAgYmVmb3JlX3VwZGF0ZTogW10sXG4gICAgICAgIGFmdGVyX3VwZGF0ZTogW10sXG4gICAgICAgIGNvbnRleHQ6IG5ldyBNYXAocGFyZW50X2NvbXBvbmVudCA/IHBhcmVudF9jb21wb25lbnQuJCQuY29udGV4dCA6IFtdKSxcbiAgICAgICAgLy8gZXZlcnl0aGluZyBlbHNlXG4gICAgICAgIGNhbGxiYWNrczogYmxhbmtfb2JqZWN0KCksXG4gICAgICAgIGRpcnR5LFxuICAgICAgICBza2lwX2JvdW5kOiBmYWxzZVxuICAgIH07XG4gICAgbGV0IHJlYWR5ID0gZmFsc2U7XG4gICAgJCQuY3R4ID0gaW5zdGFuY2VcbiAgICAgICAgPyBpbnN0YW5jZShjb21wb25lbnQsIG9wdGlvbnMucHJvcHMgfHwge30sIChpLCByZXQsIC4uLnJlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVzdC5sZW5ndGggPyByZXN0WzBdIDogcmV0O1xuICAgICAgICAgICAgaWYgKCQkLmN0eCAmJiBub3RfZXF1YWwoJCQuY3R4W2ldLCAkJC5jdHhbaV0gPSB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoISQkLnNraXBfYm91bmQgJiYgJCQuYm91bmRbaV0pXG4gICAgICAgICAgICAgICAgICAgICQkLmJvdW5kW2ldKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAocmVhZHkpXG4gICAgICAgICAgICAgICAgICAgIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH0pXG4gICAgICAgIDogW107XG4gICAgJCQudXBkYXRlKCk7XG4gICAgcmVhZHkgPSB0cnVlO1xuICAgIHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG4gICAgLy8gYGZhbHNlYCBhcyBhIHNwZWNpYWwgY2FzZSBvZiBubyBET00gY29tcG9uZW50XG4gICAgJCQuZnJhZ21lbnQgPSBjcmVhdGVfZnJhZ21lbnQgPyBjcmVhdGVfZnJhZ21lbnQoJCQuY3R4KSA6IGZhbHNlO1xuICAgIGlmIChvcHRpb25zLnRhcmdldCkge1xuICAgICAgICBpZiAob3B0aW9ucy5oeWRyYXRlKSB7XG4gICAgICAgICAgICBjb25zdCBub2RlcyA9IGNoaWxkcmVuKG9wdGlvbnMudGFyZ2V0KTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICAkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5sKG5vZGVzKTtcbiAgICAgICAgICAgIG5vZGVzLmZvckVhY2goZGV0YWNoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICAkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5jKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMuaW50cm8pXG4gICAgICAgICAgICB0cmFuc2l0aW9uX2luKGNvbXBvbmVudC4kJC5mcmFnbWVudCk7XG4gICAgICAgIG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIG9wdGlvbnMudGFyZ2V0LCBvcHRpb25zLmFuY2hvciwgb3B0aW9ucy5jdXN0b21FbGVtZW50KTtcbiAgICAgICAgZmx1c2goKTtcbiAgICB9XG4gICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KHBhcmVudF9jb21wb25lbnQpO1xufVxuaWYgKHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGV4cG9ydHMuU3ZlbHRlRWxlbWVudCA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHN1cGVyKCk7XG4gICAgICAgICAgICB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgb25fbW91bnQgfSA9IHRoaXMuJCQ7XG4gICAgICAgICAgICB0aGlzLiQkLm9uX2Rpc2Nvbm5lY3QgPSBvbl9tb3VudC5tYXAocnVuKS5maWx0ZXIoaXNfZnVuY3Rpb24pO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSB0b2RvOiBpbXByb3ZlIHR5cGluZ3NcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHRoaXMuJCQuc2xvdHRlZCkge1xuICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgdG9kbzogaW1wcm92ZSB0eXBpbmdzXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGlsZCh0aGlzLiQkLnNsb3R0ZWRba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGF0dHIsIF9vbGRWYWx1ZSwgbmV3VmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXNbYXR0cl0gPSBuZXdWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBkaXNjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHJ1bl9hbGwodGhpcy4kJC5vbl9kaXNjb25uZWN0KTtcbiAgICAgICAgfVxuICAgICAgICAkZGVzdHJveSgpIHtcbiAgICAgICAgICAgIGRlc3Ryb3lfY29tcG9uZW50KHRoaXMsIDEpO1xuICAgICAgICAgICAgdGhpcy4kZGVzdHJveSA9IG5vb3A7XG4gICAgICAgIH1cbiAgICAgICAgJG9uKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAvLyBUT0RPIHNob3VsZCB0aGlzIGRlbGVnYXRlIHRvIGFkZEV2ZW50TGlzdGVuZXI/XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFja3MgPSAodGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gfHwgKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdID0gW10pKTtcbiAgICAgICAgICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBjYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgICRzZXQoJCRwcm9wcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuJCRzZXQgJiYgIWlzX2VtcHR5KCQkcHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kJC5za2lwX2JvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLiQkc2V0KCQkcHJvcHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuJCQuc2tpcF9ib3VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgU3ZlbHRlIGNvbXBvbmVudHMuIFVzZWQgd2hlbiBkZXY9ZmFsc2UuXG4gKi9cbmNsYXNzIFN2ZWx0ZUNvbXBvbmVudCB7XG4gICAgJGRlc3Ryb3koKSB7XG4gICAgICAgIGRlc3Ryb3lfY29tcG9uZW50KHRoaXMsIDEpO1xuICAgICAgICB0aGlzLiRkZXN0cm95ID0gbm9vcDtcbiAgICB9XG4gICAgJG9uKHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSB8fCAodGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gPSBbXSkpO1xuICAgICAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IGNhbGxiYWNrcy5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpXG4gICAgICAgICAgICAgICAgY2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH07XG4gICAgfVxuICAgICRzZXQoJCRwcm9wcykge1xuICAgICAgICBpZiAodGhpcy4kJHNldCAmJiAhaXNfZW1wdHkoJCRwcm9wcykpIHtcbiAgICAgICAgICAgIHRoaXMuJCQuc2tpcF9ib3VuZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLiQkc2V0KCQkcHJvcHMpO1xuICAgICAgICAgICAgdGhpcy4kJC5za2lwX2JvdW5kID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc3BhdGNoX2Rldih0eXBlLCBkZXRhaWwpIHtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGN1c3RvbV9ldmVudCh0eXBlLCBPYmplY3QuYXNzaWduKHsgdmVyc2lvbjogJzMuMzUuMCcgfSwgZGV0YWlsKSkpO1xufVxuZnVuY3Rpb24gYXBwZW5kX2Rldih0YXJnZXQsIG5vZGUpIHtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTUluc2VydCcsIHsgdGFyZ2V0LCBub2RlIH0pO1xuICAgIGFwcGVuZCh0YXJnZXQsIG5vZGUpO1xufVxuZnVuY3Rpb24gaW5zZXJ0X2Rldih0YXJnZXQsIG5vZGUsIGFuY2hvcikge1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NSW5zZXJ0JywgeyB0YXJnZXQsIG5vZGUsIGFuY2hvciB9KTtcbiAgICBpbnNlcnQodGFyZ2V0LCBub2RlLCBhbmNob3IpO1xufVxuZnVuY3Rpb24gZGV0YWNoX2Rldihub2RlKSB7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01SZW1vdmUnLCB7IG5vZGUgfSk7XG4gICAgZGV0YWNoKG5vZGUpO1xufVxuZnVuY3Rpb24gZGV0YWNoX2JldHdlZW5fZGV2KGJlZm9yZSwgYWZ0ZXIpIHtcbiAgICB3aGlsZSAoYmVmb3JlLm5leHRTaWJsaW5nICYmIGJlZm9yZS5uZXh0U2libGluZyAhPT0gYWZ0ZXIpIHtcbiAgICAgICAgZGV0YWNoX2RldihiZWZvcmUubmV4dFNpYmxpbmcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRldGFjaF9iZWZvcmVfZGV2KGFmdGVyKSB7XG4gICAgd2hpbGUgKGFmdGVyLnByZXZpb3VzU2libGluZykge1xuICAgICAgICBkZXRhY2hfZGV2KGFmdGVyLnByZXZpb3VzU2libGluZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGV0YWNoX2FmdGVyX2RldihiZWZvcmUpIHtcbiAgICB3aGlsZSAoYmVmb3JlLm5leHRTaWJsaW5nKSB7XG4gICAgICAgIGRldGFjaF9kZXYoYmVmb3JlLm5leHRTaWJsaW5nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBsaXN0ZW5fZGV2KG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zLCBoYXNfcHJldmVudF9kZWZhdWx0LCBoYXNfc3RvcF9wcm9wYWdhdGlvbikge1xuICAgIGNvbnN0IG1vZGlmaWVycyA9IG9wdGlvbnMgPT09IHRydWUgPyBbJ2NhcHR1cmUnXSA6IG9wdGlvbnMgPyBBcnJheS5mcm9tKE9iamVjdC5rZXlzKG9wdGlvbnMpKSA6IFtdO1xuICAgIGlmIChoYXNfcHJldmVudF9kZWZhdWx0KVxuICAgICAgICBtb2RpZmllcnMucHVzaCgncHJldmVudERlZmF1bHQnKTtcbiAgICBpZiAoaGFzX3N0b3BfcHJvcGFnYXRpb24pXG4gICAgICAgIG1vZGlmaWVycy5wdXNoKCdzdG9wUHJvcGFnYXRpb24nKTtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTUFkZEV2ZW50TGlzdGVuZXInLCB7IG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBtb2RpZmllcnMgfSk7XG4gICAgY29uc3QgZGlzcG9zZSA9IGxpc3Rlbihub2RlLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01SZW1vdmVFdmVudExpc3RlbmVyJywgeyBub2RlLCBldmVudCwgaGFuZGxlciwgbW9kaWZpZXJzIH0pO1xuICAgICAgICBkaXNwb3NlKCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGF0dHJfZGV2KG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICBhdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpO1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVJlbW92ZUF0dHJpYnV0ZScsIHsgbm9kZSwgYXR0cmlidXRlIH0pO1xuICAgIGVsc2VcbiAgICAgICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01TZXRBdHRyaWJ1dGUnLCB7IG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUgfSk7XG59XG5mdW5jdGlvbiBwcm9wX2Rldihub2RlLCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICBub2RlW3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NU2V0UHJvcGVydHknLCB7IG5vZGUsIHByb3BlcnR5LCB2YWx1ZSB9KTtcbn1cbmZ1bmN0aW9uIGRhdGFzZXRfZGV2KG5vZGUsIHByb3BlcnR5LCB2YWx1ZSkge1xuICAgIG5vZGUuZGF0YXNldFtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVNldERhdGFzZXQnLCB7IG5vZGUsIHByb3BlcnR5LCB2YWx1ZSB9KTtcbn1cbmZ1bmN0aW9uIHNldF9kYXRhX2Rldih0ZXh0LCBkYXRhKSB7XG4gICAgZGF0YSA9ICcnICsgZGF0YTtcbiAgICBpZiAodGV4dC53aG9sZVRleHQgPT09IGRhdGEpXG4gICAgICAgIHJldHVybjtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVNldERhdGEnLCB7IG5vZGU6IHRleHQsIGRhdGEgfSk7XG4gICAgdGV4dC5kYXRhID0gZGF0YTtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX2VhY2hfYXJndW1lbnQoYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdzdHJpbmcnICYmICEoYXJnICYmIHR5cGVvZiBhcmcgPT09ICdvYmplY3QnICYmICdsZW5ndGgnIGluIGFyZykpIHtcbiAgICAgICAgbGV0IG1zZyA9ICd7I2VhY2h9IG9ubHkgaXRlcmF0ZXMgb3ZlciBhcnJheS1saWtlIG9iamVjdHMuJztcbiAgICAgICAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgYXJnICYmIFN5bWJvbC5pdGVyYXRvciBpbiBhcmcpIHtcbiAgICAgICAgICAgIG1zZyArPSAnIFlvdSBjYW4gdXNlIGEgc3ByZWFkIHRvIGNvbnZlcnQgdGhpcyBpdGVyYWJsZSBpbnRvIGFuIGFycmF5Lic7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1zZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVfc2xvdHMobmFtZSwgc2xvdCwga2V5cykge1xuICAgIGZvciAoY29uc3Qgc2xvdF9rZXkgb2YgT2JqZWN0LmtleXMoc2xvdCkpIHtcbiAgICAgICAgaWYgKCF+a2V5cy5pbmRleE9mKHNsb3Rfa2V5KSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGA8JHtuYW1lfT4gcmVjZWl2ZWQgYW4gdW5leHBlY3RlZCBzbG90IFwiJHtzbG90X2tleX1cIi5gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgU3ZlbHRlIGNvbXBvbmVudHMgd2l0aCBzb21lIG1pbm9yIGRldi1lbmhhbmNlbWVudHMuIFVzZWQgd2hlbiBkZXY9dHJ1ZS5cbiAqL1xuY2xhc3MgU3ZlbHRlQ29tcG9uZW50RGV2IGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIGlmICghb3B0aW9ucyB8fCAoIW9wdGlvbnMudGFyZ2V0ICYmICFvcHRpb25zLiQkaW5saW5lKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiJ3RhcmdldCcgaXMgYSByZXF1aXJlZCBvcHRpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG4gICAgJGRlc3Ryb3koKSB7XG4gICAgICAgIHN1cGVyLiRkZXN0cm95KCk7XG4gICAgICAgIHRoaXMuJGRlc3Ryb3kgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0NvbXBvbmVudCB3YXMgYWxyZWFkeSBkZXN0cm95ZWQnKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICAgIH07XG4gICAgfVxuICAgICRjYXB0dXJlX3N0YXRlKCkgeyB9XG4gICAgJGluamVjdF9zdGF0ZSgpIHsgfVxufVxuLyoqXG4gKiBCYXNlIGNsYXNzIHRvIGNyZWF0ZSBzdHJvbmdseSB0eXBlZCBTdmVsdGUgY29tcG9uZW50cy5cbiAqIFRoaXMgb25seSBleGlzdHMgZm9yIHR5cGluZyBwdXJwb3NlcyBhbmQgc2hvdWxkIGJlIHVzZWQgaW4gYC5kLnRzYCBmaWxlcy5cbiAqXG4gKiAjIyMgRXhhbXBsZTpcbiAqXG4gKiBZb3UgaGF2ZSBjb21wb25lbnQgbGlicmFyeSBvbiBucG0gY2FsbGVkIGBjb21wb25lbnQtbGlicmFyeWAsIGZyb20gd2hpY2hcbiAqIHlvdSBleHBvcnQgYSBjb21wb25lbnQgY2FsbGVkIGBNeUNvbXBvbmVudGAuIEZvciBTdmVsdGUrVHlwZVNjcmlwdCB1c2VycyxcbiAqIHlvdSB3YW50IHRvIHByb3ZpZGUgdHlwaW5ncy4gVGhlcmVmb3JlIHlvdSBjcmVhdGUgYSBgaW5kZXguZC50c2A6XG4gKiBgYGB0c1xuICogaW1wb3J0IHsgU3ZlbHRlQ29tcG9uZW50VHlwZWQgfSBmcm9tIFwic3ZlbHRlXCI7XG4gKiBleHBvcnQgY2xhc3MgTXlDb21wb25lbnQgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnRUeXBlZDx7Zm9vOiBzdHJpbmd9PiB7fVxuICogYGBgXG4gKiBUeXBpbmcgdGhpcyBtYWtlcyBpdCBwb3NzaWJsZSBmb3IgSURFcyBsaWtlIFZTIENvZGUgd2l0aCB0aGUgU3ZlbHRlIGV4dGVuc2lvblxuICogdG8gcHJvdmlkZSBpbnRlbGxpc2Vuc2UgYW5kIHRvIHVzZSB0aGUgY29tcG9uZW50IGxpa2UgdGhpcyBpbiBhIFN2ZWx0ZSBmaWxlXG4gKiB3aXRoIFR5cGVTY3JpcHQ6XG4gKiBgYGBzdmVsdGVcbiAqIDxzY3JpcHQgbGFuZz1cInRzXCI+XG4gKiBcdGltcG9ydCB7IE15Q29tcG9uZW50IH0gZnJvbSBcImNvbXBvbmVudC1saWJyYXJ5XCI7XG4gKiA8L3NjcmlwdD5cbiAqIDxNeUNvbXBvbmVudCBmb289eydiYXInfSAvPlxuICogYGBgXG4gKlxuICogIyMjIyBXaHkgbm90IG1ha2UgdGhpcyBwYXJ0IG9mIGBTdmVsdGVDb21wb25lbnQoRGV2KWA/XG4gKiBCZWNhdXNlXG4gKiBgYGB0c1xuICogY2xhc3MgQVN1YmNsYXNzT2ZTdmVsdGVDb21wb25lbnQgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQ8e2Zvbzogc3RyaW5nfT4ge31cbiAqIGNvbnN0IGNvbXBvbmVudDogdHlwZW9mIFN2ZWx0ZUNvbXBvbmVudCA9IEFTdWJjbGFzc09mU3ZlbHRlQ29tcG9uZW50O1xuICogYGBgXG4gKiB3aWxsIHRocm93IGEgdHlwZSBlcnJvciwgc28gd2UgbmVlZCB0byBzZXBlcmF0ZSB0aGUgbW9yZSBzdHJpY3RseSB0eXBlZCBjbGFzcy5cbiAqL1xuY2xhc3MgU3ZlbHRlQ29tcG9uZW50VHlwZWQgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnREZXYge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIob3B0aW9ucyk7XG4gICAgfVxufVxuZnVuY3Rpb24gbG9vcF9ndWFyZCh0aW1lb3V0KSB7XG4gICAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChEYXRlLm5vdygpIC0gc3RhcnQgPiB0aW1lb3V0KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luZmluaXRlIGxvb3AgZGV0ZWN0ZWQnKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmV4cG9ydHMuSHRtbFRhZyA9IEh0bWxUYWc7XG5leHBvcnRzLlN2ZWx0ZUNvbXBvbmVudCA9IFN2ZWx0ZUNvbXBvbmVudDtcbmV4cG9ydHMuU3ZlbHRlQ29tcG9uZW50RGV2ID0gU3ZlbHRlQ29tcG9uZW50RGV2O1xuZXhwb3J0cy5TdmVsdGVDb21wb25lbnRUeXBlZCA9IFN2ZWx0ZUNvbXBvbmVudFR5cGVkO1xuZXhwb3J0cy5hY3Rpb25fZGVzdHJveWVyID0gYWN0aW9uX2Rlc3Ryb3llcjtcbmV4cG9ydHMuYWRkX2F0dHJpYnV0ZSA9IGFkZF9hdHRyaWJ1dGU7XG5leHBvcnRzLmFkZF9jbGFzc2VzID0gYWRkX2NsYXNzZXM7XG5leHBvcnRzLmFkZF9mbHVzaF9jYWxsYmFjayA9IGFkZF9mbHVzaF9jYWxsYmFjaztcbmV4cG9ydHMuYWRkX2xvY2F0aW9uID0gYWRkX2xvY2F0aW9uO1xuZXhwb3J0cy5hZGRfcmVuZGVyX2NhbGxiYWNrID0gYWRkX3JlbmRlcl9jYWxsYmFjaztcbmV4cG9ydHMuYWRkX3Jlc2l6ZV9saXN0ZW5lciA9IGFkZF9yZXNpemVfbGlzdGVuZXI7XG5leHBvcnRzLmFkZF90cmFuc2Zvcm0gPSBhZGRfdHJhbnNmb3JtO1xuZXhwb3J0cy5hZnRlclVwZGF0ZSA9IGFmdGVyVXBkYXRlO1xuZXhwb3J0cy5hcHBlbmQgPSBhcHBlbmQ7XG5leHBvcnRzLmFwcGVuZF9kZXYgPSBhcHBlbmRfZGV2O1xuZXhwb3J0cy5hc3NpZ24gPSBhc3NpZ247XG5leHBvcnRzLmF0dHIgPSBhdHRyO1xuZXhwb3J0cy5hdHRyX2RldiA9IGF0dHJfZGV2O1xuZXhwb3J0cy5hdHRyaWJ1dGVfdG9fb2JqZWN0ID0gYXR0cmlidXRlX3RvX29iamVjdDtcbmV4cG9ydHMuYmVmb3JlVXBkYXRlID0gYmVmb3JlVXBkYXRlO1xuZXhwb3J0cy5iaW5kID0gYmluZDtcbmV4cG9ydHMuYmluZGluZ19jYWxsYmFja3MgPSBiaW5kaW5nX2NhbGxiYWNrcztcbmV4cG9ydHMuYmxhbmtfb2JqZWN0ID0gYmxhbmtfb2JqZWN0O1xuZXhwb3J0cy5idWJibGUgPSBidWJibGU7XG5leHBvcnRzLmNoZWNrX291dHJvcyA9IGNoZWNrX291dHJvcztcbmV4cG9ydHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbmV4cG9ydHMuY2xhaW1fY29tcG9uZW50ID0gY2xhaW1fY29tcG9uZW50O1xuZXhwb3J0cy5jbGFpbV9lbGVtZW50ID0gY2xhaW1fZWxlbWVudDtcbmV4cG9ydHMuY2xhaW1fc3BhY2UgPSBjbGFpbV9zcGFjZTtcbmV4cG9ydHMuY2xhaW1fdGV4dCA9IGNsYWltX3RleHQ7XG5leHBvcnRzLmNsZWFyX2xvb3BzID0gY2xlYXJfbG9vcHM7XG5leHBvcnRzLmNvbXBvbmVudF9zdWJzY3JpYmUgPSBjb21wb25lbnRfc3Vic2NyaWJlO1xuZXhwb3J0cy5jb21wdXRlX3Jlc3RfcHJvcHMgPSBjb21wdXRlX3Jlc3RfcHJvcHM7XG5leHBvcnRzLmNvbXB1dGVfc2xvdHMgPSBjb21wdXRlX3Nsb3RzO1xuZXhwb3J0cy5jcmVhdGVFdmVudERpc3BhdGNoZXIgPSBjcmVhdGVFdmVudERpc3BhdGNoZXI7XG5leHBvcnRzLmNyZWF0ZV9hbmltYXRpb24gPSBjcmVhdGVfYW5pbWF0aW9uO1xuZXhwb3J0cy5jcmVhdGVfYmlkaXJlY3Rpb25hbF90cmFuc2l0aW9uID0gY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbjtcbmV4cG9ydHMuY3JlYXRlX2NvbXBvbmVudCA9IGNyZWF0ZV9jb21wb25lbnQ7XG5leHBvcnRzLmNyZWF0ZV9pbl90cmFuc2l0aW9uID0gY3JlYXRlX2luX3RyYW5zaXRpb247XG5leHBvcnRzLmNyZWF0ZV9vdXRfdHJhbnNpdGlvbiA9IGNyZWF0ZV9vdXRfdHJhbnNpdGlvbjtcbmV4cG9ydHMuY3JlYXRlX3Nsb3QgPSBjcmVhdGVfc2xvdDtcbmV4cG9ydHMuY3JlYXRlX3Nzcl9jb21wb25lbnQgPSBjcmVhdGVfc3NyX2NvbXBvbmVudDtcbmV4cG9ydHMuY3VzdG9tX2V2ZW50ID0gY3VzdG9tX2V2ZW50O1xuZXhwb3J0cy5kYXRhc2V0X2RldiA9IGRhdGFzZXRfZGV2O1xuZXhwb3J0cy5kZWJ1ZyA9IGRlYnVnO1xuZXhwb3J0cy5kZXN0cm95X2Jsb2NrID0gZGVzdHJveV9ibG9jaztcbmV4cG9ydHMuZGVzdHJveV9jb21wb25lbnQgPSBkZXN0cm95X2NvbXBvbmVudDtcbmV4cG9ydHMuZGVzdHJveV9lYWNoID0gZGVzdHJveV9lYWNoO1xuZXhwb3J0cy5kZXRhY2ggPSBkZXRhY2g7XG5leHBvcnRzLmRldGFjaF9hZnRlcl9kZXYgPSBkZXRhY2hfYWZ0ZXJfZGV2O1xuZXhwb3J0cy5kZXRhY2hfYmVmb3JlX2RldiA9IGRldGFjaF9iZWZvcmVfZGV2O1xuZXhwb3J0cy5kZXRhY2hfYmV0d2Vlbl9kZXYgPSBkZXRhY2hfYmV0d2Vlbl9kZXY7XG5leHBvcnRzLmRldGFjaF9kZXYgPSBkZXRhY2hfZGV2O1xuZXhwb3J0cy5kaXJ0eV9jb21wb25lbnRzID0gZGlydHlfY29tcG9uZW50cztcbmV4cG9ydHMuZGlzcGF0Y2hfZGV2ID0gZGlzcGF0Y2hfZGV2O1xuZXhwb3J0cy5lYWNoID0gZWFjaDtcbmV4cG9ydHMuZWxlbWVudCA9IGVsZW1lbnQ7XG5leHBvcnRzLmVsZW1lbnRfaXMgPSBlbGVtZW50X2lzO1xuZXhwb3J0cy5lbXB0eSA9IGVtcHR5O1xuZXhwb3J0cy5lc2NhcGUgPSBlc2NhcGU7XG5leHBvcnRzLmVzY2FwZWQgPSBlc2NhcGVkO1xuZXhwb3J0cy5leGNsdWRlX2ludGVybmFsX3Byb3BzID0gZXhjbHVkZV9pbnRlcm5hbF9wcm9wcztcbmV4cG9ydHMuZml4X2FuZF9kZXN0cm95X2Jsb2NrID0gZml4X2FuZF9kZXN0cm95X2Jsb2NrO1xuZXhwb3J0cy5maXhfYW5kX291dHJvX2FuZF9kZXN0cm95X2Jsb2NrID0gZml4X2FuZF9vdXRyb19hbmRfZGVzdHJveV9ibG9jaztcbmV4cG9ydHMuZml4X3Bvc2l0aW9uID0gZml4X3Bvc2l0aW9uO1xuZXhwb3J0cy5mbHVzaCA9IGZsdXNoO1xuZXhwb3J0cy5nZXRDb250ZXh0ID0gZ2V0Q29udGV4dDtcbmV4cG9ydHMuZ2V0X2JpbmRpbmdfZ3JvdXBfdmFsdWUgPSBnZXRfYmluZGluZ19ncm91cF92YWx1ZTtcbmV4cG9ydHMuZ2V0X2N1cnJlbnRfY29tcG9uZW50ID0gZ2V0X2N1cnJlbnRfY29tcG9uZW50O1xuZXhwb3J0cy5nZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzID0gZ2V0X2N1c3RvbV9lbGVtZW50c19zbG90cztcbmV4cG9ydHMuZ2V0X3Nsb3RfY2hhbmdlcyA9IGdldF9zbG90X2NoYW5nZXM7XG5leHBvcnRzLmdldF9zbG90X2NvbnRleHQgPSBnZXRfc2xvdF9jb250ZXh0O1xuZXhwb3J0cy5nZXRfc3ByZWFkX29iamVjdCA9IGdldF9zcHJlYWRfb2JqZWN0O1xuZXhwb3J0cy5nZXRfc3ByZWFkX3VwZGF0ZSA9IGdldF9zcHJlYWRfdXBkYXRlO1xuZXhwb3J0cy5nZXRfc3RvcmVfdmFsdWUgPSBnZXRfc3RvcmVfdmFsdWU7XG5leHBvcnRzLmdsb2JhbHMgPSBnbG9iYWxzO1xuZXhwb3J0cy5ncm91cF9vdXRyb3MgPSBncm91cF9vdXRyb3M7XG5leHBvcnRzLmhhbmRsZV9wcm9taXNlID0gaGFuZGxlX3Byb21pc2U7XG5leHBvcnRzLmhhc0NvbnRleHQgPSBoYXNDb250ZXh0O1xuZXhwb3J0cy5oYXNfcHJvcCA9IGhhc19wcm9wO1xuZXhwb3J0cy5pZGVudGl0eSA9IGlkZW50aXR5O1xuZXhwb3J0cy5pbml0ID0gaW5pdDtcbmV4cG9ydHMuaW5zZXJ0ID0gaW5zZXJ0O1xuZXhwb3J0cy5pbnNlcnRfZGV2ID0gaW5zZXJ0X2RldjtcbmV4cG9ydHMuaW50cm9zID0gaW50cm9zO1xuZXhwb3J0cy5pbnZhbGlkX2F0dHJpYnV0ZV9uYW1lX2NoYXJhY3RlciA9IGludmFsaWRfYXR0cmlidXRlX25hbWVfY2hhcmFjdGVyO1xuZXhwb3J0cy5pc19jbGllbnQgPSBpc19jbGllbnQ7XG5leHBvcnRzLmlzX2Nyb3Nzb3JpZ2luID0gaXNfY3Jvc3NvcmlnaW47XG5leHBvcnRzLmlzX2VtcHR5ID0gaXNfZW1wdHk7XG5leHBvcnRzLmlzX2Z1bmN0aW9uID0gaXNfZnVuY3Rpb247XG5leHBvcnRzLmlzX3Byb21pc2UgPSBpc19wcm9taXNlO1xuZXhwb3J0cy5saXN0ZW4gPSBsaXN0ZW47XG5leHBvcnRzLmxpc3Rlbl9kZXYgPSBsaXN0ZW5fZGV2O1xuZXhwb3J0cy5sb29wID0gbG9vcDtcbmV4cG9ydHMubG9vcF9ndWFyZCA9IGxvb3BfZ3VhcmQ7XG5leHBvcnRzLm1pc3NpbmdfY29tcG9uZW50ID0gbWlzc2luZ19jb21wb25lbnQ7XG5leHBvcnRzLm1vdW50X2NvbXBvbmVudCA9IG1vdW50X2NvbXBvbmVudDtcbmV4cG9ydHMubm9vcCA9IG5vb3A7XG5leHBvcnRzLm5vdF9lcXVhbCA9IG5vdF9lcXVhbDtcbmV4cG9ydHMubnVsbF90b19lbXB0eSA9IG51bGxfdG9fZW1wdHk7XG5leHBvcnRzLm9iamVjdF93aXRob3V0X3Byb3BlcnRpZXMgPSBvYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzO1xuZXhwb3J0cy5vbkRlc3Ryb3kgPSBvbkRlc3Ryb3k7XG5leHBvcnRzLm9uTW91bnQgPSBvbk1vdW50O1xuZXhwb3J0cy5vbmNlID0gb25jZTtcbmV4cG9ydHMub3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2sgPSBvdXRyb19hbmRfZGVzdHJveV9ibG9jaztcbmV4cG9ydHMucHJldmVudF9kZWZhdWx0ID0gcHJldmVudF9kZWZhdWx0O1xuZXhwb3J0cy5wcm9wX2RldiA9IHByb3BfZGV2O1xuZXhwb3J0cy5xdWVyeV9zZWxlY3Rvcl9hbGwgPSBxdWVyeV9zZWxlY3Rvcl9hbGw7XG5leHBvcnRzLnJ1biA9IHJ1bjtcbmV4cG9ydHMucnVuX2FsbCA9IHJ1bl9hbGw7XG5leHBvcnRzLnNhZmVfbm90X2VxdWFsID0gc2FmZV9ub3RfZXF1YWw7XG5leHBvcnRzLnNjaGVkdWxlX3VwZGF0ZSA9IHNjaGVkdWxlX3VwZGF0ZTtcbmV4cG9ydHMuc2VsZWN0X211bHRpcGxlX3ZhbHVlID0gc2VsZWN0X211bHRpcGxlX3ZhbHVlO1xuZXhwb3J0cy5zZWxlY3Rfb3B0aW9uID0gc2VsZWN0X29wdGlvbjtcbmV4cG9ydHMuc2VsZWN0X29wdGlvbnMgPSBzZWxlY3Rfb3B0aW9ucztcbmV4cG9ydHMuc2VsZWN0X3ZhbHVlID0gc2VsZWN0X3ZhbHVlO1xuZXhwb3J0cy5zZWxmID0gc2VsZjtcbmV4cG9ydHMuc2V0Q29udGV4dCA9IHNldENvbnRleHQ7XG5leHBvcnRzLnNldF9hdHRyaWJ1dGVzID0gc2V0X2F0dHJpYnV0ZXM7XG5leHBvcnRzLnNldF9jdXJyZW50X2NvbXBvbmVudCA9IHNldF9jdXJyZW50X2NvbXBvbmVudDtcbmV4cG9ydHMuc2V0X2N1c3RvbV9lbGVtZW50X2RhdGEgPSBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YTtcbmV4cG9ydHMuc2V0X2RhdGEgPSBzZXRfZGF0YTtcbmV4cG9ydHMuc2V0X2RhdGFfZGV2ID0gc2V0X2RhdGFfZGV2O1xuZXhwb3J0cy5zZXRfaW5wdXRfdHlwZSA9IHNldF9pbnB1dF90eXBlO1xuZXhwb3J0cy5zZXRfaW5wdXRfdmFsdWUgPSBzZXRfaW5wdXRfdmFsdWU7XG5leHBvcnRzLnNldF9ub3cgPSBzZXRfbm93O1xuZXhwb3J0cy5zZXRfcmFmID0gc2V0X3JhZjtcbmV4cG9ydHMuc2V0X3N0b3JlX3ZhbHVlID0gc2V0X3N0b3JlX3ZhbHVlO1xuZXhwb3J0cy5zZXRfc3R5bGUgPSBzZXRfc3R5bGU7XG5leHBvcnRzLnNldF9zdmdfYXR0cmlidXRlcyA9IHNldF9zdmdfYXR0cmlidXRlcztcbmV4cG9ydHMuc3BhY2UgPSBzcGFjZTtcbmV4cG9ydHMuc3ByZWFkID0gc3ByZWFkO1xuZXhwb3J0cy5zdG9wX3Byb3BhZ2F0aW9uID0gc3RvcF9wcm9wYWdhdGlvbjtcbmV4cG9ydHMuc3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuZXhwb3J0cy5zdmdfZWxlbWVudCA9IHN2Z19lbGVtZW50O1xuZXhwb3J0cy50ZXh0ID0gdGV4dDtcbmV4cG9ydHMudGljayA9IHRpY2s7XG5leHBvcnRzLnRpbWVfcmFuZ2VzX3RvX2FycmF5ID0gdGltZV9yYW5nZXNfdG9fYXJyYXk7XG5leHBvcnRzLnRvX251bWJlciA9IHRvX251bWJlcjtcbmV4cG9ydHMudG9nZ2xlX2NsYXNzID0gdG9nZ2xlX2NsYXNzO1xuZXhwb3J0cy50cmFuc2l0aW9uX2luID0gdHJhbnNpdGlvbl9pbjtcbmV4cG9ydHMudHJhbnNpdGlvbl9vdXQgPSB0cmFuc2l0aW9uX291dDtcbmV4cG9ydHMudXBkYXRlX2tleWVkX2VhY2ggPSB1cGRhdGVfa2V5ZWRfZWFjaDtcbmV4cG9ydHMudXBkYXRlX3Nsb3QgPSB1cGRhdGVfc2xvdDtcbmV4cG9ydHMudXBkYXRlX3Nsb3Rfc3ByZWFkID0gdXBkYXRlX3Nsb3Rfc3ByZWFkO1xuZXhwb3J0cy52YWxpZGF0ZV9jb21wb25lbnQgPSB2YWxpZGF0ZV9jb21wb25lbnQ7XG5leHBvcnRzLnZhbGlkYXRlX2VhY2hfYXJndW1lbnQgPSB2YWxpZGF0ZV9lYWNoX2FyZ3VtZW50O1xuZXhwb3J0cy52YWxpZGF0ZV9lYWNoX2tleXMgPSB2YWxpZGF0ZV9lYWNoX2tleXM7XG5leHBvcnRzLnZhbGlkYXRlX3Nsb3RzID0gdmFsaWRhdGVfc2xvdHM7XG5leHBvcnRzLnZhbGlkYXRlX3N0b3JlID0gdmFsaWRhdGVfc3RvcmU7XG5leHBvcnRzLnhsaW5rX2F0dHIgPSB4bGlua19hdHRyO1xuIiwidmFyIF8kc3ZlbHRlXzIgPSB7fTtcblwidXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShfJHN2ZWx0ZV8yLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pOy8qIHJlbW92ZWQ6IHZhciBfJGludGVybmFsXzM9cmVxdWlyZShcIi4vaW50ZXJuYWwvaW5kZXguanNcIik7ICovO09iamVjdC5kZWZpbmVQcm9wZXJ0eShfJHN2ZWx0ZV8yLFwiU3ZlbHRlQ29tcG9uZW50XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIF8kaW50ZXJuYWxfMy5TdmVsdGVDb21wb25lbnREZXZ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KF8kc3ZlbHRlXzIsXCJTdmVsdGVDb21wb25lbnRUeXBlZFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBfJGludGVybmFsXzMuU3ZlbHRlQ29tcG9uZW50VHlwZWR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KF8kc3ZlbHRlXzIsXCJhZnRlclVwZGF0ZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBfJGludGVybmFsXzMuYWZ0ZXJVcGRhdGV9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KF8kc3ZlbHRlXzIsXCJiZWZvcmVVcGRhdGVcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gXyRpbnRlcm5hbF8zLmJlZm9yZVVwZGF0ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoXyRzdmVsdGVfMixcImNyZWF0ZUV2ZW50RGlzcGF0Y2hlclwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBfJGludGVybmFsXzMuY3JlYXRlRXZlbnREaXNwYXRjaGVyfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfJHN2ZWx0ZV8yLFwiZ2V0Q29udGV4dFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBfJGludGVybmFsXzMuZ2V0Q29udGV4dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoXyRzdmVsdGVfMixcImhhc0NvbnRleHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gXyRpbnRlcm5hbF8zLmhhc0NvbnRleHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KF8kc3ZlbHRlXzIsXCJvbkRlc3Ryb3lcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gXyRpbnRlcm5hbF8zLm9uRGVzdHJveX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoXyRzdmVsdGVfMixcIm9uTW91bnRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gXyRpbnRlcm5hbF8zLm9uTW91bnR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KF8kc3ZlbHRlXzIsXCJzZXRDb250ZXh0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIF8kaW50ZXJuYWxfMy5zZXRDb250ZXh0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfJHN2ZWx0ZV8yLFwidGlja1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBfJGludGVybmFsXzMudGlja319KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSW1sdVpHVjRMbXB6SWwwc0ltNWhiV1Z6SWpwYklrOWlhbVZqZENJc0ltUmxabWx1WlZCeWIzQmxjblI1SWl3aVpYaHdiM0owY3lJc0luWmhiSFZsSWl3aVpXNTFiV1Z5WVdKc1pTSXNJbWRsZENJc0ltbHVkR1Z5Ym1Gc0lpd2lVM1psYkhSbFEyOXRjRzl1Wlc1MFJHVjJJaXdpVTNabGJIUmxRMjl0Y0c5dVpXNTBWSGx3WldRaUxDSmhablJsY2xWd1pHRjBaU0lzSW1KbFptOXlaVlZ3WkdGMFpTSXNJbU55WldGMFpVVjJaVzUwUkdsemNHRjBZMmhsY2lJc0ltZGxkRU52Ym5SbGVIUWlMQ0pvWVhORGIyNTBaWGgwSWl3aWIyNUVaWE4wY205NUlpd2liMjVOYjNWdWRDSXNJbk5sZEVOdmJuUmxlSFFpTENKMGFXTnJJbDBzSW0xaGNIQnBibWR6SWpvaU8wRkJRVUVzV1VGQlFTeERRVVZCUVN4TlFVRkJRU3hEUVVGUFF5eGpRVUZCUVN4RFFVRmxReXhWUVVGQlFTeERRVUZUTEZsQlFVRXNRMEZCWXl4RFFVRkZReXhMUVVGQlFTeERRVUZCUVN4RFFVRlBMRU5CUVVFc1EwRkJRU3hEUVVGQkxFTkJSWFJFTEdkRlFVbEJTQ3hOUVVGQlFTeERRVUZQUXl4alFVRkJRU3hEUVVGbFF5eFZRVUZCUVN4RFFVRlRMR2xDUVVGQkxFTkJRVzFDTEVOQlEycEVSU3hWUVVGQlFTeERRVUZCUVN4RFFVRlpMRU5CUVVFc1EwRkRXa01zUjBGQlFVRXNRMEZCU3l4VlFVRkJMRU5CUTBvc1QwRkJUME1zV1VGQlFVRXNRMEZCVTBNc2EwSkJRVUZCTEVOQlFVRkJMRU5CUVVGQkxFTkJRVUZCTEVOQlIyeENVQ3hOUVVGQlFTeERRVUZQUXl4alFVRkJRU3hEUVVGbFF5eFZRVUZCUVN4RFFVRlRMSE5DUVVGQkxFTkJRWGRDTEVOQlEzUkVSU3hWUVVGQlFTeERRVUZCUVN4RFFVRlpMRU5CUVVFc1EwRkRXa01zUjBGQlFVRXNRMEZCU3l4VlFVRkJMRU5CUTBvc1QwRkJUME1zV1VGQlFVRXNRMEZCVTBVc2IwSkJRVUZCTEVOQlFVRkJMRU5CUVVGQkxFTkJRVUZCTEVOQlIyeENVaXhOUVVGQlFTeERRVUZQUXl4alFVRkJRU3hEUVVGbFF5eFZRVUZCUVN4RFFVRlRMR0ZCUVVFc1EwRkJaU3hEUVVNM1EwVXNWVUZCUVVFc1EwRkJRVUVzUTBGQldTeERRVUZCTEVOQlExcERMRWRCUVVGQkxFTkJRVXNzVlVGQlFTeERRVU5LTEU5QlFVOURMRmxCUVVGQkxFTkJRVk5ITEZkQlFVRkJMRU5CUVVGQkxFTkJRVUZCTEVOQlFVRkJMRU5CUjJ4Q1ZDeE5RVUZCUVN4RFFVRlBReXhqUVVGQlFTeERRVUZsUXl4VlFVRkJRU3hEUVVGVExHTkJRVUVzUTBGQlowSXNRMEZET1VORkxGVkJRVUZCTEVOQlFVRkJMRU5CUVZrc1EwRkJRU3hEUVVOYVF5eEhRVUZCUVN4RFFVRkxMRlZCUVVFc1EwRkRTaXhQUVVGUFF5eFpRVUZCUVN4RFFVRlRTU3haUVVGQlFTeERRVUZCUVN4RFFVRkJRU3hEUVVGQlFTeERRVWRzUWxZc1RVRkJRVUVzUTBGQlQwTXNZMEZCUVVFc1EwRkJaVU1zVlVGQlFVRXNRMEZCVXl4MVFrRkJRU3hEUVVGNVFpeERRVU4yUkVVc1ZVRkJRVUVzUTBGQlFVRXNRMEZCV1N4RFFVRkJMRU5CUTFwRExFZEJRVUZCTEVOQlFVc3NWVUZCUVN4RFFVTktMRTlCUVU5RExGbEJRVUZCTEVOQlFWTkxMSEZDUVVGQlFTeERRVUZCUVN4RFFVRkJRU3hEUVVGQlFTeERRVWRzUWxnc1RVRkJRVUVzUTBGQlQwTXNZMEZCUVVFc1EwRkJaVU1zVlVGQlFVRXNRMEZCVXl4WlFVRkJMRU5CUVdNc1EwRkROVU5GTEZWQlFVRkJMRU5CUVVGQkxFTkJRVmtzUTBGQlFTeERRVU5hUXl4SFFVRkJRU3hEUVVGTExGVkJRVUVzUTBGRFNpeFBRVUZQUXl4WlFVRkJRU3hEUVVGVFRTeFZRVUZCUVN4RFFVRkJRU3hEUVVGQlFTeERRVUZCUVN4RFFVZHNRbG9zVFVGQlFVRXNRMEZCVDBNc1kwRkJRVUVzUTBGQlpVTXNWVUZCUVVFc1EwRkJVeXhaUVVGQkxFTkJRV01zUTBGRE5VTkZMRlZCUVVGQkxFTkJRVUZCTEVOQlFWa3NRMEZCUVN4RFFVTmFReXhIUVVGQlFTeERRVUZMTEZWQlFVRXNRMEZEU2l4UFFVRlBReXhaUVVGQlFTeERRVUZUVHl4VlFVRkJRU3hEUVVGQlFTeERRVUZCUVN4RFFVRkJRU3hEUVVkc1FtSXNUVUZCUVVFc1EwRkJUME1zWTBGQlFVRXNRMEZCWlVNc1ZVRkJRVUVzUTBGQlV5eFhRVUZCTEVOQlFXRXNRMEZETTBORkxGVkJRVUZCTEVOQlFVRkJMRU5CUVZrc1EwRkJRU3hEUVVOYVF5eEhRVUZCUVN4RFFVRkxMRlZCUVVFc1EwRkRTaXhQUVVGUFF5eFpRVUZCUVN4RFFVRlRVU3hUUVVGQlFTeERRVUZCUVN4RFFVRkJRU3hEUVVGQlFTeERRVWRzUW1Rc1RVRkJRVUVzUTBGQlQwTXNZMEZCUVVFc1EwRkJaVU1zVlVGQlFVRXNRMEZCVXl4VFFVRkJMRU5CUVZjc1EwRkRla05GTEZWQlFVRkJMRU5CUVVGQkxFTkJRVmtzUTBGQlFTeERRVU5hUXl4SFFVRkJRU3hEUVVGTExGVkJRVUVzUTBGRFNpeFBRVUZQUXl4WlFVRkJRU3hEUVVGVFV5eFBRVUZCUVN4RFFVRkJRU3hEUVVGQlFTeERRVUZCUVN4RFFVZHNRbVlzVFVGQlFVRXNRMEZCVDBNc1kwRkJRVUVzUTBGQlpVTXNWVUZCUVVFc1EwRkJVeXhaUVVGQkxFTkJRV01zUTBGRE5VTkZMRlZCUVVGQkxFTkJRVUZCTEVOQlFWa3NRMEZCUVN4RFFVTmFReXhIUVVGQlFTeERRVUZMTEZWQlFVRXNRMEZEU2l4UFFVRlBReXhaUVVGQlFTeERRVUZUVlN4VlFVRkJRU3hEUVVGQlFTeERRVUZCUVN4RFFVRkJRU3hEUVVkc1FtaENMRTFCUVVGQkxFTkJRVTlETEdOQlFVRkJMRU5CUVdWRExGVkJRVUZCTEVOQlFWTXNUVUZCUVN4RFFVRlJMRU5CUTNSRFJTeFZRVUZCUVN4RFFVRkJRU3hEUVVGWkxFTkJRVUVzUTBGRFdrTXNSMEZCUVVFc1EwRkJTeXhWUVVGQkxFTkJRMG9zVDBGQlQwTXNXVUZCUVVFc1EwRkJVMWNzU1VGQlFVRXNRMEZCUVVFc1EwRkJRVUVzUTBGQlFVRXNRMEZCUVVFaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNlcyNTFiR3hkZlE9PSIsIlwidXNlIHN0cmljdFwiO2NvbnN0e1N2ZWx0ZUNvbXBvbmVudDpTdmVsdGVDb21wb25lbnQsYXBwZW5kOmFwcGVuZCxhdHRyOmF0dHIsZGV0YWNoOmRldGFjaCxlbGVtZW50OmVsZW1lbnQsaW5pdDppbml0LGluc2VydDppbnNlcnQsbm9vcDpub29wLHNhZmVfbm90X2VxdWFsOnNhZmVfbm90X2VxdWFsfT1fJGludGVybmFsXzM7ZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50KGN0eCl7bGV0IGRpdjQ7cmV0dXJue2MoKXsoZGl2ND1lbGVtZW50KFwiZGl2XCIpKS5pbm5lckhUTUw9JzxkaXYgY2xhc3M9XCJzdmVsdGUtMXA5Ynl3bVwiPjwvZGl2PjxkaXYgY2xhc3M9XCJzdmVsdGUtMXA5Ynl3bVwiPjwvZGl2PjxkaXYgY2xhc3M9XCJzdmVsdGUtMXA5Ynl3bVwiPjwvZGl2PjxkaXYgY2xhc3M9XCJzdmVsdGUtMXA5Ynl3bVwiPjwvZGl2PicsYXR0cihkaXY0LFwiY2xhc3NcIixcImxkcy1lbGxpcHNpcyBzdmVsdGUtMXA5Ynl3bVwiKX0sbSh0YXJnZXQsYW5jaG9yKXtpbnNlcnQodGFyZ2V0LGRpdjQsYW5jaG9yKX0scDpub29wLGk6bm9vcCxvOm5vb3AsZChkZXRhY2hpbmcpe2RldGFjaGluZyYmZGV0YWNoKGRpdjQpfX19dmFyIF8kTG9hZGVyXzE9Y2xhc3MgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnR7Y29uc3RydWN0b3Iob3B0aW9ucyl7dmFyIHN0eWxlO3N1cGVyKCksZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdmVsdGUtMXA5Ynl3bS1zdHlsZVwiKXx8KChzdHlsZT1lbGVtZW50KFwic3R5bGVcIikpLmlkPVwic3ZlbHRlLTFwOWJ5d20tc3R5bGVcIixzdHlsZS50ZXh0Q29udGVudD1cIi5sZHMtZWxsaXBzaXMuc3ZlbHRlLTFwOWJ5d20uc3ZlbHRlLTFwOWJ5d217ZGlzcGxheTppbmxpbmUtYmxvY2s7cG9zaXRpb246cmVsYXRpdmU7d2lkdGg6ODBweDtoZWlnaHQ6ODBweH0ubGRzLWVsbGlwc2lzLnN2ZWx0ZS0xcDlieXdtIGRpdi5zdmVsdGUtMXA5Ynl3bXtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MzNweDt3aWR0aDoxM3B4O2hlaWdodDoxM3B4O2JvcmRlci1yYWRpdXM6NTAlO2JhY2tncm91bmQ6IzAwMDthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmN1YmljLWJlemllcigwLCAxLCAxLCAwKX0ubGRzLWVsbGlwc2lzLnN2ZWx0ZS0xcDlieXdtIGRpdi5zdmVsdGUtMXA5Ynl3bTpudGgtY2hpbGQoMSl7bGVmdDo4cHg7YW5pbWF0aW9uOnN2ZWx0ZS0xcDlieXdtLWxkcy1lbGxpcHNpczEgMC42cyBpbmZpbml0ZX0ubGRzLWVsbGlwc2lzLnN2ZWx0ZS0xcDlieXdtIGRpdi5zdmVsdGUtMXA5Ynl3bTpudGgtY2hpbGQoMil7bGVmdDo4cHg7YW5pbWF0aW9uOnN2ZWx0ZS0xcDlieXdtLWxkcy1lbGxpcHNpczIgMC42cyBpbmZpbml0ZX0ubGRzLWVsbGlwc2lzLnN2ZWx0ZS0xcDlieXdtIGRpdi5zdmVsdGUtMXA5Ynl3bTpudGgtY2hpbGQoMyl7bGVmdDozMnB4O2FuaW1hdGlvbjpzdmVsdGUtMXA5Ynl3bS1sZHMtZWxsaXBzaXMyIDAuNnMgaW5maW5pdGV9Lmxkcy1lbGxpcHNpcy5zdmVsdGUtMXA5Ynl3bSBkaXYuc3ZlbHRlLTFwOWJ5d206bnRoLWNoaWxkKDQpe2xlZnQ6NTZweDthbmltYXRpb246c3ZlbHRlLTFwOWJ5d20tbGRzLWVsbGlwc2lzMyAwLjZzIGluZmluaXRlfUBrZXlmcmFtZXMgc3ZlbHRlLTFwOWJ5d20tbGRzLWVsbGlwc2lzMXswJXt0cmFuc2Zvcm06c2NhbGUoMCl9MTAwJXt0cmFuc2Zvcm06c2NhbGUoMSl9fUBrZXlmcmFtZXMgc3ZlbHRlLTFwOWJ5d20tbGRzLWVsbGlwc2lzM3swJXt0cmFuc2Zvcm06c2NhbGUoMSl9MTAwJXt0cmFuc2Zvcm06c2NhbGUoMCl9fUBrZXlmcmFtZXMgc3ZlbHRlLTFwOWJ5d20tbGRzLWVsbGlwc2lzMnswJXt0cmFuc2Zvcm06dHJhbnNsYXRlKDAsIDApfTEwMCV7dHJhbnNmb3JtOnRyYW5zbGF0ZSgyNHB4LCAwKX19XCIsYXBwZW5kKGRvY3VtZW50LmhlYWQsc3R5bGUpKSxpbml0KHRoaXMsb3B0aW9ucyxudWxsLGNyZWF0ZV9mcmFnbWVudCxzYWZlX25vdF9lcXVhbCx7fSl9fTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWt4dllXUmxjaTV6ZG1Wc2RHVWlYU3dpYm1GdFpYTWlPbHNpYlc5a2RXeGxJaXdpWlhod2IzSjBjeUpkTENKdFlYQndhVzVuY3lJNklpdHBRa0Y1UTBGQkxHTkJRVUZETEVOQlFVRkJMR05CUVVGQkxHVkJRVUZCTEVOQlFVRkJMRmRCUVVGQkxFTkJRVUZCTEU5QlFVRkJMRU5CUVVGQkxFTkJRVUZCTEVsQlFVRkJMRXRCUVVGQkxFTkJRVUZCTEV0QlFVRkJMRVZCUVVGQkxFTkJRVUZCTEZGQlFVRkJMRU5CUVVGQkxHTkJRVUZCTEVOQlFVRkJMSE5DUVVGQlFTeERRVUZCUVN4SFFVRkJRU3hEUVVGQlFTeExRVUZCUVN4RFFVRkJRU3hQUVVGQlFTeERRVUZCUVN4UFFVRkJRU3hEUVVGQlFTeEZRVUZCUVN4RlFVRkJRU3hEUVVGQlFTeHpRa0ZCUVVFc1EwRkJRVUVzUzBGQlFVRXNRMEZCUVVFc1YwRkJRVUVzUTBGQlFVRXNkV2xEUVVGQlFTeERRVUZCUVN4TlFVRkJRU3hEUVVGQlFTeFJRVUZCUVN4RFFVRkJRU3hKUVVGQlFTeERRVUZCUVN4TFFVRkJRU3hEUVVGQlFTeERRVUZCUVN4RFFVRkJRU3hKUVVGQlFTeERRVUZCUVN4SlFVRkJRU3hEUVVGQlFTeFBRVUZCUVN4RFFVRkJRU3hKUVVGQlFTeERRVUZCUVN4bFFVRkJRU3hEUVVGQlFTeGpRVUZCUVN4RFFVRkJRU3hGUVVGQlFTeERRVUZCUVN4RFFVRkJRU3hEUVVGQlFTeERRVUZCUVNJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYmJuVnNiRjE5IiwiXCJ1c2Ugc3RyaWN0XCI7Y29uc3R7U3ZlbHRlQ29tcG9uZW50Ol9fU3ZlbHRlQ29tcG9uZW50XzQsYXBwZW5kOl9fYXBwZW5kXzQsYXR0cjpfX2F0dHJfNCxjaGVja19vdXRyb3M6Y2hlY2tfb3V0cm9zLGNyZWF0ZV9jb21wb25lbnQ6Y3JlYXRlX2NvbXBvbmVudCxkZXN0cm95X2NvbXBvbmVudDpkZXN0cm95X2NvbXBvbmVudCxkZXN0cm95X2VhY2g6ZGVzdHJveV9lYWNoLGRldGFjaDpfX2RldGFjaF80LGVsZW1lbnQ6X19lbGVtZW50XzQsZW1wdHk6ZW1wdHksZ3JvdXBfb3V0cm9zOmdyb3VwX291dHJvcyxpbml0Ol9faW5pdF80LGluc2VydDpfX2luc2VydF80LGxpc3RlbjpsaXN0ZW4sbW91bnRfY29tcG9uZW50Om1vdW50X2NvbXBvbmVudCxub29wOl9fbm9vcF80LHJ1bl9hbGw6cnVuX2FsbCxzYWZlX25vdF9lcXVhbDpfX3NhZmVfbm90X2VxdWFsXzQsc2V0X2RhdGE6c2V0X2RhdGEsc2V0X2lucHV0X3ZhbHVlOnNldF9pbnB1dF92YWx1ZSxzcGFjZTpzcGFjZSx0ZXh0OnRleHQsdG9nZ2xlX2NsYXNzOnRvZ2dsZV9jbGFzcyx0cmFuc2l0aW9uX2luOnRyYW5zaXRpb25faW4sdHJhbnNpdGlvbl9vdXQ6dHJhbnNpdGlvbl9vdXR9PV8kaW50ZXJuYWxfMyx7b25Nb3VudDpvbk1vdW50fT1fJHN2ZWx0ZV8yO2Z1bmN0aW9uIGdldF9lYWNoX2NvbnRleHQoY3R4LGxpc3QsaSl7Y29uc3QgY2hpbGRfY3R4PWN0eC5zbGljZSgpO3JldHVybiBjaGlsZF9jdHhbMTJdPWxpc3RbaV0sY2hpbGRfY3R4WzE0XT1pLGNoaWxkX2N0eH1mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2tfMyhjdHgpe2xldCBzdXAsaSxpX2RhdGFfb3JpZ2luYWxfdGl0bGVfdmFsdWUsdDtyZXR1cm57Yygpe3N1cD1fX2VsZW1lbnRfNChcInN1cFwiKSxpPV9fZWxlbWVudF80KFwiaVwiKSx0PXNwYWNlKCksX19hdHRyXzQoaSxcImNsYXNzXCIsXCJmYXIgZmEtcXVlc3Rpb24tY2lyY2xlXCIpLF9fYXR0cl80KGksXCJkYXRhLXRvZ2dsZVwiLFwidG9vbHRpcFwiKSxfX2F0dHJfNChpLFwidGl0bGVcIixcIlwiKSxfX2F0dHJfNChpLFwiZGF0YS1vcmlnaW5hbC10aXRsZVwiLGlfZGF0YV9vcmlnaW5hbF90aXRsZV92YWx1ZT1jdHhbMF0uZGVzY3JpcHRpb24pfSxtKHRhcmdldCxhbmNob3Ipe19faW5zZXJ0XzQodGFyZ2V0LHN1cCxhbmNob3IpLF9fYXBwZW5kXzQoc3VwLGkpLF9faW5zZXJ0XzQodGFyZ2V0LHQsYW5jaG9yKX0scChjdHgsZGlydHkpezEmZGlydHkmJmlfZGF0YV9vcmlnaW5hbF90aXRsZV92YWx1ZSE9PShpX2RhdGFfb3JpZ2luYWxfdGl0bGVfdmFsdWU9Y3R4WzBdLmRlc2NyaXB0aW9uKSYmX19hdHRyXzQoaSxcImRhdGEtb3JpZ2luYWwtdGl0bGVcIixpX2RhdGFfb3JpZ2luYWxfdGl0bGVfdmFsdWUpfSxkKGRldGFjaGluZyl7ZGV0YWNoaW5nJiZfX2RldGFjaF80KHN1cCksZGV0YWNoaW5nJiZfX2RldGFjaF80KHQpfX19ZnVuY3Rpb24gY3JlYXRlX2Vsc2VfYmxvY2tfMShjdHgpe2xldCBkaXYxLGRpdjAsdDtyZXR1cm57Yygpe2RpdjE9X19lbGVtZW50XzQoXCJkaXZcIiksZGl2MD1fX2VsZW1lbnRfNChcImRpdlwiKSx0PXRleHQoY3R4WzRdKSxfX2F0dHJfNChkaXYwLFwiY2xhc3NcIixcImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIiksX19hdHRyXzQoZGl2MCxcInJvbGVcIixcImFsZXJ0XCIpLF9fYXR0cl80KGRpdjEsXCJjbGFzc1wiLFwidy0xMDBcIil9LG0odGFyZ2V0LGFuY2hvcil7X19pbnNlcnRfNCh0YXJnZXQsZGl2MSxhbmNob3IpLF9fYXBwZW5kXzQoZGl2MSxkaXYwKSxfX2FwcGVuZF80KGRpdjAsdCl9LHAoY3R4LGRpcnR5KXsxNiZkaXJ0eSYmc2V0X2RhdGEodCxjdHhbNF0pfSxpOl9fbm9vcF80LG86X19ub29wXzQsZChkZXRhY2hpbmcpe2RldGFjaGluZyYmX19kZXRhY2hfNChkaXYxKX19fWZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9jayhjdHgpe2xldCBpZl9ibG9ja19hbmNob3IsY3VycmVudCxpZl9ibG9jaz1jdHhbM10mJmN0eFsxXSYmY3JlYXRlX2lmX2Jsb2NrXzEoY3R4KTtyZXR1cm57Yygpe2lmX2Jsb2NrJiZpZl9ibG9jay5jKCksaWZfYmxvY2tfYW5jaG9yPWVtcHR5KCl9LG0odGFyZ2V0LGFuY2hvcil7aWZfYmxvY2smJmlmX2Jsb2NrLm0odGFyZ2V0LGFuY2hvciksX19pbnNlcnRfNCh0YXJnZXQsaWZfYmxvY2tfYW5jaG9yLGFuY2hvciksY3VycmVudD0hMH0scChjdHgsZGlydHkpe2N0eFszXSYmY3R4WzFdP2lmX2Jsb2NrPyhpZl9ibG9jay5wKGN0eCxkaXJ0eSksMTAmZGlydHkmJnRyYW5zaXRpb25faW4oaWZfYmxvY2ssMSkpOigoaWZfYmxvY2s9Y3JlYXRlX2lmX2Jsb2NrXzEoY3R4KSkuYygpLHRyYW5zaXRpb25faW4oaWZfYmxvY2ssMSksaWZfYmxvY2subShpZl9ibG9ja19hbmNob3IucGFyZW50Tm9kZSxpZl9ibG9ja19hbmNob3IpKTppZl9ibG9jayYmKGdyb3VwX291dHJvcygpLHRyYW5zaXRpb25fb3V0KGlmX2Jsb2NrLDEsMSwoKT0+e2lmX2Jsb2NrPW51bGx9KSxjaGVja19vdXRyb3MoKSl9LGkobG9jYWwpe2N1cnJlbnR8fCh0cmFuc2l0aW9uX2luKGlmX2Jsb2NrKSxjdXJyZW50PSEwKX0sbyhsb2NhbCl7dHJhbnNpdGlvbl9vdXQoaWZfYmxvY2spLGN1cnJlbnQ9ITF9LGQoZGV0YWNoaW5nKXtpZl9ibG9jayYmaWZfYmxvY2suZChkZXRhY2hpbmcpLGRldGFjaGluZyYmX19kZXRhY2hfNChpZl9ibG9ja19hbmNob3IpfX19ZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzEoY3R4KXtsZXQgZGl2LGN1cnJlbnRfYmxvY2tfdHlwZV9pbmRleCxpZl9ibG9jayxjdXJyZW50O2NvbnN0IGlmX2Jsb2NrX2NyZWF0b3JzPVtjcmVhdGVfaWZfYmxvY2tfMixjcmVhdGVfZWxzZV9ibG9ja10saWZfYmxvY2tzPVtdO2Z1bmN0aW9uIHNlbGVjdF9ibG9ja190eXBlXzEoY3R4LGRpcnR5KXtyZXR1cm4gdm9pZCAwPT09Y3R4WzJdPzA6MX1yZXR1cm4gY3VycmVudF9ibG9ja190eXBlX2luZGV4PXNlbGVjdF9ibG9ja190eXBlXzEoY3R4KSxpZl9ibG9jaz1pZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XT1pZl9ibG9ja19jcmVhdG9yc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdKGN0eCkse2MoKXtkaXY9X19lbGVtZW50XzQoXCJkaXZcIiksaWZfYmxvY2suYygpLF9fYXR0cl80KGRpdixcImNsYXNzXCIsXCJhdXRvY29tcGxldGUtaXRlbXMgc3ZlbHRlLW1iOXQ3dFwiKX0sbSh0YXJnZXQsYW5jaG9yKXtfX2luc2VydF80KHRhcmdldCxkaXYsYW5jaG9yKSxpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XS5tKGRpdixudWxsKSxjdXJyZW50PSEwfSxwKGN0eCxkaXJ0eSl7bGV0IHByZXZpb3VzX2Jsb2NrX2luZGV4PWN1cnJlbnRfYmxvY2tfdHlwZV9pbmRleDsoY3VycmVudF9ibG9ja190eXBlX2luZGV4PXNlbGVjdF9ibG9ja190eXBlXzEoY3R4KSk9PT1wcmV2aW91c19ibG9ja19pbmRleD9pZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XS5wKGN0eCxkaXJ0eSk6KGdyb3VwX291dHJvcygpLHRyYW5zaXRpb25fb3V0KGlmX2Jsb2Nrc1twcmV2aW91c19ibG9ja19pbmRleF0sMSwxLCgpPT57aWZfYmxvY2tzW3ByZXZpb3VzX2Jsb2NrX2luZGV4XT1udWxsfSksY2hlY2tfb3V0cm9zKCksKGlmX2Jsb2NrPWlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdKT9pZl9ibG9jay5wKGN0eCxkaXJ0eSk6KGlmX2Jsb2NrPWlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdPWlmX2Jsb2NrX2NyZWF0b3JzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0oY3R4KSkuYygpLHRyYW5zaXRpb25faW4oaWZfYmxvY2ssMSksaWZfYmxvY2subShkaXYsbnVsbCkpfSxpKGxvY2FsKXtjdXJyZW50fHwodHJhbnNpdGlvbl9pbihpZl9ibG9jayksY3VycmVudD0hMCl9LG8obG9jYWwpe3RyYW5zaXRpb25fb3V0KGlmX2Jsb2NrKSxjdXJyZW50PSExfSxkKGRldGFjaGluZyl7ZGV0YWNoaW5nJiZfX2RldGFjaF80KGRpdiksaWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0uZCgpfX19ZnVuY3Rpb24gY3JlYXRlX2Vsc2VfYmxvY2soY3R4KXtsZXQgZWFjaF8xX2FuY2hvcixlYWNoX3ZhbHVlPWN0eFs2XSxlYWNoX2Jsb2Nrcz1bXTtmb3IobGV0IGk9MDtpPGVhY2hfdmFsdWUubGVuZ3RoO2krPTEpZWFjaF9ibG9ja3NbaV09Y3JlYXRlX2VhY2hfYmxvY2soZ2V0X2VhY2hfY29udGV4dChjdHgsZWFjaF92YWx1ZSxpKSk7cmV0dXJue2MoKXtmb3IobGV0IGk9MDtpPGVhY2hfYmxvY2tzLmxlbmd0aDtpKz0xKWVhY2hfYmxvY2tzW2ldLmMoKTtlYWNoXzFfYW5jaG9yPWVtcHR5KCl9LG0odGFyZ2V0LGFuY2hvcil7Zm9yKGxldCBpPTA7aTxlYWNoX2Jsb2Nrcy5sZW5ndGg7aSs9MSllYWNoX2Jsb2Nrc1tpXS5tKHRhcmdldCxhbmNob3IpO19faW5zZXJ0XzQodGFyZ2V0LGVhY2hfMV9hbmNob3IsYW5jaG9yKX0scChjdHgsZGlydHkpe2lmKDk4JmRpcnR5KXtsZXQgaTtmb3IoZWFjaF92YWx1ZT1jdHhbNl0saT0wO2k8ZWFjaF92YWx1ZS5sZW5ndGg7aSs9MSl7Y29uc3QgY2hpbGRfY3R4PWdldF9lYWNoX2NvbnRleHQoY3R4LGVhY2hfdmFsdWUsaSk7ZWFjaF9ibG9ja3NbaV0/ZWFjaF9ibG9ja3NbaV0ucChjaGlsZF9jdHgsZGlydHkpOihlYWNoX2Jsb2Nrc1tpXT1jcmVhdGVfZWFjaF9ibG9jayhjaGlsZF9jdHgpLGVhY2hfYmxvY2tzW2ldLmMoKSxlYWNoX2Jsb2Nrc1tpXS5tKGVhY2hfMV9hbmNob3IucGFyZW50Tm9kZSxlYWNoXzFfYW5jaG9yKSl9Zm9yKDtpPGVhY2hfYmxvY2tzLmxlbmd0aDtpKz0xKWVhY2hfYmxvY2tzW2ldLmQoMSk7ZWFjaF9ibG9ja3MubGVuZ3RoPWVhY2hfdmFsdWUubGVuZ3RofX0saTpfX25vb3BfNCxvOl9fbm9vcF80LGQoZGV0YWNoaW5nKXtkZXN0cm95X2VhY2goZWFjaF9ibG9ja3MsZGV0YWNoaW5nKSxkZXRhY2hpbmcmJl9fZGV0YWNoXzQoZWFjaF8xX2FuY2hvcil9fX1mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2tfMihjdHgpe2xldCBjZW50ZXIsbG9hZGVyLGN1cnJlbnQ7cmV0dXJuIGxvYWRlcj1uZXcgXyRMb2FkZXJfMSh7fSkse2MoKXtjZW50ZXI9X19lbGVtZW50XzQoXCJjZW50ZXJcIiksY3JlYXRlX2NvbXBvbmVudChsb2FkZXIuJCQuZnJhZ21lbnQpfSxtKHRhcmdldCxhbmNob3Ipe19faW5zZXJ0XzQodGFyZ2V0LGNlbnRlcixhbmNob3IpLG1vdW50X2NvbXBvbmVudChsb2FkZXIsY2VudGVyLG51bGwpLGN1cnJlbnQ9ITB9LHA6X19ub29wXzQsaShsb2NhbCl7Y3VycmVudHx8KHRyYW5zaXRpb25faW4obG9hZGVyLiQkLmZyYWdtZW50LGxvY2FsKSxjdXJyZW50PSEwKX0sbyhsb2NhbCl7dHJhbnNpdGlvbl9vdXQobG9hZGVyLiQkLmZyYWdtZW50LGxvY2FsKSxjdXJyZW50PSExfSxkKGRldGFjaGluZyl7ZGV0YWNoaW5nJiZfX2RldGFjaF80KGNlbnRlciksZGVzdHJveV9jb21wb25lbnQobG9hZGVyKX19fWZ1bmN0aW9uIGNyZWF0ZV9lYWNoX2Jsb2NrKGN0eCl7bGV0IGRpdixzdHJvbmcsdDAsdDEsdDIsbW91bnRlZCxkaXNwb3NlLHQwX3ZhbHVlPWN0eFsxMl0uc3Vic3RyKDAsY3R4WzFdLmxlbmd0aCkrXCJcIix0MV92YWx1ZT1jdHhbMTJdLnN1YnN0cihjdHhbMV0ubGVuZ3RoKStcIlwiO2Z1bmN0aW9uIG1vdXNlZG93bl9oYW5kbGVyKCl7cmV0dXJuIGN0eFsxMV0oY3R4WzEyXSl9cmV0dXJue2MoKXtkaXY9X19lbGVtZW50XzQoXCJkaXZcIiksc3Ryb25nPV9fZWxlbWVudF80KFwic3Ryb25nXCIpLHQwPXRleHQodDBfdmFsdWUpLHQxPXRleHQodDFfdmFsdWUpLHQyPXNwYWNlKCksX19hdHRyXzQoZGl2LFwiY2xhc3NcIixcInN2ZWx0ZS1tYjl0N3RcIiksdG9nZ2xlX2NsYXNzKGRpdixcImF1dG9jb21wbGV0ZS1hY3RpdmVcIixjdHhbNV09PT1jdHhbMTRdKX0sbSh0YXJnZXQsYW5jaG9yKXtfX2luc2VydF80KHRhcmdldCxkaXYsYW5jaG9yKSxfX2FwcGVuZF80KGRpdixzdHJvbmcpLF9fYXBwZW5kXzQoc3Ryb25nLHQwKSxfX2FwcGVuZF80KGRpdix0MSksX19hcHBlbmRfNChkaXYsdDIpLG1vdW50ZWR8fChkaXNwb3NlPWxpc3RlbihkaXYsXCJtb3VzZWRvd25cIixtb3VzZWRvd25faGFuZGxlciksbW91bnRlZD0hMCl9LHAobmV3X2N0eCxkaXJ0eSl7Y3R4PW5ld19jdHgsNjYmZGlydHkmJnQwX3ZhbHVlIT09KHQwX3ZhbHVlPWN0eFsxMl0uc3Vic3RyKDAsY3R4WzFdLmxlbmd0aCkrXCJcIikmJnNldF9kYXRhKHQwLHQwX3ZhbHVlKSw2NiZkaXJ0eSYmdDFfdmFsdWUhPT0odDFfdmFsdWU9Y3R4WzEyXS5zdWJzdHIoY3R4WzFdLmxlbmd0aCkrXCJcIikmJnNldF9kYXRhKHQxLHQxX3ZhbHVlKSwzMiZkaXJ0eSYmdG9nZ2xlX2NsYXNzKGRpdixcImF1dG9jb21wbGV0ZS1hY3RpdmVcIixjdHhbNV09PT1jdHhbMTRdKX0sZChkZXRhY2hpbmcpe2RldGFjaGluZyYmX19kZXRhY2hfNChkaXYpLG1vdW50ZWQ9ITEsZGlzcG9zZSgpfX19ZnVuY3Rpb24gX19jcmVhdGVfZnJhZ21lbnRfNChjdHgpe2xldCBkaXYyLGRpdjAsdDAsdDEsdDIsdDMsZGl2MSxpbnB1dCxpbnB1dF9pZF92YWx1ZSxpbnB1dF9uYW1lX3ZhbHVlLGlucHV0X3BsYWNlaG9sZGVyX3ZhbHVlLHQ0LGN1cnJlbnRfYmxvY2tfdHlwZV9pbmRleCxpZl9ibG9jazEsY3VycmVudCxtb3VudGVkLGRpc3Bvc2UsdDBfdmFsdWU9Y3R4WzBdLmxhYmVsK1wiXCIsaWZfYmxvY2swPWN0eFswXS5kZXNjcmlwdGlvbiYmY3JlYXRlX2lmX2Jsb2NrXzMoY3R4KTtjb25zdCBpZl9ibG9ja19jcmVhdG9ycz1bY3JlYXRlX2lmX2Jsb2NrLGNyZWF0ZV9lbHNlX2Jsb2NrXzFdLGlmX2Jsb2Nrcz1bXTtmdW5jdGlvbiBzZWxlY3RfYmxvY2tfdHlwZShjdHgsZGlydHkpe3JldHVybiB2b2lkIDA9PT1jdHhbNF0/MDoxfXJldHVybiBjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXg9c2VsZWN0X2Jsb2NrX3R5cGUoY3R4KSxpZl9ibG9jazE9aWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF09aWZfYmxvY2tfY3JlYXRvcnNbY3VycmVudF9ibG9ja190eXBlX2luZGV4XShjdHgpLHtjKCl7ZGl2Mj1fX2VsZW1lbnRfNChcImRpdlwiKSxkaXYwPV9fZWxlbWVudF80KFwiZGl2XCIpLHQwPXRleHQodDBfdmFsdWUpLHQxPXNwYWNlKCksaWZfYmxvY2swJiZpZl9ibG9jazAuYygpLHQyPXRleHQoXCI6XCIpLHQzPXNwYWNlKCksZGl2MT1fX2VsZW1lbnRfNChcImRpdlwiKSxpbnB1dD1fX2VsZW1lbnRfNChcImlucHV0XCIpLHQ0PXNwYWNlKCksaWZfYmxvY2sxLmMoKSxfX2F0dHJfNChkaXYwLFwiY2xhc3NcIixcImNvbC1sZy0zIGJvbGQgdGV4dC1sZy1yaWdodCBteS1hdXRvXCIpLF9fYXR0cl80KGlucHV0LFwidHlwZVwiLFwidGV4dFwiKSxfX2F0dHJfNChpbnB1dCxcImlkXCIsaW5wdXRfaWRfdmFsdWU9Y3R4WzBdLm5hbWUpLF9fYXR0cl80KGlucHV0LFwibmFtZVwiLGlucHV0X25hbWVfdmFsdWU9Y3R4WzBdLm5hbWUpLF9fYXR0cl80KGlucHV0LFwiY2xhc3NcIixcImZvcm0tY29udHJvbCBub2RlY29yYXRpb24gdGlueSBiZy13aGl0ZSBweC0yIHB5LTEgbWItMFwiKSxfX2F0dHJfNChpbnB1dCxcImF1dG9jb21wbGV0ZVwiLFwib2ZmXCIpLF9fYXR0cl80KGlucHV0LFwicGxhY2Vob2xkZXJcIixpbnB1dF9wbGFjZWhvbGRlcl92YWx1ZT1jdHhbMF0uaGludCksX19hdHRyXzQoZGl2MSxcImNsYXNzXCIsXCJhdXRvY29tcGxldGUgY29sLWxnLTYgcHQtMiBwdC1sZy0wIHN2ZWx0ZS1tYjl0N3RcIiksX19hdHRyXzQoZGl2MixcImNsYXNzXCIsXCJyb3cgcHgtNCBweC1sZy0zIHBiLTRcIil9LG0odGFyZ2V0LGFuY2hvcil7X19pbnNlcnRfNCh0YXJnZXQsZGl2MixhbmNob3IpLF9fYXBwZW5kXzQoZGl2MixkaXYwKSxfX2FwcGVuZF80KGRpdjAsdDApLF9fYXBwZW5kXzQoZGl2MCx0MSksaWZfYmxvY2swJiZpZl9ibG9jazAubShkaXYwLG51bGwpLF9fYXBwZW5kXzQoZGl2MCx0MiksX19hcHBlbmRfNChkaXYyLHQzKSxfX2FwcGVuZF80KGRpdjIsZGl2MSksX19hcHBlbmRfNChkaXYxLGlucHV0KSxzZXRfaW5wdXRfdmFsdWUoaW5wdXQsY3R4WzFdKSxfX2FwcGVuZF80KGRpdjEsdDQpLGlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdLm0oZGl2MSxudWxsKSxjdXJyZW50PSEwLG1vdW50ZWR8fChkaXNwb3NlPVtsaXN0ZW4oaW5wdXQsXCJpbnB1dFwiLGN0eFs3XSksbGlzdGVuKGlucHV0LFwiZm9jdXNcIixjdHhbOF0pLGxpc3RlbihpbnB1dCxcImJsdXJcIixjdHhbOV0pLGxpc3RlbihpbnB1dCxcImtleWRvd25cIixjdHhbMTBdKV0sbW91bnRlZD0hMCl9LHAoY3R4LFtkaXJ0eV0peyghY3VycmVudHx8MSZkaXJ0eSkmJnQwX3ZhbHVlIT09KHQwX3ZhbHVlPWN0eFswXS5sYWJlbCtcIlwiKSYmc2V0X2RhdGEodDAsdDBfdmFsdWUpLGN0eFswXS5kZXNjcmlwdGlvbj9pZl9ibG9jazA/aWZfYmxvY2swLnAoY3R4LGRpcnR5KTooKGlmX2Jsb2NrMD1jcmVhdGVfaWZfYmxvY2tfMyhjdHgpKS5jKCksaWZfYmxvY2swLm0oZGl2MCx0MikpOmlmX2Jsb2NrMCYmKGlmX2Jsb2NrMC5kKDEpLGlmX2Jsb2NrMD1udWxsKSwoIWN1cnJlbnR8fDEmZGlydHkmJmlucHV0X2lkX3ZhbHVlIT09KGlucHV0X2lkX3ZhbHVlPWN0eFswXS5uYW1lKSkmJl9fYXR0cl80KGlucHV0LFwiaWRcIixpbnB1dF9pZF92YWx1ZSksKCFjdXJyZW50fHwxJmRpcnR5JiZpbnB1dF9uYW1lX3ZhbHVlIT09KGlucHV0X25hbWVfdmFsdWU9Y3R4WzBdLm5hbWUpKSYmX19hdHRyXzQoaW5wdXQsXCJuYW1lXCIsaW5wdXRfbmFtZV92YWx1ZSksKCFjdXJyZW50fHwxJmRpcnR5JiZpbnB1dF9wbGFjZWhvbGRlcl92YWx1ZSE9PShpbnB1dF9wbGFjZWhvbGRlcl92YWx1ZT1jdHhbMF0uaGludCkpJiZfX2F0dHJfNChpbnB1dCxcInBsYWNlaG9sZGVyXCIsaW5wdXRfcGxhY2Vob2xkZXJfdmFsdWUpLDImZGlydHkmJmlucHV0LnZhbHVlIT09Y3R4WzFdJiZzZXRfaW5wdXRfdmFsdWUoaW5wdXQsY3R4WzFdKTtsZXQgcHJldmlvdXNfYmxvY2tfaW5kZXg9Y3VycmVudF9ibG9ja190eXBlX2luZGV4OyhjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXg9c2VsZWN0X2Jsb2NrX3R5cGUoY3R4KSk9PT1wcmV2aW91c19ibG9ja19pbmRleD9pZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XS5wKGN0eCxkaXJ0eSk6KGdyb3VwX291dHJvcygpLHRyYW5zaXRpb25fb3V0KGlmX2Jsb2Nrc1twcmV2aW91c19ibG9ja19pbmRleF0sMSwxLCgpPT57aWZfYmxvY2tzW3ByZXZpb3VzX2Jsb2NrX2luZGV4XT1udWxsfSksY2hlY2tfb3V0cm9zKCksKGlmX2Jsb2NrMT1pZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XSk/aWZfYmxvY2sxLnAoY3R4LGRpcnR5KTooaWZfYmxvY2sxPWlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdPWlmX2Jsb2NrX2NyZWF0b3JzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0oY3R4KSkuYygpLHRyYW5zaXRpb25faW4oaWZfYmxvY2sxLDEpLGlmX2Jsb2NrMS5tKGRpdjEsbnVsbCkpfSxpKGxvY2FsKXtjdXJyZW50fHwodHJhbnNpdGlvbl9pbihpZl9ibG9jazEpLGN1cnJlbnQ9ITApfSxvKGxvY2FsKXt0cmFuc2l0aW9uX291dChpZl9ibG9jazEpLGN1cnJlbnQ9ITF9LGQoZGV0YWNoaW5nKXtkZXRhY2hpbmcmJl9fZGV0YWNoXzQoZGl2MiksaWZfYmxvY2swJiZpZl9ibG9jazAuZCgpLGlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdLmQoKSxtb3VudGVkPSExLHJ1bl9hbGwoZGlzcG9zZSl9fX1mdW5jdGlvbiBpbnN0YW5jZSgkJHNlbGYsJCRwcm9wcywkJGludmFsaWRhdGUpe2xldCBmb2N1c2VkLGVycm9yLGl0ZW1zLHJlbGV2YW50X2l0ZW1zLHthcmdzOmFyZ3N9PSQkcHJvcHMsdmFsdWU9YXJncy5kZWZhdWx0LGN1cnJlbnRfZm9jdXM9LTE7b25Nb3VudChhc3luYygpPT57dHJ5e2lmKHZvaWQgMCE9PWFyZ3MuZmlsZV9wYXRoKXtjb25zdCByZXE9YXdhaXQgZmV0Y2goYXJncy5maWxlX3BhdGgpLHJlc3VsdD1hd2FpdCByZXEuanNvbigpO2lmKFwib2JqZWN0XCIhPXR5cGVvZiByZXN1bHQpdGhyb3cgbmV3IEVycm9yKFwiVW5yZWNvZ25pemVkIHR5cGUgZm9yIGRvd25sb2FkZWQgZmlsZVwiKTtBcnJheS5pc0FycmF5KHJlc3VsdCk/JCRpbnZhbGlkYXRlKDIsaXRlbXM9cmVzdWx0KTooY29uc29sZS53YXJuKFwiTGVnYWN5IG1vZGUuLi4gcGxlYXNlIHVzZSBhbiBhcnJheVwiKSwkJGludmFsaWRhdGUoMixpdGVtcz1yZXN1bHRbT2JqZWN0LmtleXMocmVzdWx0KVswXV0pKX1lbHNle2lmKHZvaWQgMD09PWFyZ3MuY2hvaWNlcyl0aHJvdyBuZXcgRXJyb3IoXCJObyBhdXRvY29tcGxldGUgaXRlbSBzb3VyY2VcIik7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGFyZ3MuY2hvaWNlcyl0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgdHlwZSBmb3IgY2hvaWNlc1wiKTtBcnJheS5pc0FycmF5KGFyZ3MuY2hvaWNlcyk/JCRpbnZhbGlkYXRlKDIsaXRlbXM9YXJncy5jaG9pY2VzKTokJGludmFsaWRhdGUoMixpdGVtcz1PYmplY3Qua2V5cyhhcmdzLmNob2ljZXMpKX19Y2F0Y2goZSl7JCRpbnZhbGlkYXRlKDQsZXJyb3I9XCJGYWlsZWQgdG8gbG9hZCBhdXRvY29tcGxldGUgaXRlbXNcIiksJCRpbnZhbGlkYXRlKDIsaXRlbXM9W10pLGNvbnNvbGUuZXJyb3IoZSl9fSk7cmV0dXJuICQkc2VsZi4kJHNldD0oJCRwcm9wcz0+e1wiYXJnc1wiaW4gJCRwcm9wcyYmJCRpbnZhbGlkYXRlKDAsYXJncz0kJHByb3BzLmFyZ3MpfSksJCRzZWxmLiQkLnVwZGF0ZT0oKCk9Pns2JiQkc2VsZi4kJC5kaXJ0eSYmdm9pZCAwIT09aXRlbXMmJigkJGludmFsaWRhdGUoNixyZWxldmFudF9pdGVtcz1pdGVtcy5maWx0ZXIoaXRlbT0+aXRlbS50b0xvd2VyQ2FzZSgpLnN1YnN0cigwLHZhbHVlLmxlbmd0aCk9PT12YWx1ZS50b0xvd2VyQ2FzZSgpJiZpdGVtIT09dmFsdWUpLnNsaWNlKDAsNykpLCQkaW52YWxpZGF0ZSg1LGN1cnJlbnRfZm9jdXM9LTEpKX0pLFthcmdzLHZhbHVlLGl0ZW1zLGZvY3VzZWQsZXJyb3IsY3VycmVudF9mb2N1cyxyZWxldmFudF9pdGVtcyxmdW5jdGlvbigpe3ZhbHVlPXRoaXMudmFsdWUsJCRpbnZhbGlkYXRlKDEsdmFsdWUpfSwoKT0+JCRpbnZhbGlkYXRlKDMsZm9jdXNlZD0hMCksKCk9PiQkaW52YWxpZGF0ZSgzLGZvY3VzZWQ9ITEpLGU9PntcIkFycm93VXBcIj09PWUua2V5PyhlLnByZXZlbnREZWZhdWx0KCksJCRpbnZhbGlkYXRlKDUsY3VycmVudF9mb2N1cz1NYXRoLm1heCgtMSxjdXJyZW50X2ZvY3VzLTEpKSk6XCJBcnJvd0Rvd25cIj09PWUua2V5PyhlLnByZXZlbnREZWZhdWx0KCksJCRpbnZhbGlkYXRlKDUsY3VycmVudF9mb2N1cz1NYXRoLm1pbihyZWxldmFudF9pdGVtcy5sZW5ndGgtMSxjdXJyZW50X2ZvY3VzKzEpKSk6XCJFbnRlclwiPT09ZS5rZXkmJihlLnByZXZlbnREZWZhdWx0KCksY3VycmVudF9mb2N1cz49MCYmJCRpbnZhbGlkYXRlKDEsdmFsdWU9cmVsZXZhbnRfaXRlbXNbY3VycmVudF9mb2N1c10pLCQkaW52YWxpZGF0ZSg1LGN1cnJlbnRfZm9jdXM9LTEpKX0saXRlbT0+JCRpbnZhbGlkYXRlKDEsdmFsdWU9aXRlbSldfXZhciBfJEF1dG9jb21wbGV0ZUZpZWxkXzQ9Y2xhc3MgZXh0ZW5kcyBfX1N2ZWx0ZUNvbXBvbmVudF80e2NvbnN0cnVjdG9yKG9wdGlvbnMpe3ZhciBzdHlsZTtzdXBlcigpLGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3ZlbHRlLW1iOXQ3dC1zdHlsZVwiKXx8KChzdHlsZT1fX2VsZW1lbnRfNChcInN0eWxlXCIpKS5pZD1cInN2ZWx0ZS1tYjl0N3Qtc3R5bGVcIixzdHlsZS50ZXh0Q29udGVudD1cIi5hdXRvY29tcGxldGUuc3ZlbHRlLW1iOXQ3dC5zdmVsdGUtbWI5dDd0e3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5hdXRvY29tcGxldGUtaXRlbXMuc3ZlbHRlLW1iOXQ3dC5zdmVsdGUtbWI5dDd0e2JhY2tncm91bmQtY29sb3I6d2hpdGU7cG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyOjFweCBzb2xpZCAjZDRkNGQ0O2JvcmRlci1ib3R0b206bm9uZTtib3JkZXItdG9wOm5vbmU7ei1pbmRleDo5OTt0b3A6MTAwJTtsZWZ0OjA7cmlnaHQ6MH0uYXV0b2NvbXBsZXRlLWl0ZW1zLnN2ZWx0ZS1tYjl0N3QgZGl2LnN2ZWx0ZS1tYjl0N3R7cGFkZGluZzoxMHB4O2N1cnNvcjpwb2ludGVyO2JhY2tncm91bmQtY29sb3I6I2ZmZjtib3JkZXItYm90dG9tOjFweCBzb2xpZCAjZDRkNGQ0fS5hdXRvY29tcGxldGUtaXRlbXMuc3ZlbHRlLW1iOXQ3dCBkaXYuc3ZlbHRlLW1iOXQ3dDpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNlOWU5ZTl9LmF1dG9jb21wbGV0ZS1hY3RpdmUuc3ZlbHRlLW1iOXQ3dC5zdmVsdGUtbWI5dDd0e2JhY2tncm91bmQtY29sb3I6RG9kZ2VyQmx1ZSAhaW1wb3J0YW50O2NvbG9yOiNmZmZmZmZ9XCIsX19hcHBlbmRfNChkb2N1bWVudC5oZWFkLHN0eWxlKSksX19pbml0XzQodGhpcyxvcHRpb25zLGluc3RhbmNlLF9fY3JlYXRlX2ZyYWdtZW50XzQsX19zYWZlX25vdF9lcXVhbF80LHthcmdzOjB9KX19O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJa0YxZEc5amIyMXdiR1YwWlVacFpXeGtMbk4yWld4MFpTSmRMQ0p1WVcxbGN5STZXeUp0YjJSMWJHVWlMQ0psZUhCdmNuUnpJbDBzSW0xaGNIQnBibWR6SWpvaWVUZFdRVEp0UWtGQkxIbENRVUZCUXl4RFFVRkJRU3hqUVVGQlFTeHRRa0ZCUVVFc1EwRkJRVUVzVjBGQlFVRXNRMEZCUVVFc1QwRkJRVUVzUTBGQlFVRXNRMEZCUVVFc1NVRkJRVUVzUzBGQlFVRXNRMEZCUVVFc1MwRkJRVUVzUlVGQlFVRXNRMEZCUVVFc1VVRkJRVUVzUTBGQlFVRXNZMEZCUVVFc1EwRkJRVUVzY1VKQlFVRkJMRU5CUVVGQkxFZEJRVUZCTEVOQlFVRkJMRXRCUVVGQkxFTkJRVUZCTEZkQlFVRkJMRU5CUVVGQkxFOUJRVUZCTEVOQlFVRkJMRVZCUVVGQkxFVkJRVUZCTEVOQlFVRkJMSEZDUVVGQlFTeERRVUZCUVN4TFFVRkJRU3hEUVVGQlFTeFhRVUZCUVN4RFFVRkJRU3d3YTBKQlFVRkJMRU5CUVVGQkxGVkJRVUZCTEVOQlFVRkJMRkZCUVVGQkxFTkJRVUZCTEVsQlFVRkJMRU5CUVVGQkxFdEJRVUZCTEVOQlFVRkJMRU5CUVVGQkxFTkJRVUZCTEZGQlFVRkJMRU5CUVVGQkxFbEJRVUZCTEVOQlFVRkJMRTlCUVVGQkxFTkJRVUZCTEZGQlFVRkJMRU5CUVVGQkxHMUNRVUZCUVN4RFFVRkJRU3hyUWtGQlFVRXNRMEZCUVVFc1EwRkJRVUVzU1VGQlFVRXNRMEZCUVVFc1EwRkJRVUVzUTBGQlFVRXNRMEZCUVVFc1EwRkJRVUVzUTBGQlFVRXNRMEZCUVVFaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNlcyNTFiR3hkZlE9PSJdfQ==