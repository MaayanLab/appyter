!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;((t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).TabField||(t.TabField={})).svelte=e()}}((function(){var e={};(function(t){"use strict";function n(){}Object.defineProperty(e,"__esModule",{value:!0});function o(e){return e()}function r(){return Object.create(null)}function c(e){e.forEach(o)}function i(e){return"function"==typeof e}function a(e){return 0===Object.keys(e).length}const l="undefined"!=typeof window;e.raf=l?e=>requestAnimationFrame(e):n;new Set;function s(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function d(e){return document.createElement(e)}function p(e){return document.createTextNode(e)}function h(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function m(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e){return Array.from(e.childNodes)}function y(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}new Set;function b(t){e.current_component=t}function _(){if(!e.current_component)throw new Error("Function called outside component initialization");return e.current_component}const $=[],v=[],w=[],x=[],k=Promise.resolve();let j=!1;function C(){j||(j=!0,k.then(M))}function O(e){w.push(e)}let E=!1;const S=new Set;function M(){if(!E){E=!0;do{for(let e=0;e<$.length;e+=1){const t=$[e];b(t),P(t.$$)}for(b(null),$.length=0;v.length;)v.pop()();for(let e=0;e<w.length;e+=1){const t=w[e];S.has(t)||(S.add(t),t())}w.length=0}while($.length);for(;x.length;)x.pop()();j=!1,E=!1,S.clear()}}function P(e){if(null!==e.fragment){e.update(),c(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(O)}}const T=new Set;let q;function D(){q={r:0,c:[],p:q}}function L(){q.r||c(q.c),q=q.p}function A(e,t){e&&e.i&&(T.delete(e),e.i(t))}function U(e,t,n,o){if(e&&e.o){if(T.has(e))return;T.add(e),q.c.push(()=>{T.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}}"undefined"!=typeof window?window:"undefined"!=typeof globalThis&&globalThis;function F(e,t){U(e,1,1,()=>{t.delete(e.key)})}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);function H(e,t,n,r){const{fragment:a,on_mount:l,on_destroy:s,after_update:u}=e.$$;a&&a.m(t,n),r||O(()=>{const t=l.map(o).filter(i);s?s.push(...t):c(t),e.$$.on_mount=[]}),u.forEach(O)}function N(e,t){const n=e.$$;null!==n.fragment&&(c(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}"function"==typeof HTMLElement&&HTMLElement;class B{$destroy(){N(this,1),this.$destroy=n}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!a(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}class z extends B{constructor(e){if(!e||!e.target&&!e.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=()=>{console.warn("Component was already destroyed")}}$capture_state(){}$inject_state(){}}e.SvelteComponent=B,e.SvelteComponentDev=z,e.SvelteComponentTyped=class extends z{constructor(e){super(e)}},e.afterUpdate=function(e){_().$$.after_update.push(e)},e.append=s,e.attr=m,e.beforeUpdate=function(e){_().$$.before_update.push(e)},e.binding_callbacks=v,e.check_outros=L,e.createEventDispatcher=function(){const e=_();return(t,n)=>{const o=e.$$.callbacks[t];if(o){const r=y(t,n);o.slice().forEach(t=>{t.call(e,r)})}}},e.create_component=function(e){e&&e.c()},e.destroy_component=N,e.destroy_each=function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)},e.detach=f,e.element=d,e.empty=function(){return p("")},e.getContext=function(e){return _().$$.context.get(e)},e.group_outros=D,e.hasContext=function(e){return _().$$.context.has(e)},e.init=function(t,o,i,a,l,s,u=[-1]){const d=e.current_component;b(t);const p=t.$$={fragment:null,ctx:null,props:s,update:n,not_equal:l,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:r(),dirty:u,skip_bound:!1};let h=!1;if(p.ctx=i?i(t,o.props||{},(e,n,...o)=>{const r=o.length?o[0]:n;return p.ctx&&l(p.ctx[e],p.ctx[e]=r)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](r),h&&function(e,t){-1===e.$$.dirty[0]&&($.push(e),C(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n}):[],p.update(),h=!0,c(p.before_update),p.fragment=!!a&&a(p.ctx),o.target){if(o.hydrate){const e=g(o.target);p.fragment&&p.fragment.l(e),e.forEach(f)}else p.fragment&&p.fragment.c();o.intro&&A(t.$$.fragment),H(t,o.target,o.anchor,o.customElement),M()}b(d)},e.insert=u,e.listen=h,e.mount_component=H,e.noop=n,e.onDestroy=function(e){_().$$.on_destroy.push(e)},e.onMount=function(e){_().$$.on_mount.push(e)},e.outro_and_destroy_block=F,e.safe_not_equal=function(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e},e.setContext=function(e,t){_().$$.context.set(e,t)},e.set_data=function(e,t){t=""+t,e.wholeText!==t&&(e.data=t)},e.space=function(){return p(" ")},e.text=p,e.tick=function(){return C(),k},e.transition_in=A,e.transition_out=U,e.update_keyed_each=function(e,t,n,o,r,c,i,a,l,s,u,f){let d=e.length,p=c.length,h=d;const m={};for(;h--;)m[e[h].key]=h;const g=[],y=new Map,b=new Map;for(h=p;h--;){const e=f(r,c,h),a=n(e);let l=i.get(a);l?o&&l.p(e,t):(l=s(a,e)).c(),y.set(a,g[h]=l),a in m&&b.set(a,Math.abs(h-m[a]))}const _=new Set,$=new Set;function v(e){A(e,1),e.m(a,u),i.set(e.key,e),u=e.first,p--}for(;d&&p;){const t=g[p-1],n=e[d-1],o=t.key,r=n.key;t===n?(u=t.first,d--,p--):y.has(r)?!i.has(o)||_.has(o)?v(t):$.has(r)?d--:b.get(o)>b.get(r)?($.add(o),v(t)):(_.add(r),d--):(l(n,i),d--)}for(;d--;){const t=e[d];y.has(t.key)||l(t,i)}for(;p;)v(g[p-1]);return g}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var t={};Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"SvelteComponent",{enumerable:!0,get:function(){return e.SvelteComponentDev}}),Object.defineProperty(t,"SvelteComponentTyped",{enumerable:!0,get:function(){return e.SvelteComponentTyped}}),Object.defineProperty(t,"afterUpdate",{enumerable:!0,get:function(){return e.afterUpdate}}),Object.defineProperty(t,"beforeUpdate",{enumerable:!0,get:function(){return e.beforeUpdate}}),Object.defineProperty(t,"createEventDispatcher",{enumerable:!0,get:function(){return e.createEventDispatcher}}),Object.defineProperty(t,"getContext",{enumerable:!0,get:function(){return e.getContext}}),Object.defineProperty(t,"hasContext",{enumerable:!0,get:function(){return e.hasContext}}),Object.defineProperty(t,"onDestroy",{enumerable:!0,get:function(){return e.onDestroy}}),Object.defineProperty(t,"onMount",{enumerable:!0,get:function(){return e.onMount}}),Object.defineProperty(t,"setContext",{enumerable:!0,get:function(){return e.setContext}}),Object.defineProperty(t,"tick",{enumerable:!0,get:function(){return e.tick}});var n={};Object.defineProperty(n,"__esModule",{value:!0}),n.report_error=void 0,n.report_error={};const{SvelteComponent:o,attr:r,binding_callbacks:c,detach:i,element:a,init:l,insert:s,noop:u,safe_not_equal:f}=e,{getContext:d}=t,{report_error:p}=n;function h(e){let t;return{c(){t=a("div"),r(t,"class",e[0])},m(n,o){s(n,t,o),t.innerHTML=e[1],e[3](t)},p(e,[n]){2&n&&(t.innerHTML=e[1]),1&n&&r(t,"class",e[0])},i:u,o:u,d(n){n&&i(t),e[3](null)}}}function m(e,t,n){const o=d(p);let r,{classes:i=""}=t,{data:a=""}=t,l={};return e.$$set=e=>{"classes"in e&&n(0,i=e.classes),"data"in e&&n(1,a=e.data)},e.$$.update=()=>{4&e.$$.dirty&&r&&r.querySelectorAll("script").forEach(e=>function(e){if(void 0===l[e]){l[e]=!0;try{new Function(e)()}catch(t){const e={type:"javascript-cell",error:t.toString()};o(e)}}}(e.innerHTML))},[i,a,r,function(e){c[e?"unshift":"push"](()=>{n(2,r=e)})}]}var g=class extends o{constructor(e){super(),l(this,e,m,h,f,{classes:0,data:1})}};const{SvelteComponent:y,append:b,attr:_,check_outros:$,create_component:v,destroy_component:w,destroy_each:x,detach:k,element:j,empty:C,group_outros:O,init:E,insert:S,listen:M,mount_component:P,outro_and_destroy_block:T,safe_not_equal:q,set_data:D,space:L,text:A,transition_in:U,transition_out:F,update_keyed_each:H}=e;function N(e,t,n){const o=e.slice();return o[2]=t[n],o}function B(e,t,n){const o=e.slice();return o[5]=t[n],o}function z(e,t,n){const o=e.slice();return o[2]=t[n],o}function G(e){let t,n,o,r;return{c(){t=j("sup"),n=j("i"),r=L(),_(n,"class","far fa-question-circle"),_(t,"data-toggle","tooltip"),_(t,"title",o=e[0].description)},m(e,o){S(e,t,o),b(t,n),S(e,r,o)},p(e,n){1&n&&o!==(o=e[0].description)&&_(t,"title",o)},d(e){e&&k(t),e&&k(r)}}}function I(e){let t,n,o,r,c,i,a,l=e[2]+"";function s(){return e[1](e[2])}return{c(){t=j("a"),n=A(l),o=L(),_(t,"href","javascript:"),_(t,"class",r="nav-link"+(e[0].value==e[2]?" active":"")),_(t,"aria-controls",c="tab-content-"+e[0].name+"-"+e[2]),_(t,"data-toggle","tab"),_(t,"role","tab")},m(e,r){S(e,t,r),b(t,n),b(t,o),i||(a=M(t,"click",s),i=!0)},p(o,i){e=o,1&i&&l!==(l=e[2]+"")&&D(n,l),1&i&&r!==(r="nav-link"+(e[0].value==e[2]?" active":""))&&_(t,"class",r),1&i&&c!==(c="tab-content-"+e[0].name+"-"+e[2])&&_(t,"aria-controls",c)},d(e){e&&k(t),i=!1,a()}}}function J(e,t){let n,o,r;return o=new g({props:{data:t[0].field_renders[t[5].args.name]}}),{key:e,first:null,c(){n=C(),v(o.$$.fragment),this.first=n},m(e,t){S(e,n,t),P(o,e,t),r=!0},p(e,n){t=e;const r={};1&n&&(r.data=t[0].field_renders[t[5].args.name]),o.$set(r)},i(e){r||(U(o.$$.fragment,e),r=!0)},o(e){F(o.$$.fragment,e),r=!1},d(e){e&&k(n),w(o,e)}}}function K(e){let t,n,o,r,c=[],i=new Map,a=e[0].choices[e[2]];const l=e=>e[5].args.name;for(let s=0;s<a.length;s+=1){let t=B(e,a,s),n=l(t);i.set(n,c[s]=J(n,t))}return{c(){t=j("div");for(let e=0;e<c.length;e+=1)c[e].c();n=L(),_(t,"class",o="tab-pane fade"+(e[0].value==e[2]?" show active":"")),_(t,"role","tabpanel")},m(e,o){S(e,t,o);for(let n=0;n<c.length;n+=1)c[n].m(t,null);b(t,n),r=!0},p(e,s){1&s&&(a=e[0].choices[e[2]],O(),c=H(c,s,l,1,e,a,i,t,T,J,n,B),$()),(!r||1&s&&o!==(o="tab-pane fade"+(e[0].value==e[2]?" show active":"")))&&_(t,"class",o)},i(e){if(!r){for(let e=0;e<a.length;e+=1)U(c[e]);r=!0}},o(e){for(let t=0;t<c.length;t+=1)F(c[t]);r=!1},d(e){e&&k(t);for(let t=0;t<c.length;t+=1)c[t].d()}}}function Q(e){let t,n,o,r,c,i,a,l,s,u,f,d,p,h,m,g,y=e[0].label+"",v=e[0].description&&G(e),w=Object.keys(e[0].choices),C=[];for(let b=0;b<w.length;b+=1)C[b]=I(z(e,w,b));let E=Object.keys(e[0].choices),M=[];for(let b=0;b<E.length;b+=1)M[b]=K(N(e,E,b));const P=e=>F(M[e],1,1,()=>{M[e]=null});return{c(){t=j("div"),n=j("div"),o=A(y),r=L(),v&&v.c(),c=A(":"),i=L(),a=j("div"),l=j("div");for(let e=0;e<C.length;e+=1)C[e].c();s=L(),u=j("div"),f=j("div");for(let e=0;e<M.length;e+=1)M[e].c();d=L(),p=j("input"),_(n,"class","col-lg-2 bold text-lg-right my-auto"),_(l,"class","nav flex-column nav-pills nav-justified"),_(l,"aria-orientation","vertical"),_(l,"role","tablist"),_(a,"class","col-lg-2 pt-2 pt-lg-0"),_(f,"class","tab-content"),_(u,"class","col-lg-8 pt-2 pt-lg-0"),_(p,"type","text"),_(p,"class","hidden"),_(p,"name",h=e[0].name),p.value=m=e[0].value,_(t,"class","row px-4 px-lg-3 pb-4")},m(e,h){S(e,t,h),b(t,n),b(n,o),b(n,r),v&&v.m(n,null),b(n,c),b(t,i),b(t,a),b(a,l);for(let t=0;t<C.length;t+=1)C[t].m(l,null);b(t,s),b(t,u),b(u,f);for(let t=0;t<M.length;t+=1)M[t].m(f,null);b(t,d),b(t,p),g=!0},p(e,[t]){if((!g||1&t)&&y!==(y=e[0].label+"")&&D(o,y),e[0].description?v?v.p(e,t):((v=G(e)).c(),v.m(n,c)):v&&(v.d(1),v=null),1&t){let n;for(w=Object.keys(e[0].choices),n=0;n<w.length;n+=1){const o=z(e,w,n);C[n]?C[n].p(o,t):(C[n]=I(o),C[n].c(),C[n].m(l,null))}for(;n<C.length;n+=1)C[n].d(1);C.length=w.length}if(1&t){let n;for(E=Object.keys(e[0].choices),n=0;n<E.length;n+=1){const o=N(e,E,n);M[n]?(M[n].p(o,t),U(M[n],1)):(M[n]=K(o),M[n].c(),U(M[n],1),M[n].m(f,null))}for(O(),n=E.length;n<M.length;n+=1)P(n);$()}(!g||1&t&&h!==(h=e[0].name))&&_(p,"name",h),(!g||1&t&&m!==(m=e[0].value)&&p.value!==m)&&(p.value=m)},i(e){if(!g){for(let e=0;e<E.length;e+=1)U(M[e]);g=!0}},o(e){M=M.filter(Boolean);for(let t=0;t<M.length;t+=1)F(M[t]);g=!1},d(e){e&&k(t),v&&v.d(),x(C,e),x(M,e)}}}function R(e,t,n){let{args:o}=t;return e.$$set=e=>{"args"in e&&n(0,o=e.args)},[o,e=>n(0,o.value=e,o)]}return class extends y{constructor(e){super(),E(this,e,R,Q,q,{args:0})}}}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2stZmxhdC9fcHJlbHVkZSIsIm5vZGVfbW9kdWxlcy9zdmVsdGUvaW50ZXJuYWwvaW5kZXguanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL2luZGV4LmpzIiwibGliL2FwcHl0ZXJfY29udGV4dC5qcyIsImNvbXBvbmVudHMvSFRNTC5zdmVsdGUiLCJwcm9maWxlcy9kZWZhdWx0L3N0YXRpYy9qcy9maWVsZHMvVGFiRmllbGQuc3ZlbHRlIl0sIm5hbWVzIjpbImYiLCJleHBvcnRzIiwibW9kdWxlIiwiZGVmaW5lIiwiYW1kIiwiZyIsIndpbmRvdyIsImdsb2JhbCIsInNlbGYiLCJ0aGlzIiwiVGFiRmllbGQiLCJzdmVsdGUiLCJfJGludGVybmFsXzQiLCJub29wIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ2YWx1ZSIsInJ1biIsImZuIiwiYmxhbmtfb2JqZWN0IiwiY3JlYXRlIiwicnVuX2FsbCIsImZucyIsImZvckVhY2giLCJpc19mdW5jdGlvbiIsInRoaW5nIiwiaXNfZW1wdHkiLCJvYmoiLCJrZXlzIiwibGVuZ3RoIiwiaXNfY2xpZW50IiwicmFmIiwiY2IiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJTZXQiLCJhcHBlbmQiLCJ0YXJnZXQiLCJub2RlIiwiYXBwZW5kQ2hpbGQiLCJpbnNlcnQiLCJhbmNob3IiLCJpbnNlcnRCZWZvcmUiLCJkZXRhY2giLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJlbGVtZW50IiwibmFtZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInRleHQiLCJkYXRhIiwiY3JlYXRlVGV4dE5vZGUiLCJsaXN0ZW4iLCJldmVudCIsImhhbmRsZXIiLCJvcHRpb25zIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJhdHRyIiwiYXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiY2hpbGRyZW4iLCJBcnJheSIsImZyb20iLCJjaGlsZE5vZGVzIiwiY3VzdG9tX2V2ZW50IiwidHlwZSIsImRldGFpbCIsImUiLCJjcmVhdGVFdmVudCIsImluaXRDdXN0b21FdmVudCIsInNldF9jdXJyZW50X2NvbXBvbmVudCIsImNvbXBvbmVudCIsImN1cnJlbnRfY29tcG9uZW50IiwiZ2V0X2N1cnJlbnRfY29tcG9uZW50IiwiRXJyb3IiLCJkaXJ0eV9jb21wb25lbnRzIiwiYmluZGluZ19jYWxsYmFja3MiLCJyZW5kZXJfY2FsbGJhY2tzIiwiZmx1c2hfY2FsbGJhY2tzIiwicmVzb2x2ZWRfcHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwidXBkYXRlX3NjaGVkdWxlZCIsInNjaGVkdWxlX3VwZGF0ZSIsInRoZW4iLCJmbHVzaCIsImFkZF9yZW5kZXJfY2FsbGJhY2siLCJwdXNoIiwiZmx1c2hpbmciLCJzZWVuX2NhbGxiYWNrcyIsImkiLCJ1cGRhdGUiLCIkJCIsInBvcCIsImNhbGxiYWNrIiwiaGFzIiwiYWRkIiwiY2xlYXIiLCJmcmFnbWVudCIsImJlZm9yZV91cGRhdGUiLCJkaXJ0eSIsInAiLCJjdHgiLCJhZnRlcl91cGRhdGUiLCJvdXRyb2luZyIsIm91dHJvcyIsImdyb3VwX291dHJvcyIsInIiLCJjIiwiY2hlY2tfb3V0cm9zIiwidHJhbnNpdGlvbl9pbiIsImJsb2NrIiwibG9jYWwiLCJkZWxldGUiLCJ0cmFuc2l0aW9uX291dCIsIm8iLCJkIiwiZ2xvYmFsVGhpcyIsIm91dHJvX2FuZF9kZXN0cm95X2Jsb2NrIiwibG9va3VwIiwia2V5IiwibW91bnRfY29tcG9uZW50IiwiY3VzdG9tRWxlbWVudCIsIm9uX21vdW50Iiwib25fZGVzdHJveSIsIm0iLCJuZXdfb25fZGVzdHJveSIsIm1hcCIsImZpbHRlciIsImRlc3Ryb3lfY29tcG9uZW50IiwiZGV0YWNoaW5nIiwiSFRNTEVsZW1lbnQiLCJTdmVsdGVDb21wb25lbnQiLCJbb2JqZWN0IE9iamVjdF0iLCIkZGVzdHJveSIsImNhbGxiYWNrcyIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsIiQkcHJvcHMiLCIkJHNldCIsInNraXBfYm91bmQiLCJTdmVsdGVDb21wb25lbnREZXYiLCIkJGlubGluZSIsInN1cGVyIiwiY29uc29sZSIsIndhcm4iLCJTdmVsdGVDb21wb25lbnRUeXBlZCIsImFmdGVyVXBkYXRlIiwiYmVmb3JlVXBkYXRlIiwiY3JlYXRlRXZlbnREaXNwYXRjaGVyIiwic2xpY2UiLCJjYWxsIiwiY3JlYXRlX2NvbXBvbmVudCIsImRlc3Ryb3lfZWFjaCIsIml0ZXJhdGlvbnMiLCJlbXB0eSIsImdldENvbnRleHQiLCJjb250ZXh0IiwiZ2V0IiwiaGFzQ29udGV4dCIsImluaXQiLCJpbnN0YW5jZSIsImNyZWF0ZV9mcmFnbWVudCIsIm5vdF9lcXVhbCIsInByb3BzIiwicGFyZW50X2NvbXBvbmVudCIsImJvdW5kIiwib25fZGlzY29ubmVjdCIsIk1hcCIsInJlYWR5IiwicmV0IiwicmVzdCIsImZpbGwiLCJoeWRyYXRlIiwibm9kZXMiLCJsIiwiaW50cm8iLCJvbkRlc3Ryb3kiLCJvbk1vdW50Iiwic2FmZV9ub3RfZXF1YWwiLCJhIiwiYiIsInNldENvbnRleHQiLCJzZXQiLCJzZXRfZGF0YSIsIndob2xlVGV4dCIsInNwYWNlIiwidGljayIsInVwZGF0ZV9rZXllZF9lYWNoIiwib2xkX2Jsb2NrcyIsImdldF9rZXkiLCJkeW5hbWljIiwibGlzdCIsImRlc3Ryb3kiLCJjcmVhdGVfZWFjaF9ibG9jayIsIm5leHQiLCJnZXRfY29udGV4dCIsIm4iLCJvbGRfaW5kZXhlcyIsIm5ld19ibG9ja3MiLCJuZXdfbG9va3VwIiwiZGVsdGFzIiwiY2hpbGRfY3R4IiwiTWF0aCIsImFicyIsIndpbGxfbW92ZSIsImRpZF9tb3ZlIiwiZmlyc3QiLCJuZXdfYmxvY2siLCJvbGRfYmxvY2siLCJuZXdfa2V5Iiwib2xkX2tleSIsIl8kc3ZlbHRlXzMiLCJlbnVtZXJhYmxlIiwiXyRhcHB5dGVyX2NvbnRleHRfMiIsInJlcG9ydF9lcnJvciIsInJlcG9ydF9lcnJvcl9jdHgiLCJkaXYiLCJpbm5lckhUTUwiLCIkJHNlbGYiLCIkJGludmFsaWRhdGUiLCJyZWYiLCJjbGFzc2VzIiwiZXZhbGVkIiwicXVlcnlTZWxlY3RvckFsbCIsImVsIiwic3JjIiwiRnVuY3Rpb24iLCJlcnJvcl9kYXRhIiwiZXJyb3IiLCJ0b1N0cmluZyIsIiQkdmFsdWUiLCJfJEhUTUxfMSIsIl9fU3ZlbHRlQ29tcG9uZW50XzUiLCJfX2F0dHJfNSIsIl9fZGV0YWNoXzUiLCJfX2VsZW1lbnRfNSIsIl9faW5pdF81IiwiX19pbnNlcnRfNSIsIl9fc2FmZV9ub3RfZXF1YWxfNSIsImdldF9lYWNoX2NvbnRleHQiLCJnZXRfZWFjaF9jb250ZXh0XzEiLCJnZXRfZWFjaF9jb250ZXh0XzIiLCJjcmVhdGVfaWZfYmxvY2siLCJzdXAiLCJzdXBfdGl0bGVfdmFsdWUiLCJ0IiwiZGVzY3JpcHRpb24iLCJjcmVhdGVfZWFjaF9ibG9ja18yIiwidDAiLCJ0MSIsImFfY2xhc3NfdmFsdWUiLCJhX2FyaWFfY29udHJvbHNfdmFsdWUiLCJtb3VudGVkIiwiZGlzcG9zZSIsInQwX3ZhbHVlIiwiY2xpY2tfaGFuZGxlciIsIm5ld19jdHgiLCJjcmVhdGVfZWFjaF9ibG9ja18xIiwia2V5XzEiLCJodG1sIiwiY3VycmVudCIsImZpZWxkX3JlbmRlcnMiLCJhcmdzIiwiaHRtbF9jaGFuZ2VzIiwiJHNldCIsImRpdl9jbGFzc192YWx1ZSIsImVhY2hfYmxvY2tzIiwiZWFjaF8xX2xvb2t1cCIsImVhY2hfdmFsdWVfMSIsImNob2ljZXMiLCJfX2NyZWF0ZV9mcmFnbWVudF81IiwiZGl2NSIsImRpdjAiLCJ0MiIsInQzIiwiZGl2MiIsImRpdjEiLCJ0NCIsImRpdjQiLCJkaXYzIiwidDUiLCJpbnB1dCIsImlucHV0X25hbWVfdmFsdWUiLCJpbnB1dF92YWx1ZV92YWx1ZSIsImxhYmVsIiwiaWZfYmxvY2siLCJlYWNoX3ZhbHVlXzIiLCJlYWNoX2Jsb2Nrc18xIiwiZWFjaF92YWx1ZSIsIm91dCIsIkJvb2xlYW4iLCJfX2luc3RhbmNlXzUiLCJjaG9pY2VfbmFtZSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBQUEsR0FBQSxHQUFBLGlCQUFBQyxTQUFBLG9CQUFBQyxPQUFBQSxPQUFBRCxRQUFBRCxTQUFBLEdBQUEsbUJBQUFHLFFBQUFBLE9BQUFDLElBQUFELE9BQUEsR0FBQUgsT0FBQSxDQUFBLElBQUFLLElBQUFBLEVBQUEsb0JBQUFDLE9BQUFBLE9BQUEsb0JBQUFDLE9BQUFBLE9BQUEsb0JBQUFDLEtBQUFBLEtBQUFDLE1BQUFDLFdBQUFMLEVBQUFLLFNBQUEsS0FBQUMsT0FBQVgsS0FBQSxFQUFBLFdBQUEsSUFDQVksRUFBQSxnQkNEQSxhQUlBLFNBQVNDLEtBRlRDLE9BQU9DLGVBQWVILEVBQVMsYUFBYyxDQUFFSSxPQUFBLElBa0IvQyxTQUFTQyxFQUFJQyxHQUNULE9BQU9BLElBRVgsU0FBU0MsSUFDTCxPQUFPTCxPQUFPTSxPQUFPLE1BRXpCLFNBQVNDLEVBQVFDLEdBQ2JBLEVBQUlDLFFBQVFOLEdBRWhCLFNBQVNPLEVBQVlDLEdBQ2pCLE1BQXdCLG1CQUFWQSxFQVFsQixTQUFTQyxFQUFTQyxHQUNkLE9BQW1DLElBQTVCYixPQUFPYyxLQUFLRCxHQUFLRSxPQXVHNUIsTUFLTUMsRUFBOEIsb0JBQVh4QixPQUl6Qk0sRUFBUW1CLElBQU1ELEVBQVlFLEdBQU1DLHNCQUFzQkQsR0FBTW5CLEVBUzlDLElBQUlxQixJQW1DbEIsU0FBU0MsRUFBT0MsRUFBUUMsR0FDcEJELEVBQU9FLFlBQVlELEdBRXZCLFNBQVNFLEVBQU9ILEVBQVFDLEVBQU1HLEdBQzFCSixFQUFPSyxhQUFhSixFQUFNRyxHQUFVLE1BRXhDLFNBQVNFLEVBQU9MLEdBQ1pBLEVBQUtNLFdBQVdDLFlBQVlQLEdBUWhDLFNBQVNRLEVBQVFDLEdBQ2IsT0FBT0MsU0FBU0MsY0FBY0YsR0FvQmxDLFNBQVNHLEVBQUtDLEdBQ1YsT0FBT0gsU0FBU0ksZUFBZUQsR0FRbkMsU0FBU0UsRUFBT2YsRUFBTWdCLEVBQU9DLEVBQVNDLEdBRWxDLE9BREFsQixFQUFLbUIsaUJBQWlCSCxFQUFPQyxFQUFTQyxHQUMvQixJQUFNbEIsRUFBS29CLG9CQUFvQkosRUFBT0MsRUFBU0MsR0F1QjFELFNBQVNHLEVBQUtyQixFQUFNc0IsRUFBVzNDLEdBQ2QsTUFBVEEsRUFDQXFCLEVBQUt1QixnQkFBZ0JELEdBQ2hCdEIsRUFBS3dCLGFBQWFGLEtBQWUzQyxHQUN0Q3FCLEVBQUt5QixhQUFhSCxFQUFXM0MsR0E0RHJDLFNBQVMrQyxFQUFTbEIsR0FDZCxPQUFPbUIsTUFBTUMsS0FBS3BCLEVBQVFxQixZQW9JOUIsU0FBU0MsRUFBYUMsRUFBTUMsR0FDeEIsTUFBTUMsRUFBSXZCLFNBQVN3QixZQUFZLGVBRS9CLE9BREFELEVBQUVFLGdCQUFnQkosR0FBQSxHQUFNLEVBQWNDLEdBQy9CQyxFQW1EUyxJQUFJcEMsSUFrSXhCLFNBQVN1QyxFQUFzQkMsR0FDM0I5RCxFQUFRK0Qsa0JBQW9CRCxFQUVoQyxTQUFTRSxJQUNMLElBQUtoRSxFQUFRK0Qsa0JBQ1QsTUFBTSxJQUFJRSxNQUFNLG9EQUNwQixPQUFPakUsRUFBUStELGtCQStDbkIsTUFBTUcsRUFBbUIsR0FFbkJDLEVBQW9CLEdBQ3BCQyxFQUFtQixHQUNuQkMsRUFBa0IsR0FDbEJDLEVBQW1CQyxRQUFRQyxVQUNqQyxJQUFJQyxHQUFBLEVBQ0osU0FBU0MsSUFDQUQsSUFDREEsR0FBQSxFQUNBSCxFQUFpQkssS0FBS0MsSUFPOUIsU0FBU0MsRUFBb0J2RSxHQUN6QjhELEVBQWlCVSxLQUFLeEUsR0FLMUIsSUFBSXlFLEdBQUEsRUFDSixNQUFNQyxFQUFpQixJQUFJMUQsSUFDM0IsU0FBU3NELElBQ0wsSUFBSUcsRUFBSixDQUVBQSxHQUFBLEVBQ0EsRUFBRyxDQUdDLElBQUssSUFBSUUsRUFBSSxFQUFHQSxFQUFJZixFQUFpQmpELE9BQVFnRSxHQUFLLEVBQUcsQ0FDakQsTUFBTW5CLEVBQVlJLEVBQWlCZSxHQUNuQ3BCLEVBQXNCQyxHQUN0Qm9CLEVBQU9wQixFQUFVcUIsSUFJckIsSUFGQXRCLEVBQXNCLE1BQ3RCSyxFQUFpQmpELE9BQVMsRUFDbkJrRCxFQUFrQmxELFFBQ3JCa0QsRUFBa0JpQixLQUFsQmpCLEdBSUosSUFBSyxJQUFJYyxFQUFJLEVBQUdBLEVBQUliLEVBQWlCbkQsT0FBUWdFLEdBQUssRUFBRyxDQUNqRCxNQUFNSSxFQUFXakIsRUFBaUJhLEdBQzdCRCxFQUFlTSxJQUFJRCxLQUVwQkwsRUFBZU8sSUFBSUYsR0FDbkJBLEtBR1JqQixFQUFpQm5ELE9BQVMsUUFDckJpRCxFQUFpQmpELFFBQzFCLEtBQU9vRCxFQUFnQnBELFFBQ25Cb0QsRUFBZ0JlLEtBQWhCZixHQUVKSSxHQUFBLEVBQ0FNLEdBQUEsRUFDQUMsRUFBZVEsU0FFbkIsU0FBU04sRUFBT0MsR0FDWixHQUFvQixPQUFoQkEsRUFBR00sU0FBbUIsQ0FDdEJOLEVBQUdELFNBQ0h6RSxFQUFRMEUsRUFBR08sZUFDWCxNQUFNQyxFQUFRUixFQUFHUSxNQUNqQlIsRUFBR1EsTUFBUSxFQUFFLEdBQ2JSLEVBQUdNLFVBQVlOLEVBQUdNLFNBQVNHLEVBQUVULEVBQUdVLElBQUtGLEdBQ3JDUixFQUFHVyxhQUFhbkYsUUFBUWtFLElBaUJoQyxNQUFNa0IsRUFBVyxJQUFJekUsSUFDckIsSUFBSTBFLEVBQ0osU0FBU0MsSUFDTEQsRUFBUyxDQUNMRSxFQUFHLEVBQ0hDLEVBQUcsR0FDSFAsRUFBR0ksR0FHWCxTQUFTSSxJQUNBSixFQUFPRSxHQUNSekYsRUFBUXVGLEVBQU9HLEdBRW5CSCxFQUFTQSxFQUFPSixFQUVwQixTQUFTUyxFQUFjQyxFQUFPQyxHQUN0QkQsR0FBU0EsRUFBTXJCLElBQ2ZjLEVBQVNTLE9BQU9GLEdBQ2hCQSxFQUFNckIsRUFBRXNCLElBR2hCLFNBQVNFLEVBQWVILEVBQU9DLEVBQU96RSxFQUFRdUQsR0FDMUMsR0FBSWlCLEdBQVNBLEVBQU1JLEVBQUcsQ0FDbEIsR0FBSVgsRUFBU1QsSUFBSWdCLEdBQ2IsT0FDSlAsRUFBU1IsSUFBSWUsR0FDYk4sRUFBT0csRUFBRXJCLEtBQUssS0FDVmlCLEVBQVNTLE9BQU9GLEdBQ1pqQixJQUNJdkQsR0FDQXdFLEVBQU1LLEVBQUUsR0FDWnRCLE9BR1JpQixFQUFNSSxFQUFFSCxJQTJTbUIsb0JBQVg3RyxPQUNsQkEsT0FDc0Isb0JBQWZrSCxZQUNIQSxXQU9WLFNBQVNDLEVBQXdCUCxFQUFPUSxHQUNwQ0wsRUFBZUgsRUFBTyxFQUFHLEVBQUcsS0FDeEJRLEVBQU9OLE9BQU9GLEVBQU1TLE9BdUlELElBQUl6RixJQUFJLENBQy9CLGtCQUNBLHNCQUNBLFFBQ0EsWUFDQSxXQUNBLFVBQ0EsV0FDQSxVQUNBLFFBQ0EsV0FDQSxpQkFDQSxTQUNBLFFBQ0EsT0FDQSxXQUNBLFFBQ0EsV0FDQSxhQUNBLE9BQ0EsY0FDQSxXQUNBLFdBQ0EsV0FDQSxhQTRISixTQUFTMEYsRUFBZ0JsRCxFQUFXdEMsRUFBUUksRUFBUXFGLEdBQ2hELE1BQU14QixTQUFFQSxFQUFGeUIsU0FBWUEsRUFBWkMsV0FBc0JBLEVBQXRCckIsYUFBa0NBLEdBQWlCaEMsRUFBVXFCLEdBQ25FTSxHQUFZQSxFQUFTMkIsRUFBRTVGLEVBQVFJLEdBQzFCcUYsR0FFRHBDLEVBQW9CLEtBQ2hCLE1BQU13QyxFQUFpQkgsRUFBU0ksSUFBSWpILEdBQUtrSCxPQUFPM0csR0FDNUN1RyxFQUNBQSxFQUFXckMsUUFBUXVDLEdBS25CNUcsRUFBUTRHLEdBRVp2RCxFQUFVcUIsR0FBRytCLFNBQVcsS0FHaENwQixFQUFhbkYsUUFBUWtFLEdBRXpCLFNBQVMyQyxFQUFrQjFELEVBQVcyRCxHQUNsQyxNQUFNdEMsRUFBS3JCLEVBQVVxQixHQUNELE9BQWhCQSxFQUFHTSxXQUNIaEYsRUFBUTBFLEVBQUdnQyxZQUNYaEMsRUFBR00sVUFBWU4sRUFBR00sU0FBU2tCLEVBQUVjLEdBRzdCdEMsRUFBR2dDLFdBQWFoQyxFQUFHTSxTQUFXLEtBQzlCTixFQUFHVSxJQUFNLElBc0VVLG1CQUFoQjZCLGFBQytCQSxZQThDMUMsTUFBTUMsRUFDRkMsV0FDSUosRUFBa0IzSCxLQUFNLEdBQ3hCQSxLQUFLZ0ksU0FBVzVILEVBRXBCMkgsSUFBSXBFLEVBQU02QixHQUNOLE1BQU15QyxFQUFhakksS0FBS3NGLEdBQUcyQyxVQUFVdEUsS0FBVTNELEtBQUtzRixHQUFHMkMsVUFBVXRFLEdBQVEsSUFFekUsT0FEQXNFLEVBQVVoRCxLQUFLTyxHQUNSLEtBQ0gsTUFBTTBDLEVBQVFELEVBQVVFLFFBQVEzQyxJQUNqQixJQUFYMEMsR0FDQUQsRUFBVUcsT0FBT0YsRUFBTyxJQUdwQ0gsS0FBS00sR0FDR3JJLEtBQUtzSSxRQUFVckgsRUFBU29ILEtBQ3hCckksS0FBS3NGLEdBQUdpRCxZQUFBLEVBQ1J2SSxLQUFLc0ksTUFBTUQsR0FDWHJJLEtBQUtzRixHQUFHaUQsWUFBQSxJQXlGcEIsTUFBTUMsVUFBMkJWLEVBQzdCQyxZQUFZakYsR0FDUixJQUFLQSxJQUFhQSxFQUFRbkIsU0FBV21CLEVBQVEyRixTQUN6QyxNQUFNLElBQUlyRSxNQUFNLGlDQUVwQnNFLFFBRUpYLFdBQ0lXLE1BQU1WLFdBQ05oSSxLQUFLZ0ksU0FBQSxLQUNEVyxRQUFRQyxLQUFLLG9DQUdyQmIsa0JBQ0FBLGtCQWdESjVILEVBQVEySCxnQkFBa0JBLEVBQzFCM0gsRUFBUXFJLG1CQUFxQkEsRUFDN0JySSxFQUFRMEkscUJBakJSLGNBQW1DTCxFQUMvQlQsWUFBWWpGLEdBQ1I0RixNQUFNNUYsS0F3QmQzQyxFQUFRMkksWUFyakNSLFNBQXFCckksR0FDakIwRCxJQUF3Qm1CLEdBQUdXLGFBQWFoQixLQUFLeEUsSUFxakNqRE4sRUFBUXVCLE9BQVNBLEVBR2pCdkIsRUFBUThDLEtBQU9BLEVBR2Y5QyxFQUFRNEksYUFsa0NSLFNBQXNCdEksR0FDbEIwRCxJQUF3Qm1CLEdBQUdPLGNBQWNaLEtBQUt4RSxJQW1rQ2xETixFQUFRbUUsa0JBQW9CQSxFQUc1Qm5FLEVBQVFvRyxhQUFlQSxFQVV2QnBHLEVBQVE2SSxzQkFya0NSLFdBQ0ksTUFBTS9FLEVBQVlFLElBQ2xCLE1BQU8sQ0FBQ1IsRUFBTUMsS0FDVixNQUFNcUUsRUFBWWhFLEVBQVVxQixHQUFHMkMsVUFBVXRFLEdBQ3pDLEdBQUlzRSxFQUFXLENBR1gsTUFBTXJGLEVBQVFjLEVBQWFDLEVBQU1DLEdBQ2pDcUUsRUFBVWdCLFFBQVFuSSxRQUFRTCxJQUN0QkEsRUFBR3lJLEtBQUtqRixFQUFXckIsUUErakNuQ3pDLEVBQVFnSixpQkFwV1IsU0FBMEIxQyxHQUN0QkEsR0FBU0EsRUFBTUgsS0E0V25CbkcsRUFBUXdILGtCQUFvQkEsRUFDNUJ4SCxFQUFRaUosYUFoaURSLFNBQXNCQyxFQUFZekIsR0FDOUIsSUFBSyxJQUFJeEMsRUFBSSxFQUFHQSxFQUFJaUUsRUFBV2pJLE9BQVFnRSxHQUFLLEVBQ3BDaUUsRUFBV2pFLElBQ1hpRSxFQUFXakUsR0FBRzBCLEVBQUVjLElBOGhENUJ6SCxFQUFROEIsT0FBU0EsRUFRakI5QixFQUFRaUMsUUFBVUEsRUFFbEJqQyxFQUFRbUosTUExZ0RSLFdBQ0ksT0FBTzlHLEVBQUssS0FpaERoQnJDLEVBQVFvSixXQXBsQ1IsU0FBb0JyQyxHQUNoQixPQUFPL0MsSUFBd0JtQixHQUFHa0UsUUFBUUMsSUFBSXZDLElBNmxDbEQvRyxFQUFRaUcsYUFBZUEsRUFFdkJqRyxFQUFRdUosV0E3bENSLFNBQW9CeEMsR0FDaEIsT0FBTy9DLElBQXdCbUIsR0FBR2tFLFFBQVEvRCxJQUFJeUIsSUErbENsRC9HLEVBQVF3SixLQW5XUixTQUFjMUYsRUFBV25CLEVBQVM4RyxFQUFVQyxFQUFpQkMsRUFBV0MsRUFBT2pFLEVBQVEsRUFBRSxJQUNyRixNQUFNa0UsRUFBbUI3SixFQUFRK0Qsa0JBQ2pDRixFQUFzQkMsR0FDdEIsTUFBTXFCLEVBQUtyQixFQUFVcUIsR0FBSyxDQUN0Qk0sU0FBVSxLQUNWSSxJQUFLLEtBRUwrRCxNQUFBQSxFQUNBMUUsT0FBUWpGLEVBQ1IwSixVQUFBQSxFQUNBRyxNQUFPdkosSUFFUDJHLFNBQVUsR0FDVkMsV0FBWSxHQUNaNEMsY0FBZSxHQUNmckUsY0FBZSxHQUNmSSxhQUFjLEdBQ2R1RCxRQUFTLElBQUlXLElBQUlILEVBQW1CQSxFQUFpQjFFLEdBQUdrRSxRQUFVLElBRWxFdkIsVUFBV3ZILElBQ1hvRixNQUFBQSxFQUNBeUMsWUFBQSxHQUVKLElBQUk2QixHQUFBLEVBa0JKLEdBakJBOUUsRUFBR1UsSUFBTTRELEVBQ0hBLEVBQVMzRixFQUFXbkIsRUFBUWlILE9BQVMsR0FBSSxDQUFDM0UsRUFBR2lGLEtBQUtDLEtBQ2hELE1BQU0vSixFQUFRK0osRUFBS2xKLE9BQVNrSixFQUFLLEdBQUtELEVBT3RDLE9BTkkvRSxFQUFHVSxLQUFPOEQsRUFBVXhFLEVBQUdVLElBQUlaLEdBQUlFLEVBQUdVLElBQUlaLEdBQUs3RSxNQUN0QytFLEVBQUdpRCxZQUFjakQsRUFBRzJFLE1BQU03RSxJQUMzQkUsRUFBRzJFLE1BQU03RSxHQUFHN0UsR0FDWjZKLEdBdENwQixTQUFvQm5HLEVBQVdtQixJQUNJLElBQTNCbkIsRUFBVXFCLEdBQUdRLE1BQU0sS0FDbkJ6QixFQUFpQlksS0FBS2hCLEdBQ3RCWSxJQUNBWixFQUFVcUIsR0FBR1EsTUFBTXlFLEtBQUssSUFFNUJ0RyxFQUFVcUIsR0FBR1EsTUFBT1YsRUFBSSxHQUFNLElBQU8sR0FBTUEsRUFBSSxHQU5uRCxDQXVDK0JuQixFQUFXbUIsSUFFdkJpRixJQUVULEdBQ04vRSxFQUFHRCxTQUNIK0UsR0FBQSxFQUNBeEosRUFBUTBFLEVBQUdPLGVBRVhQLEVBQUdNLFdBQVdpRSxHQUFrQkEsRUFBZ0J2RSxFQUFHVSxLQUMvQ2xELEVBQVFuQixPQUFRLENBQ2hCLEdBQUltQixFQUFRMEgsUUFBUyxDQUNqQixNQUFNQyxFQUFRbkgsRUFBU1IsRUFBUW5CLFFBRS9CMkQsRUFBR00sVUFBWU4sRUFBR00sU0FBUzhFLEVBQUVELEdBQzdCQSxFQUFNM0osUUFBUW1CLFFBSWRxRCxFQUFHTSxVQUFZTixFQUFHTSxTQUFTVSxJQUUzQnhELEVBQVE2SCxPQUNSbkUsRUFBY3ZDLEVBQVVxQixHQUFHTSxVQUMvQnVCLEVBQWdCbEQsRUFBV25CLEVBQVFuQixPQUFRbUIsRUFBUWYsT0FBUWUsRUFBUXNFLGVBQ25FckMsSUFFSmYsRUFBc0JnRyxJQTJTMUI3SixFQUFRMkIsT0FBU0EsRUFTakIzQixFQUFRd0MsT0FBU0EsRUFLakJ4QyxFQUFRZ0gsZ0JBQWtCQSxFQUMxQmhILEVBQVFDLEtBQU9BLEVBSWZELEVBQVF5SyxVQTNvQ1IsU0FBbUJuSyxHQUNmMEQsSUFBd0JtQixHQUFHZ0MsV0FBV3JDLEtBQUt4RSxJQTJvQy9DTixFQUFRMEssUUFscENSLFNBQWlCcEssR0FDYjBELElBQXdCbUIsR0FBRytCLFNBQVNwQyxLQUFLeEUsSUFtcEM3Q04sRUFBUTZHLHdCQUEwQkEsRUFNbEM3RyxFQUFRMkssZUEzd0RSLFNBQXdCQyxFQUFHQyxHQUN2QixPQUFPRCxHQUFLQSxFQUFJQyxHQUFLQSxFQUFJRCxJQUFNQyxHQUFPRCxHQUFrQixpQkFBTkEsR0FBZ0MsbUJBQU5BLEdBaXhEaEY1SyxFQUFROEssV0Exb0NSLFNBQW9CL0QsRUFBS3NDLEdBQ3JCckYsSUFBd0JtQixHQUFHa0UsUUFBUTBCLElBQUloRSxFQUFLc0MsSUE2b0NoRHJKLEVBQVFnTCxTQXo4Q1IsU0FBa0IzSSxFQUFNQyxHQUNwQkEsRUFBTyxHQUFLQSxFQUNSRCxFQUFLNEksWUFBYzNJLElBQ25CRCxFQUFLQyxLQUFPQSxJQSs4Q3BCdEMsRUFBUWtMLE1BcmxEUixXQUNJLE9BQU83SSxFQUFLLE1BeWxEaEJyQyxFQUFRcUMsS0FBT0EsRUFDZnJDLEVBQVFtTCxLQTduQ1IsV0FFSSxPQURBekcsSUFDT0osR0ErbkNYdEUsRUFBUXFHLGNBQWdCQSxFQUN4QnJHLEVBQVF5RyxlQUFpQkEsRUFDekJ6RyxFQUFRb0wsa0JBdnRCUixTQUEyQkMsRUFBWTFGLEVBQU8yRixFQUFTQyxFQUFTMUYsRUFBSzJGLEVBQU0xRSxFQUFRckYsRUFBTWdLLEVBQVNDLEVBQW1CQyxFQUFNQyxHQUN2SCxJQUFJbEYsRUFBSTJFLEVBQVdwSyxPQUNmNEssRUFBSUwsRUFBS3ZLLE9BQ1RnRSxFQUFJeUIsRUFDUixNQUFNb0YsRUFBYyxHQUNwQixLQUFPN0csS0FDSDZHLEVBQVlULEVBQVdwRyxHQUFHOEIsS0FBTzlCLEVBQ3JDLE1BQU04RyxFQUFhLEdBQ2JDLEVBQWEsSUFBSWhDLElBQ2pCaUMsRUFBUyxJQUFJakMsSUFFbkIsSUFEQS9FLEVBQUk0RyxFQUNHNUcsS0FBSyxDQUNSLE1BQU1pSCxFQUFZTixFQUFZL0YsRUFBSzJGLEVBQU12RyxHQUNuQzhCLEVBQU11RSxFQUFRWSxHQUNwQixJQUFJNUYsRUFBUVEsRUFBT3dDLElBQUl2QyxHQUNsQlQsRUFJSWlGLEdBQ0xqRixFQUFNVixFQUFFc0csRUFBV3ZHLElBSm5CVyxFQUFRb0YsRUFBa0IzRSxFQUFLbUYsSUFDekIvRixJQUtWNkYsRUFBV2pCLElBQUloRSxFQUFLZ0YsRUFBVzlHLEdBQUtxQixHQUNoQ1MsS0FBTytFLEdBQ1BHLEVBQU9sQixJQUFJaEUsRUFBS29GLEtBQUtDLElBQUluSCxFQUFJNkcsRUFBWS9FLEtBRWpELE1BQU1zRixFQUFZLElBQUkvSyxJQUNoQmdMLEVBQVcsSUFBSWhMLElBQ3JCLFNBQVNLLEVBQU8yRSxHQUNaRCxFQUFjQyxFQUFPLEdBQ3JCQSxFQUFNYyxFQUFFM0YsRUFBTWtLLEdBQ2Q3RSxFQUFPaUUsSUFBSXpFLEVBQU1TLElBQUtULEdBQ3RCcUYsRUFBT3JGLEVBQU1pRyxNQUNiVixJQUVKLEtBQU9uRixHQUFLbUYsR0FBRyxDQUNYLE1BQU1XLEVBQVlULEVBQVdGLEVBQUksR0FDM0JZLEVBQVlwQixFQUFXM0UsRUFBSSxHQUMzQmdHLEVBQVVGLEVBQVV6RixJQUNwQjRGLEVBQVVGLEVBQVUxRixJQUN0QnlGLElBQWNDLEdBRWRkLEVBQU9hLEVBQVVELE1BQ2pCN0YsSUFDQW1GLEtBRU1HLEVBQVcxRyxJQUFJcUgsSUFLZjdGLEVBQU94QixJQUFJb0gsSUFBWUwsRUFBVS9HLElBQUlvSCxHQUMzQy9LLEVBQU82SyxHQUVGRixFQUFTaEgsSUFBSXFILEdBQ2xCakcsSUFFS3VGLEVBQU8zQyxJQUFJb0QsR0FBV1QsRUFBTzNDLElBQUlxRCxJQUN0Q0wsRUFBUy9HLElBQUltSCxHQUNiL0ssRUFBTzZLLEtBR1BILEVBQVU5RyxJQUFJb0gsR0FDZGpHLE1BZkErRSxFQUFRZ0IsRUFBVzNGLEdBQ25CSixLQWlCUixLQUFPQSxLQUFLLENBQ1IsTUFBTStGLEVBQVlwQixFQUFXM0UsR0FDeEJzRixFQUFXMUcsSUFBSW1ILEVBQVUxRixNQUMxQjBFLEVBQVFnQixFQUFXM0YsR0FFM0IsS0FBTytFLEdBQ0hsSyxFQUFPb0ssRUFBV0YsRUFBSSxJQUMxQixPQUFPRSxxSEM3ckNYLElBQUFhLEVBQUEsR0FDQTFNLE9BQUFDLGVBQUF5TSxFQUFBLGFBQUEsQ0FBQXhNLE9BQUEsSUFBQUYsT0FBQUMsZUFBQXlNLEVBQUEsa0JBQUEsQ0FBQUMsWUFBQSxFQUFBdkQsSUFBQSxXQUFBLE9BQUF0SixFQUFBcUksc0JBQUFuSSxPQUFBQyxlQUFBeU0sRUFBQSx1QkFBQSxDQUFBQyxZQUFBLEVBQUF2RCxJQUFBLFdBQUEsT0FBQXRKLEVBQUEwSSx3QkFBQXhJLE9BQUFDLGVBQUF5TSxFQUFBLGNBQUEsQ0FBQUMsWUFBQSxFQUFBdkQsSUFBQSxXQUFBLE9BQUF0SixFQUFBMkksZUFBQXpJLE9BQUFDLGVBQUF5TSxFQUFBLGVBQUEsQ0FBQUMsWUFBQSxFQUFBdkQsSUFBQSxXQUFBLE9BQUF0SixFQUFBNEksZ0JBQUExSSxPQUFBQyxlQUFBeU0sRUFBQSx3QkFBQSxDQUFBQyxZQUFBLEVBQUF2RCxJQUFBLFdBQUEsT0FBQXRKLEVBQUE2SSx5QkFBQTNJLE9BQUFDLGVBQUF5TSxFQUFBLGFBQUEsQ0FBQUMsWUFBQSxFQUFBdkQsSUFBQSxXQUFBLE9BQUF0SixFQUFBb0osY0FBQWxKLE9BQUFDLGVBQUF5TSxFQUFBLGFBQUEsQ0FBQUMsWUFBQSxFQUFBdkQsSUFBQSxXQUFBLE9BQUF0SixFQUFBdUosY0FBQXJKLE9BQUFDLGVBQUF5TSxFQUFBLFlBQUEsQ0FBQUMsWUFBQSxFQUFBdkQsSUFBQSxXQUFBLE9BQUF0SixFQUFBeUssYUFBQXZLLE9BQUFDLGVBQUF5TSxFQUFBLFVBQUEsQ0FBQUMsWUFBQSxFQUFBdkQsSUFBQSxXQUFBLE9BQUF0SixFQUFBMEssV0FBQXhLLE9BQUFDLGVBQUF5TSxFQUFBLGFBQUEsQ0FBQUMsWUFBQSxFQUFBdkQsSUFBQSxXQUFBLE9BQUF0SixFQUFBOEssY0FBQTVLLE9BQUFDLGVBQUF5TSxFQUFBLE9BQUEsQ0FBQUMsWUFBQSxFQUFBdkQsSUFBQSxXQUFBLE9BQUF0SixFQUFBbUwsUUFFQSxJQUFBMkIsRUFBQSx5RkNIcUIsR0NBckIsTUFBQW5GLGdCQUFBQSxFQUFBN0UsS0FBQUEsRUFBQXFCLGtCQUFBQSxFQUFBckMsT0FBQUEsRUFBQUcsUUFBQUEsRUFBQXVILEtBQUFBLEVBQUE3SCxPQUFBQSxFQUFBMUIsS0FBQUEsRUFBQTBLLGVBQUFBLEdBQUEzSyxHQUFBb0osV0FBQUEsR0FBQXdELEdBQUFHLGFBQUFDLEdBQUFGLEVBQUEsU0FBQXBELEVBQUE3RCxHQUFBLElBQUFvSCxFQUFBLE1BQUEsQ0FBQXJGLElBQUFxRixFQUFBaEwsRUFBQSxPQUFBYSxFQUFBbUssRUFBQSxRQUFBcEgsRUFBQSxLQUFBK0IsRUFBQXBHLEVBQUFJLEdBQUFELEVBQUFILEVBQUF5TCxFQUFBckwsR0FBQXFMLEVBQUFDLFVBQUFySCxFQUFBLEdBQUFBLEVBQUEsR0FBQW9ILElBQUFyRixFQUFBL0IsR0FBQUYsSUFBQSxFQUFBQSxJQUFBc0gsRUFBQUMsVUFBQXJILEVBQUEsSUFBQSxFQUFBRixHQUFBN0MsRUFBQW1LLEVBQUEsUUFBQXBILEVBQUEsS0FBQVosRUFBQWhGLEVBQUF5RyxFQUFBekcsRUFBQTJILEVBQUFILEdBQUFBLEdBQUEzRixFQUFBbUwsR0FBQXBILEVBQUEsR0FBQSxRQUFBLFNBQUE0RCxFQUFBMEQsRUFBQWpGLEVBQUFrRixHQUFBLE1BQUFMLEVBQUEzRCxFQUFBNEQsR0FBQSxJQUFBSyxHQUFBQyxRQUFBQSxFQUFBLElBQUFwRixHQUFBNUYsS0FBQUEsRUFBQSxJQUFBNEYsRUFBQXFGLEVBQUEsR0FBQSxPQUFBSixFQUFBaEYsTUFBQUQsSUFBQSxZQUFBQSxHQUFBa0YsRUFBQSxFQUFBRSxFQUFBcEYsRUFBQW9GLFNBQUEsU0FBQXBGLEdBQUFrRixFQUFBLEVBQUE5SyxFQUFBNEYsRUFBQTVGLE9BQUE2SyxFQUFBaEksR0FBQUQsT0FBQSxLQUFBLEVBQUFpSSxFQUFBaEksR0FBQVEsT0FBQTBILEdBQUFBLEVBQUFHLGlCQUFBLFVBQUE3TSxRQUFBOE0sR0FBQSxTQUFBQyxHQUFBLFFBQUEsSUFBQUgsRUFBQUcsR0FBQSxDQUFBSCxFQUFBRyxJQUFBLEVBQUEsSUFBQSxJQUFBQyxTQUFBRCxFQUFBLEdBQUEsTUFBQWhLLEdBQUEsTUFBQWtLLEVBQUEsQ0FBQXBLLEtBQUEsa0JBQUFxSyxNQUFBbkssRUFBQW9LLFlBQUFmLEVBQUFhLEtBQUEsQ0FBQUgsRUFBQVAsYUFBQSxDQUFBSSxFQUFBaEwsRUFBQStLLEVBQUEsU0FBQVUsR0FBQTVKLEVBQUE0SixFQUFBLFVBQUEsUUFBQSxLQUFBWCxFQUFBLEVBQUFDLEVBQUFVLE9BQUEsSUFBQUMsRUFBQSxjQUFBckcsRUFBQUMsWUFBQWpGLEdBQUE0RixRQUFBaUIsRUFBQTNKLEtBQUE4QyxFQUFBOEcsRUFBQUMsRUFBQWlCLEVBQUEsQ0FBQTJDLFFBQUEsRUFBQWhMLEtBQUEsTUFFQSxNQUFBcUYsZ0JBQUFzRyxFQUFBMU0sT0FBQUEsRUFBQXVCLEtBQUFvTCxFQUFBOUgsYUFBQUEsRUFBQTRDLGlCQUFBQSxFQUFBeEIsa0JBQUFBLEVBQUF5QixhQUFBQSxFQUFBbkgsT0FBQXFNLEVBQUFsTSxRQUFBbU0sRUFBQWpGLE1BQUFBLEVBQUFsRCxhQUFBQSxFQUFBdUQsS0FBQTZFLEVBQUExTSxPQUFBMk0sRUFBQTlMLE9BQUFBLEVBQUF3RSxnQkFBQUEsRUFBQUgsd0JBQUFBLEVBQUE4RCxlQUFBNEQsRUFBQXZELFNBQUFBLEVBQUFFLE1BQUFBLEVBQUE3SSxLQUFBQSxFQUFBZ0UsY0FBQUEsRUFBQUksZUFBQUEsRUFBQTJFLGtCQUFBQSxHQUFBcEwsRUFBQSxTQUFBd08sRUFBQTNJLEVBQUEyRixFQUFBdkcsR0FBQSxNQUFBaUgsRUFBQXJHLEVBQUFpRCxRQUFBLE9BQUFvRCxFQUFBLEdBQUFWLEVBQUF2RyxHQUFBaUgsRUFBQSxTQUFBdUMsRUFBQTVJLEVBQUEyRixFQUFBdkcsR0FBQSxNQUFBaUgsRUFBQXJHLEVBQUFpRCxRQUFBLE9BQUFvRCxFQUFBLEdBQUFWLEVBQUF2RyxHQUFBaUgsRUFBQSxTQUFBd0MsRUFBQTdJLEVBQUEyRixFQUFBdkcsR0FBQSxNQUFBaUgsRUFBQXJHLEVBQUFpRCxRQUFBLE9BQUFvRCxFQUFBLEdBQUFWLEVBQUF2RyxHQUFBaUgsRUFBQSxTQUFBeUMsRUFBQTlJLEdBQUEsSUFBQStJLEVBQUEzSixFQUFBNEosRUFBQUMsRUFBQSxNQUFBLENBQUFsSCxJQUFBZ0gsRUFBQVIsRUFBQSxPQUFBbkosRUFBQW1KLEVBQUEsS0FBQVUsRUFBQTVELElBQUFnRCxFQUFBakosRUFBQSxRQUFBLDBCQUFBaUosRUFBQVUsRUFBQSxjQUFBLFdBQUFWLEVBQUFVLEVBQUEsUUFBQUMsRUFBQWhKLEVBQUEsR0FBQWtKLGNBQUFuSCxFQUFBcEcsRUFBQUksR0FBQTBNLEVBQUE5TSxFQUFBb04sRUFBQWhOLEdBQUFMLEVBQUFxTixFQUFBM0osR0FBQXFKLEVBQUE5TSxFQUFBc04sRUFBQWxOLElBQUFnRyxFQUFBL0IsRUFBQUYsR0FBQSxFQUFBQSxHQUFBa0osS0FBQUEsRUFBQWhKLEVBQUEsR0FBQWtKLGNBQUFiLEVBQUFVLEVBQUEsUUFBQUMsSUFBQWpILEVBQUFILEdBQUFBLEdBQUEwRyxFQUFBUyxHQUFBbkgsR0FBQTBHLEVBQUFXLEtBQUEsU0FBQUUsRUFBQW5KLEdBQUEsSUFBQStFLEVBQUFxRSxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBMUosRUFBQSxHQUFBLEdBQUEsU0FBQTJKLElBQUEsT0FBQTNKLEVBQUEsR0FBQUEsRUFBQSxJQUFBLE1BQUEsQ0FBQStCLElBQUFnRCxFQUFBd0QsRUFBQSxLQUFBYSxFQUFBNU0sRUFBQWtOLEdBQUFMLEVBQUFoRSxJQUFBZ0QsRUFBQXRELEVBQUEsT0FBQSxlQUFBc0QsRUFBQXRELEVBQUEsUUFBQXVFLEVBQUEsWUFBQXRKLEVBQUEsR0FBQXpGLE9BQUF5RixFQUFBLEdBQUEsVUFBQSxLQUFBcUksRUFBQXRELEVBQUEsZ0JBQUF3RSxFQUFBLGVBQUF2SixFQUFBLEdBQUEzRCxLQUFBLElBQUEyRCxFQUFBLElBQUFxSSxFQUFBdEQsRUFBQSxjQUFBLE9BQUFzRCxFQUFBdEQsRUFBQSxPQUFBLFFBQUFoRCxFQUFBcEcsRUFBQUksR0FBQTBNLEVBQUE5TSxFQUFBb0osRUFBQWhKLEdBQUFMLEVBQUFxSixFQUFBcUUsR0FBQTFOLEVBQUFxSixFQUFBc0UsR0FBQUcsSUFBQUMsRUFBQTlNLEVBQUFvSSxFQUFBLFFBQUE0RSxHQUFBSCxHQUFBLElBQUF6SCxFQUFBNkgsRUFBQTlKLEdBQUFFLEVBQUE0SixFQUFBLEVBQUE5SixHQUFBNEosS0FBQUEsRUFBQTFKLEVBQUEsR0FBQSxLQUFBbUYsRUFBQWlFLEVBQUFNLEdBQUEsRUFBQTVKLEdBQUF3SixLQUFBQSxFQUFBLFlBQUF0SixFQUFBLEdBQUF6RixPQUFBeUYsRUFBQSxHQUFBLFVBQUEsTUFBQXFJLEVBQUF0RCxFQUFBLFFBQUF1RSxHQUFBLEVBQUF4SixHQUFBeUosS0FBQUEsRUFBQSxlQUFBdkosRUFBQSxHQUFBM0QsS0FBQSxJQUFBMkQsRUFBQSxLQUFBcUksRUFBQXRELEVBQUEsZ0JBQUF3RSxJQUFBeEgsRUFBQUgsR0FBQUEsR0FBQTBHLEVBQUF2RCxHQUFBeUUsR0FBQSxFQUFBQyxNQUFBLFNBQUFJLEVBQUFDLEVBQUE5SixHQUFBLElBQUEwRyxFQUFBcUQsRUFBQUMsRUFBQSxPQUFBRCxFQUFBLElBQUE1QixFQUFBLENBQUFwRSxNQUFBLENBQUF0SCxLQUFBdUQsRUFBQSxHQUFBaUssY0FBQWpLLEVBQUEsR0FBQWtLLEtBQUE3TixTQUFBLENBQUE2RSxJQUFBNEksRUFBQXBELE1BQUEsS0FBQTNFLElBQUEyRSxFQUFBcEQsSUFBQUgsRUFBQTRHLEVBQUF6SyxHQUFBTSxVQUFBNUYsS0FBQTBNLE1BQUFBLEdBQUEzRSxFQUFBcEcsRUFBQUksR0FBQTBNLEVBQUE5TSxFQUFBK0ssRUFBQTNLLEdBQUFvRixFQUFBNEksRUFBQXBPLEVBQUFJLEdBQUFpTyxHQUFBLEdBQUFqSSxFQUFBNkgsRUFBQTlKLEdBQUFFLEVBQUE0SixFQUFBLE1BQUFPLEVBQUEsR0FBQSxFQUFBckssSUFBQXFLLEVBQUExTixLQUFBdUQsRUFBQSxHQUFBaUssY0FBQWpLLEVBQUEsR0FBQWtLLEtBQUE3TixPQUFBME4sRUFBQUssS0FBQUQsSUFBQXBJLEVBQUFyQixHQUFBc0osSUFBQXhKLEVBQUF1SixFQUFBekssR0FBQU0sU0FBQWMsR0FBQXNKLEdBQUEsSUFBQWpJLEVBQUFyQixHQUFBRSxFQUFBbUosRUFBQXpLLEdBQUFNLFNBQUFjLEdBQUFzSixHQUFBLEdBQUFqSSxFQUFBSCxHQUFBQSxHQUFBMEcsRUFBQTVCLEdBQUEvRSxFQUFBb0ksRUFBQW5JLEtBQUEsU0FBQWlFLEVBQUE3RixHQUFBLElBQUFvSCxFQUFBNkIsRUFBQW9CLEVBQUFMLEVBQUFNLEVBQUEsR0FBQUMsRUFBQSxJQUFBcEcsSUFBQXFHLEVBQUF4SyxFQUFBLEdBQUF5SyxRQUFBekssRUFBQSxJQUFBLE1BQUF5RixFQUFBekYsR0FBQUEsRUFBQSxHQUFBa0ssS0FBQTdOLEtBQUEsSUFBQSxJQUFBK0MsRUFBQSxFQUFBQSxFQUFBb0wsRUFBQXBQLE9BQUFnRSxHQUFBLEVBQUEsQ0FBQSxJQUFBaUgsRUFBQXVDLEVBQUE1SSxFQUFBd0ssRUFBQXBMLEdBQUE4QixFQUFBdUUsRUFBQVksR0FBQWtFLEVBQUFyRixJQUFBaEUsRUFBQW9KLEVBQUFsTCxHQUFBeUssRUFBQTNJLEVBQUFtRixJQUFBLE1BQUEsQ0FBQXRFLElBQUFxRixFQUFBbUIsRUFBQSxPQUFBLElBQUEsSUFBQW5KLEVBQUEsRUFBQUEsRUFBQWtMLEVBQUFsUCxPQUFBZ0UsR0FBQSxFQUFBa0wsRUFBQWxMLEdBQUFrQixJQUFBMkksRUFBQTVELElBQUFnRCxFQUFBakIsRUFBQSxRQUFBaUQsRUFBQSxpQkFBQXJLLEVBQUEsR0FBQXpGLE9BQUF5RixFQUFBLEdBQUEsZUFBQSxLQUFBcUksRUFBQWpCLEVBQUEsT0FBQSxhQUFBckYsRUFBQXBHLEVBQUFJLEdBQUEwTSxFQUFBOU0sRUFBQXlMLEVBQUFyTCxHQUFBLElBQUEsSUFBQXFELEVBQUEsRUFBQUEsRUFBQWtMLEVBQUFsUCxPQUFBZ0UsR0FBQSxFQUFBa0wsRUFBQWxMLEdBQUFtQyxFQUFBNkYsRUFBQSxNQUFBMUwsRUFBQTBMLEVBQUE2QixHQUFBZSxHQUFBLEdBQUFqSSxFQUFBL0IsRUFBQUYsR0FBQSxFQUFBQSxJQUFBMEssRUFBQXhLLEVBQUEsR0FBQXlLLFFBQUF6SyxFQUFBLElBQUFJLElBQUFrSyxFQUFBL0UsRUFBQStFLEVBQUF4SyxFQUFBMkYsRUFBQSxFQUFBekYsRUFBQXdLLEVBQUFELEVBQUFuRCxFQUFBcEcsRUFBQTZJLEVBQUFaLEVBQUFMLEdBQUFySSxPQUFBeUosR0FBQSxFQUFBbEssR0FBQXVLLEtBQUFBLEVBQUEsaUJBQUFySyxFQUFBLEdBQUF6RixPQUFBeUYsRUFBQSxHQUFBLGVBQUEsT0FBQXFJLEVBQUFqQixFQUFBLFFBQUFpRCxJQUFBdEksRUFBQXJCLEdBQUEsSUFBQXNKLEVBQUEsQ0FBQSxJQUFBLElBQUE1SyxFQUFBLEVBQUFBLEVBQUFvTCxFQUFBcFAsT0FBQWdFLEdBQUEsRUFBQW9CLEVBQUE4SixFQUFBbEwsSUFBQTRLLEdBQUEsSUFBQWpJLEVBQUFyQixHQUFBLElBQUEsSUFBQXRCLEVBQUEsRUFBQUEsRUFBQWtMLEVBQUFsUCxPQUFBZ0UsR0FBQSxFQUFBd0IsRUFBQTBKLEVBQUFsTCxJQUFBNEssR0FBQSxHQUFBakksRUFBQUgsR0FBQUEsR0FBQTBHLEVBQUFsQixHQUFBLElBQUEsSUFBQWhJLEVBQUEsRUFBQUEsRUFBQWtMLEVBQUFsUCxPQUFBZ0UsR0FBQSxFQUFBa0wsRUFBQWxMLEdBQUEwQixNQUFBLFNBQUE0SixFQUFBMUssR0FBQSxJQUFBMkssRUFBQUMsRUFBQXhCLEVBQUFDLEVBQUF3QixFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBdkIsRUFBQU4sRUFBQTFKLEVBQUEsR0FBQXdMLE1BQUEsR0FBQUMsRUFBQXpMLEVBQUEsR0FBQWtKLGFBQUFKLEVBQUE5SSxHQUFBMEwsRUFBQXJSLE9BQUFjLEtBQUE2RSxFQUFBLEdBQUF5SyxTQUFBa0IsRUFBQSxHQUFBLElBQUEsSUFBQXZNLEVBQUEsRUFBQUEsRUFBQXNNLEVBQUF0USxPQUFBZ0UsR0FBQSxFQUFBdU0sRUFBQXZNLEdBQUErSixFQUFBTixFQUFBN0ksRUFBQTBMLEVBQUF0TSxJQUFBLElBQUF3TSxFQUFBdlIsT0FBQWMsS0FBQTZFLEVBQUEsR0FBQXlLLFNBQUFILEVBQUEsR0FBQSxJQUFBLElBQUFsTCxFQUFBLEVBQUFBLEVBQUF3TSxFQUFBeFEsT0FBQWdFLEdBQUEsRUFBQWtMLEVBQUFsTCxHQUFBeUcsRUFBQThDLEVBQUEzSSxFQUFBNEwsRUFBQXhNLElBQUEsTUFBQXlNLEVBQUF6TSxHQUFBd0IsRUFBQTBKLEVBQUFsTCxHQUFBLEVBQUEsRUFBQSxLQUFBa0wsRUFBQWxMLEdBQUEsT0FBQSxNQUFBLENBQUEyQyxJQUFBNEksRUFBQXBDLEVBQUEsT0FBQXFDLEVBQUFyQyxFQUFBLE9BQUFhLEVBQUE1TSxFQUFBa04sR0FBQUwsRUFBQWhFLElBQUFvRyxHQUFBQSxFQUFBbkwsSUFBQXVLLEVBQUFyTyxFQUFBLEtBQUFzTyxFQUFBekYsSUFBQTBGLEVBQUF4QyxFQUFBLE9BQUF5QyxFQUFBekMsRUFBQSxPQUFBLElBQUEsSUFBQW5KLEVBQUEsRUFBQUEsRUFBQXVNLEVBQUF2USxPQUFBZ0UsR0FBQSxFQUFBdU0sRUFBQXZNLEdBQUFrQixJQUFBMkssRUFBQTVGLElBQUE2RixFQUFBM0MsRUFBQSxPQUFBNEMsRUFBQTVDLEVBQUEsT0FBQSxJQUFBLElBQUFuSixFQUFBLEVBQUFBLEVBQUFrTCxFQUFBbFAsT0FBQWdFLEdBQUEsRUFBQWtMLEVBQUFsTCxHQUFBa0IsSUFBQThLLEVBQUEvRixJQUFBZ0csRUFBQTlDLEVBQUEsU0FBQUYsRUFBQXVDLEVBQUEsUUFBQSx1Q0FBQXZDLEVBQUEyQyxFQUFBLFFBQUEsMkNBQUEzQyxFQUFBMkMsRUFBQSxtQkFBQSxZQUFBM0MsRUFBQTJDLEVBQUEsT0FBQSxXQUFBM0MsRUFBQTBDLEVBQUEsUUFBQSx5QkFBQTFDLEVBQUE4QyxFQUFBLFFBQUEsZUFBQTlDLEVBQUE2QyxFQUFBLFFBQUEseUJBQUE3QyxFQUFBZ0QsRUFBQSxPQUFBLFFBQUFoRCxFQUFBZ0QsRUFBQSxRQUFBLFVBQUFoRCxFQUFBZ0QsRUFBQSxPQUFBQyxFQUFBdEwsRUFBQSxHQUFBM0QsTUFBQWdQLEVBQUE5USxNQUFBZ1IsRUFBQXZMLEVBQUEsR0FBQXpGLE1BQUE4TixFQUFBc0MsRUFBQSxRQUFBLDBCQUFBNUksRUFBQXBHLEVBQUFJLEdBQUEwTSxFQUFBOU0sRUFBQWdQLEVBQUE1TyxHQUFBTCxFQUFBaVAsRUFBQUMsR0FBQWxQLEVBQUFrUCxFQUFBeEIsR0FBQTFOLEVBQUFrUCxFQUFBdkIsR0FBQW9DLEdBQUFBLEVBQUFsSyxFQUFBcUosRUFBQSxNQUFBbFAsRUFBQWtQLEVBQUFDLEdBQUFuUCxFQUFBaVAsRUFBQUcsR0FBQXBQLEVBQUFpUCxFQUFBSSxHQUFBclAsRUFBQXFQLEVBQUFDLEdBQUEsSUFBQSxJQUFBNUwsRUFBQSxFQUFBQSxFQUFBdU0sRUFBQXZRLE9BQUFnRSxHQUFBLEVBQUF1TSxFQUFBdk0sR0FBQW1DLEVBQUF5SixFQUFBLE1BQUF0UCxFQUFBaVAsRUFBQU0sR0FBQXZQLEVBQUFpUCxFQUFBTyxHQUFBeFAsRUFBQXdQLEVBQUFDLEdBQUEsSUFBQSxJQUFBL0wsRUFBQSxFQUFBQSxFQUFBa0wsRUFBQWxQLE9BQUFnRSxHQUFBLEVBQUFrTCxFQUFBbEwsR0FBQW1DLEVBQUE0SixFQUFBLE1BQUF6UCxFQUFBaVAsRUFBQVMsR0FBQTFQLEVBQUFpUCxFQUFBVSxHQUFBckIsR0FBQSxHQUFBakksRUFBQS9CLEdBQUFGLElBQUEsS0FBQWtLLEdBQUEsRUFBQWxLLElBQUE0SixLQUFBQSxFQUFBMUosRUFBQSxHQUFBd0wsTUFBQSxLQUFBckcsRUFBQWlFLEVBQUFNLEdBQUExSixFQUFBLEdBQUFrSixZQUFBdUMsRUFBQUEsRUFBQTFMLEVBQUFDLEVBQUFGLEtBQUEyTCxFQUFBM0MsRUFBQTlJLElBQUFNLElBQUFtTCxFQUFBbEssRUFBQXFKLEVBQUFDLElBQUFZLElBQUFBLEVBQUEzSyxFQUFBLEdBQUEySyxFQUFBLE1BQUEsRUFBQTNMLEVBQUEsQ0FBQSxJQUFBVixFQUFBLElBQUFzTSxFQUFBclIsT0FBQWMsS0FBQTZFLEVBQUEsR0FBQXlLLFNBQUFyTCxFQUFBLEVBQUFBLEVBQUFzTSxFQUFBdFEsT0FBQWdFLEdBQUEsRUFBQSxDQUFBLE1BQUFpSCxFQUFBd0MsRUFBQTdJLEVBQUEwTCxFQUFBdE0sR0FBQXVNLEVBQUF2TSxHQUFBdU0sRUFBQXZNLEdBQUFXLEVBQUFzRyxFQUFBdkcsSUFBQTZMLEVBQUF2TSxHQUFBK0osRUFBQTlDLEdBQUFzRixFQUFBdk0sR0FBQWtCLElBQUFxTCxFQUFBdk0sR0FBQW1DLEVBQUF5SixFQUFBLE9BQUEsS0FBQTVMLEVBQUF1TSxFQUFBdlEsT0FBQWdFLEdBQUEsRUFBQXVNLEVBQUF2TSxHQUFBMEIsRUFBQSxHQUFBNkssRUFBQXZRLE9BQUFzUSxFQUFBdFEsT0FBQSxHQUFBLEVBQUEwRSxFQUFBLENBQUEsSUFBQVYsRUFBQSxJQUFBd00sRUFBQXZSLE9BQUFjLEtBQUE2RSxFQUFBLEdBQUF5SyxTQUFBckwsRUFBQSxFQUFBQSxFQUFBd00sRUFBQXhRLE9BQUFnRSxHQUFBLEVBQUEsQ0FBQSxNQUFBaUgsRUFBQXNDLEVBQUEzSSxFQUFBNEwsRUFBQXhNLEdBQUFrTCxFQUFBbEwsSUFBQWtMLEVBQUFsTCxHQUFBVyxFQUFBc0csRUFBQXZHLEdBQUFVLEVBQUE4SixFQUFBbEwsR0FBQSxLQUFBa0wsRUFBQWxMLEdBQUF5RyxFQUFBUSxHQUFBaUUsRUFBQWxMLEdBQUFrQixJQUFBRSxFQUFBOEosRUFBQWxMLEdBQUEsR0FBQWtMLEVBQUFsTCxHQUFBbUMsRUFBQTRKLEVBQUEsT0FBQSxJQUFBL0ssSUFBQWhCLEVBQUF3TSxFQUFBeFEsT0FBQWdFLEVBQUFrTCxFQUFBbFAsT0FBQWdFLEdBQUEsRUFBQXlNLEVBQUF6TSxHQUFBbUIsTUFBQXlKLEdBQUEsRUFBQWxLLEdBQUF3TCxLQUFBQSxFQUFBdEwsRUFBQSxHQUFBM0QsUUFBQWdNLEVBQUFnRCxFQUFBLE9BQUFDLEtBQUF0QixHQUFBLEVBQUFsSyxHQUFBeUwsS0FBQUEsRUFBQXZMLEVBQUEsR0FBQXpGLFFBQUE4USxFQUFBOVEsUUFBQWdSLEtBQUFGLEVBQUE5USxNQUFBZ1IsSUFBQXhKLEVBQUFyQixHQUFBLElBQUFzSixFQUFBLENBQUEsSUFBQSxJQUFBNUssRUFBQSxFQUFBQSxFQUFBd00sRUFBQXhRLE9BQUFnRSxHQUFBLEVBQUFvQixFQUFBOEosRUFBQWxMLElBQUE0SyxHQUFBLElBQUFqSSxFQUFBckIsR0FBQTRKLEVBQUFBLEVBQUE1SSxPQUFBb0ssU0FBQSxJQUFBLElBQUExTSxFQUFBLEVBQUFBLEVBQUFrTCxFQUFBbFAsT0FBQWdFLEdBQUEsRUFBQXdCLEVBQUEwSixFQUFBbEwsSUFBQTRLLEdBQUEsR0FBQWpJLEVBQUFILEdBQUFBLEdBQUEwRyxFQUFBcUMsR0FBQWMsR0FBQUEsRUFBQTNLLElBQUFzQyxFQUFBdUksRUFBQS9KLEdBQUF3QixFQUFBa0gsRUFBQTFJLEtBQUEsU0FBQW1LLEVBQUF6RSxFQUFBakYsRUFBQWtGLEdBQUEsSUFBQTJDLEtBQUFBLEdBQUE3SCxFQUFBLE9BQUFpRixFQUFBaEYsTUFBQUQsSUFBQSxTQUFBQSxHQUFBa0YsRUFBQSxFQUFBMkMsRUFBQTdILEVBQUE2SCxPQUFBLENBQUFBLEVBQUE4QixHQUFBekUsRUFBQSxFQUFBMkMsRUFBQTNQLE1BQUF5UixFQUFBOUIsSUNBQSxPREFBLGNBQUE5QixFQUFBckcsWUFBQWpGLEdBQUE0RixRQUFBOEYsRUFBQXhPLEtBQUE4QyxFQUFBaVAsRUFBQXJCLEVBQUFoQyxFQUFBLENBQUF3QixLQUFBIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09XCJvYmplY3RcIiYmdHlwZW9mIG1vZHVsZSE9PVwidW5kZWZpbmVkXCIpe21vZHVsZS5leHBvcnRzPWYoKX1lbHNlIGlmKHR5cGVvZiBkZWZpbmU9PT1cImZ1bmN0aW9uXCImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT1cInVuZGVmaW5lZFwiKXtnPXdpbmRvd31lbHNlIGlmKHR5cGVvZiBnbG9iYWwhPT1cInVuZGVmaW5lZFwiKXtnPWdsb2JhbH1lbHNlIGlmKHR5cGVvZiBzZWxmIT09XCJ1bmRlZmluZWRcIil7Zz1zZWxmfWVsc2V7Zz10aGlzfShnLlRhYkZpZWxkIHx8IChnLlRhYkZpZWxkID0ge30pKS5zdmVsdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG5mdW5jdGlvbiBub29wKCkgeyB9XG5jb25zdCBpZGVudGl0eSA9IHggPT4geDtcbmZ1bmN0aW9uIGFzc2lnbih0YXIsIHNyYykge1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBmb3IgKGNvbnN0IGsgaW4gc3JjKVxuICAgICAgICB0YXJba10gPSBzcmNba107XG4gICAgcmV0dXJuIHRhcjtcbn1cbmZ1bmN0aW9uIGlzX3Byb21pc2UodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGFkZF9sb2NhdGlvbihlbGVtZW50LCBmaWxlLCBsaW5lLCBjb2x1bW4sIGNoYXIpIHtcbiAgICBlbGVtZW50Ll9fc3ZlbHRlX21ldGEgPSB7XG4gICAgICAgIGxvYzogeyBmaWxlLCBsaW5lLCBjb2x1bW4sIGNoYXIgfVxuICAgIH07XG59XG5mdW5jdGlvbiBydW4oZm4pIHtcbiAgICByZXR1cm4gZm4oKTtcbn1cbmZ1bmN0aW9uIGJsYW5rX29iamVjdCgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cbmZ1bmN0aW9uIHJ1bl9hbGwoZm5zKSB7XG4gICAgZm5zLmZvckVhY2gocnVuKTtcbn1cbmZ1bmN0aW9uIGlzX2Z1bmN0aW9uKHRoaW5nKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGluZyA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIHNhZmVfbm90X2VxdWFsKGEsIGIpIHtcbiAgICByZXR1cm4gYSAhPSBhID8gYiA9PSBiIDogYSAhPT0gYiB8fCAoKGEgJiYgdHlwZW9mIGEgPT09ICdvYmplY3QnKSB8fCB0eXBlb2YgYSA9PT0gJ2Z1bmN0aW9uJyk7XG59XG5mdW5jdGlvbiBub3RfZXF1YWwoYSwgYikge1xuICAgIHJldHVybiBhICE9IGEgPyBiID09IGIgOiBhICE9PSBiO1xufVxuZnVuY3Rpb24gaXNfZW1wdHkob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVfc3RvcmUoc3RvcmUsIG5hbWUpIHtcbiAgICBpZiAoc3RvcmUgIT0gbnVsbCAmJiB0eXBlb2Ygc3RvcmUuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJyR7bmFtZX0nIGlzIG5vdCBhIHN0b3JlIHdpdGggYSAnc3Vic2NyaWJlJyBtZXRob2RgKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzdWJzY3JpYmUoc3RvcmUsIC4uLmNhbGxiYWNrcykge1xuICAgIGlmIChzdG9yZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBub29wO1xuICAgIH1cbiAgICBjb25zdCB1bnN1YiA9IHN0b3JlLnN1YnNjcmliZSguLi5jYWxsYmFja3MpO1xuICAgIHJldHVybiB1bnN1Yi51bnN1YnNjcmliZSA/ICgpID0+IHVuc3ViLnVuc3Vic2NyaWJlKCkgOiB1bnN1Yjtcbn1cbmZ1bmN0aW9uIGdldF9zdG9yZV92YWx1ZShzdG9yZSkge1xuICAgIGxldCB2YWx1ZTtcbiAgICBzdWJzY3JpYmUoc3RvcmUsIF8gPT4gdmFsdWUgPSBfKSgpO1xuICAgIHJldHVybiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIGNvbXBvbmVudF9zdWJzY3JpYmUoY29tcG9uZW50LCBzdG9yZSwgY2FsbGJhY2spIHtcbiAgICBjb21wb25lbnQuJCQub25fZGVzdHJveS5wdXNoKHN1YnNjcmliZShzdG9yZSwgY2FsbGJhY2spKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9zbG90KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcbiAgICBpZiAoZGVmaW5pdGlvbikge1xuICAgICAgICBjb25zdCBzbG90X2N0eCA9IGdldF9zbG90X2NvbnRleHQoZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBmbik7XG4gICAgICAgIHJldHVybiBkZWZpbml0aW9uWzBdKHNsb3RfY3R4KTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcbiAgICByZXR1cm4gZGVmaW5pdGlvblsxXSAmJiBmblxuICAgICAgICA/IGFzc2lnbigkJHNjb3BlLmN0eC5zbGljZSgpLCBkZWZpbml0aW9uWzFdKGZuKGN0eCkpKVxuICAgICAgICA6ICQkc2NvcGUuY3R4O1xufVxuZnVuY3Rpb24gZ2V0X3Nsb3RfY2hhbmdlcyhkZWZpbml0aW9uLCAkJHNjb3BlLCBkaXJ0eSwgZm4pIHtcbiAgICBpZiAoZGVmaW5pdGlvblsyXSAmJiBmbikge1xuICAgICAgICBjb25zdCBsZXRzID0gZGVmaW5pdGlvblsyXShmbihkaXJ0eSkpO1xuICAgICAgICBpZiAoJCRzY29wZS5kaXJ0eSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gbGV0cztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGxldHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjb25zdCBtZXJnZWQgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IE1hdGgubWF4KCQkc2NvcGUuZGlydHkubGVuZ3RoLCBsZXRzLmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgbWVyZ2VkW2ldID0gJCRzY29wZS5kaXJ0eVtpXSB8IGxldHNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkJHNjb3BlLmRpcnR5IHwgbGV0cztcbiAgICB9XG4gICAgcmV0dXJuICQkc2NvcGUuZGlydHk7XG59XG5mdW5jdGlvbiB1cGRhdGVfc2xvdChzbG90LCBzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZGlydHksIGdldF9zbG90X2NoYW5nZXNfZm4sIGdldF9zbG90X2NvbnRleHRfZm4pIHtcbiAgICBjb25zdCBzbG90X2NoYW5nZXMgPSBnZXRfc2xvdF9jaGFuZ2VzKHNsb3RfZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGdldF9zbG90X2NoYW5nZXNfZm4pO1xuICAgIGlmIChzbG90X2NoYW5nZXMpIHtcbiAgICAgICAgY29uc3Qgc2xvdF9jb250ZXh0ID0gZ2V0X3Nsb3RfY29udGV4dChzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG4gICAgICAgIHNsb3QucChzbG90X2NvbnRleHQsIHNsb3RfY2hhbmdlcyk7XG4gICAgfVxufVxuZnVuY3Rpb24gdXBkYXRlX3Nsb3Rfc3ByZWFkKHNsb3QsIHNsb3RfZGVmaW5pdGlvbiwgY3R4LCAkJHNjb3BlLCBkaXJ0eSwgZ2V0X3Nsb3RfY2hhbmdlc19mbiwgZ2V0X3Nsb3Rfc3ByZWFkX2NoYW5nZXNfZm4sIGdldF9zbG90X2NvbnRleHRfZm4pIHtcbiAgICBjb25zdCBzbG90X2NoYW5nZXMgPSBnZXRfc2xvdF9zcHJlYWRfY2hhbmdlc19mbihkaXJ0eSkgfCBnZXRfc2xvdF9jaGFuZ2VzKHNsb3RfZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGdldF9zbG90X2NoYW5nZXNfZm4pO1xuICAgIGlmIChzbG90X2NoYW5nZXMpIHtcbiAgICAgICAgY29uc3Qgc2xvdF9jb250ZXh0ID0gZ2V0X3Nsb3RfY29udGV4dChzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG4gICAgICAgIHNsb3QucChzbG90X2NvbnRleHQsIHNsb3RfY2hhbmdlcyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZXhjbHVkZV9pbnRlcm5hbF9wcm9wcyhwcm9wcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3QgayBpbiBwcm9wcylcbiAgICAgICAgaWYgKGtbMF0gIT09ICckJylcbiAgICAgICAgICAgIHJlc3VsdFtrXSA9IHByb3BzW2tdO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBjb21wdXRlX3Jlc3RfcHJvcHMocHJvcHMsIGtleXMpIHtcbiAgICBjb25zdCByZXN0ID0ge307XG4gICAga2V5cyA9IG5ldyBTZXQoa2V5cyk7XG4gICAgZm9yIChjb25zdCBrIGluIHByb3BzKVxuICAgICAgICBpZiAoIWtleXMuaGFzKGspICYmIGtbMF0gIT09ICckJylcbiAgICAgICAgICAgIHJlc3Rba10gPSBwcm9wc1trXTtcbiAgICByZXR1cm4gcmVzdDtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVfc2xvdHMoc2xvdHMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzbG90cykge1xuICAgICAgICByZXN1bHRba2V5XSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBvbmNlKGZuKSB7XG4gICAgbGV0IHJhbiA9IGZhbHNlO1xuICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICBpZiAocmFuKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICByYW4gPSB0cnVlO1xuICAgICAgICBmbi5jYWxsKHRoaXMsIC4uLmFyZ3MpO1xuICAgIH07XG59XG5mdW5jdGlvbiBudWxsX3RvX2VtcHR5KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xufVxuZnVuY3Rpb24gc2V0X3N0b3JlX3ZhbHVlKHN0b3JlLCByZXQsIHZhbHVlID0gcmV0KSB7XG4gICAgc3RvcmUuc2V0KHZhbHVlKTtcbiAgICByZXR1cm4gcmV0O1xufVxuY29uc3QgaGFzX3Byb3AgPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbmZ1bmN0aW9uIGFjdGlvbl9kZXN0cm95ZXIoYWN0aW9uX3Jlc3VsdCkge1xuICAgIHJldHVybiBhY3Rpb25fcmVzdWx0ICYmIGlzX2Z1bmN0aW9uKGFjdGlvbl9yZXN1bHQuZGVzdHJveSkgPyBhY3Rpb25fcmVzdWx0LmRlc3Ryb3kgOiBub29wO1xufVxuXG5jb25zdCBpc19jbGllbnQgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbmV4cG9ydHMubm93ID0gaXNfY2xpZW50XG4gICAgPyAoKSA9PiB3aW5kb3cucGVyZm9ybWFuY2Uubm93KClcbiAgICA6ICgpID0+IERhdGUubm93KCk7XG5leHBvcnRzLnJhZiA9IGlzX2NsaWVudCA/IGNiID0+IHJlcXVlc3RBbmltYXRpb25GcmFtZShjYikgOiBub29wO1xuLy8gdXNlZCBpbnRlcm5hbGx5IGZvciB0ZXN0aW5nXG5mdW5jdGlvbiBzZXRfbm93KGZuKSB7XG4gICAgZXhwb3J0cy5ub3cgPSBmbjtcbn1cbmZ1bmN0aW9uIHNldF9yYWYoZm4pIHtcbiAgICBleHBvcnRzLnJhZiA9IGZuO1xufVxuXG5jb25zdCB0YXNrcyA9IG5ldyBTZXQoKTtcbmZ1bmN0aW9uIHJ1bl90YXNrcyhub3cpIHtcbiAgICB0YXNrcy5mb3JFYWNoKHRhc2sgPT4ge1xuICAgICAgICBpZiAoIXRhc2suYyhub3cpKSB7XG4gICAgICAgICAgICB0YXNrcy5kZWxldGUodGFzayk7XG4gICAgICAgICAgICB0YXNrLmYoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmICh0YXNrcy5zaXplICE9PSAwKVxuICAgICAgICBleHBvcnRzLnJhZihydW5fdGFza3MpO1xufVxuLyoqXG4gKiBGb3IgdGVzdGluZyBwdXJwb3NlcyBvbmx5IVxuICovXG5mdW5jdGlvbiBjbGVhcl9sb29wcygpIHtcbiAgICB0YXNrcy5jbGVhcigpO1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHRhc2sgdGhhdCBydW5zIG9uIGVhY2ggcmFmIGZyYW1lXG4gKiB1bnRpbCBpdCByZXR1cm5zIGEgZmFsc3kgdmFsdWUgb3IgaXMgYWJvcnRlZFxuICovXG5mdW5jdGlvbiBsb29wKGNhbGxiYWNrKSB7XG4gICAgbGV0IHRhc2s7XG4gICAgaWYgKHRhc2tzLnNpemUgPT09IDApXG4gICAgICAgIGV4cG9ydHMucmFmKHJ1bl90YXNrcyk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcHJvbWlzZTogbmV3IFByb21pc2UoZnVsZmlsbCA9PiB7XG4gICAgICAgICAgICB0YXNrcy5hZGQodGFzayA9IHsgYzogY2FsbGJhY2ssIGY6IGZ1bGZpbGwgfSk7XG4gICAgICAgIH0pLFxuICAgICAgICBhYm9ydCgpIHtcbiAgICAgICAgICAgIHRhc2tzLmRlbGV0ZSh0YXNrKTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGFwcGVuZCh0YXJnZXQsIG5vZGUpIHtcbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQobm9kZSk7XG59XG5mdW5jdGlvbiBpbnNlcnQodGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcbiAgICB0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIGFuY2hvciB8fCBudWxsKTtcbn1cbmZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG4gICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xufVxuZnVuY3Rpb24gZGVzdHJveV9lYWNoKGl0ZXJhdGlvbnMsIGRldGFjaGluZykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoaXRlcmF0aW9uc1tpXSlcbiAgICAgICAgICAgIGl0ZXJhdGlvbnNbaV0uZChkZXRhY2hpbmcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGVsZW1lbnQobmFtZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUpO1xufVxuZnVuY3Rpb24gZWxlbWVudF9pcyhuYW1lLCBpcykge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KG5hbWUsIHsgaXMgfSk7XG59XG5mdW5jdGlvbiBvYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzKG9iaiwgZXhjbHVkZSkge1xuICAgIGNvbnN0IHRhcmdldCA9IHt9O1xuICAgIGZvciAoY29uc3QgayBpbiBvYmopIHtcbiAgICAgICAgaWYgKGhhc19wcm9wKG9iaiwgaylcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICYmIGV4Y2x1ZGUuaW5kZXhPZihrKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHRhcmdldFtrXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xufVxuZnVuY3Rpb24gc3ZnX2VsZW1lbnQobmFtZSkge1xuICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgbmFtZSk7XG59XG5mdW5jdGlvbiB0ZXh0KGRhdGEpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGF0YSk7XG59XG5mdW5jdGlvbiBzcGFjZSgpIHtcbiAgICByZXR1cm4gdGV4dCgnICcpO1xufVxuZnVuY3Rpb24gZW1wdHkoKSB7XG4gICAgcmV0dXJuIHRleHQoJycpO1xufVxuZnVuY3Rpb24gbGlzdGVuKG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG4gICAgbm9kZS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICByZXR1cm4gKCkgPT4gbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbn1cbmZ1bmN0aW9uIHByZXZlbnRfZGVmYXVsdChmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHN0b3BfcHJvcGFnYXRpb24oZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHJldHVybiBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICB9O1xufVxuZnVuY3Rpb24gc2VsZihmbikge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzKVxuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGF0dHIobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgIGVsc2UgaWYgKG5vZGUuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSkgIT09IHZhbHVlKVxuICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShhdHRyaWJ1dGUsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHNldF9hdHRyaWJ1dGVzKG5vZGUsIGF0dHJpYnV0ZXMpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgY29uc3QgZGVzY3JpcHRvcnMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhub2RlLl9fcHJvdG9fXyk7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cmlidXRlcykge1xuICAgICAgICBpZiAoYXR0cmlidXRlc1trZXldID09IG51bGwpIHtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnc3R5bGUnKSB7XG4gICAgICAgICAgICBub2RlLnN0eWxlLmNzc1RleHQgPSBhdHRyaWJ1dGVzW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5ID09PSAnX192YWx1ZScpIHtcbiAgICAgICAgICAgIG5vZGUudmFsdWUgPSBub2RlW2tleV0gPSBhdHRyaWJ1dGVzW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGVzY3JpcHRvcnNba2V5XSAmJiBkZXNjcmlwdG9yc1trZXldLnNldCkge1xuICAgICAgICAgICAgbm9kZVtrZXldID0gYXR0cmlidXRlc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXR0cihub2RlLCBrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBzZXRfc3ZnX2F0dHJpYnV0ZXMobm9kZSwgYXR0cmlidXRlcykge1xuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgYXR0cihub2RlLCBrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGEobm9kZSwgcHJvcCwgdmFsdWUpIHtcbiAgICBpZiAocHJvcCBpbiBub2RlKSB7XG4gICAgICAgIG5vZGVbcHJvcF0gPSB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGF0dHIobm9kZSwgcHJvcCwgdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHhsaW5rX2F0dHIobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgIG5vZGUuc2V0QXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLCBhdHRyaWJ1dGUsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGdldF9iaW5kaW5nX2dyb3VwX3ZhbHVlKGdyb3VwLCBfX3ZhbHVlLCBjaGVja2VkKSB7XG4gICAgY29uc3QgdmFsdWUgPSBuZXcgU2V0KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBpZiAoZ3JvdXBbaV0uY2hlY2tlZClcbiAgICAgICAgICAgIHZhbHVlLmFkZChncm91cFtpXS5fX3ZhbHVlKTtcbiAgICB9XG4gICAgaWYgKCFjaGVja2VkKSB7XG4gICAgICAgIHZhbHVlLmRlbGV0ZShfX3ZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIEFycmF5LmZyb20odmFsdWUpO1xufVxuZnVuY3Rpb24gdG9fbnVtYmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAnJyA/IG51bGwgOiArdmFsdWU7XG59XG5mdW5jdGlvbiB0aW1lX3Jhbmdlc190b19hcnJheShyYW5nZXMpIHtcbiAgICBjb25zdCBhcnJheSA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGFycmF5LnB1c2goeyBzdGFydDogcmFuZ2VzLnN0YXJ0KGkpLCBlbmQ6IHJhbmdlcy5lbmQoaSkgfSk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn1cbmZ1bmN0aW9uIGNoaWxkcmVuKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShlbGVtZW50LmNoaWxkTm9kZXMpO1xufVxuZnVuY3Rpb24gY2xhaW1fZWxlbWVudChub2RlcywgbmFtZSwgYXR0cmlidXRlcywgc3ZnKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlLm5vZGVOYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgICBsZXQgaiA9IDA7XG4gICAgICAgICAgICBjb25zdCByZW1vdmUgPSBbXTtcbiAgICAgICAgICAgIHdoaWxlIChqIDwgbm9kZS5hdHRyaWJ1dGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0dHJpYnV0ZSA9IG5vZGUuYXR0cmlidXRlc1tqKytdO1xuICAgICAgICAgICAgICAgIGlmICghYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlLnB1c2goYXR0cmlidXRlLm5hbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgcmVtb3ZlLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUocmVtb3ZlW2tdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBub2Rlcy5zcGxpY2UoaSwgMSlbMF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN2ZyA/IHN2Z19lbGVtZW50KG5hbWUpIDogZWxlbWVudChuYW1lKTtcbn1cbmZ1bmN0aW9uIGNsYWltX3RleHQobm9kZXMsIGRhdGEpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT09IDMpIHtcbiAgICAgICAgICAgIG5vZGUuZGF0YSA9ICcnICsgZGF0YTtcbiAgICAgICAgICAgIHJldHVybiBub2Rlcy5zcGxpY2UoaSwgMSlbMF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRleHQoZGF0YSk7XG59XG5mdW5jdGlvbiBjbGFpbV9zcGFjZShub2Rlcykge1xuICAgIHJldHVybiBjbGFpbV90ZXh0KG5vZGVzLCAnICcpO1xufVxuZnVuY3Rpb24gc2V0X2RhdGEodGV4dCwgZGF0YSkge1xuICAgIGRhdGEgPSAnJyArIGRhdGE7XG4gICAgaWYgKHRleHQud2hvbGVUZXh0ICE9PSBkYXRhKVxuICAgICAgICB0ZXh0LmRhdGEgPSBkYXRhO1xufVxuZnVuY3Rpb24gc2V0X2lucHV0X3ZhbHVlKGlucHV0LCB2YWx1ZSkge1xuICAgIGlucHV0LnZhbHVlID0gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG59XG5mdW5jdGlvbiBzZXRfaW5wdXRfdHlwZShpbnB1dCwgdHlwZSkge1xuICAgIHRyeSB7XG4gICAgICAgIGlucHV0LnR5cGUgPSB0eXBlO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgfVxufVxuZnVuY3Rpb24gc2V0X3N0eWxlKG5vZGUsIGtleSwgdmFsdWUsIGltcG9ydGFudCkge1xuICAgIG5vZGUuc3R5bGUuc2V0UHJvcGVydHkoa2V5LCB2YWx1ZSwgaW1wb3J0YW50ID8gJ2ltcG9ydGFudCcgOiAnJyk7XG59XG5mdW5jdGlvbiBzZWxlY3Rfb3B0aW9uKHNlbGVjdCwgdmFsdWUpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW2ldO1xuICAgICAgICBpZiAob3B0aW9uLl9fdmFsdWUgPT09IHZhbHVlKSB7XG4gICAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gc2VsZWN0X29wdGlvbnMoc2VsZWN0LCB2YWx1ZSkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VsZWN0Lm9wdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG4gICAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IH52YWx1ZS5pbmRleE9mKG9wdGlvbi5fX3ZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZWxlY3RfdmFsdWUoc2VsZWN0KSB7XG4gICAgY29uc3Qgc2VsZWN0ZWRfb3B0aW9uID0gc2VsZWN0LnF1ZXJ5U2VsZWN0b3IoJzpjaGVja2VkJykgfHwgc2VsZWN0Lm9wdGlvbnNbMF07XG4gICAgcmV0dXJuIHNlbGVjdGVkX29wdGlvbiAmJiBzZWxlY3RlZF9vcHRpb24uX192YWx1ZTtcbn1cbmZ1bmN0aW9uIHNlbGVjdF9tdWx0aXBsZV92YWx1ZShzZWxlY3QpIHtcbiAgICByZXR1cm4gW10ubWFwLmNhbGwoc2VsZWN0LnF1ZXJ5U2VsZWN0b3JBbGwoJzpjaGVja2VkJyksIG9wdGlvbiA9PiBvcHRpb24uX192YWx1ZSk7XG59XG4vLyB1bmZvcnR1bmF0ZWx5IHRoaXMgY2FuJ3QgYmUgYSBjb25zdGFudCBhcyB0aGF0IHdvdWxkbid0IGJlIHRyZWUtc2hha2VhYmxlXG4vLyBzbyB3ZSBjYWNoZSB0aGUgcmVzdWx0IGluc3RlYWRcbmxldCBjcm9zc29yaWdpbjtcbmZ1bmN0aW9uIGlzX2Nyb3Nzb3JpZ2luKCkge1xuICAgIGlmIChjcm9zc29yaWdpbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNyb3Nzb3JpZ2luID0gZmFsc2U7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LnBhcmVudCkge1xuICAgICAgICAgICAgICAgIHZvaWQgd2luZG93LnBhcmVudC5kb2N1bWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNyb3Nzb3JpZ2luID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY3Jvc3NvcmlnaW47XG59XG5mdW5jdGlvbiBhZGRfcmVzaXplX2xpc3RlbmVyKG5vZGUsIGZuKSB7XG4gICAgY29uc3QgY29tcHV0ZWRfc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgIGlmIChjb21wdXRlZF9zdHlsZS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHtcbiAgICAgICAgbm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgfVxuICAgIGNvbnN0IGlmcmFtZSA9IGVsZW1lbnQoJ2lmcmFtZScpO1xuICAgIGlmcmFtZS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ2Rpc3BsYXk6IGJsb2NrOyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgJyArXG4gICAgICAgICdvdmVyZmxvdzogaGlkZGVuOyBib3JkZXI6IDA7IG9wYWNpdHk6IDA7IHBvaW50ZXItZXZlbnRzOiBub25lOyB6LWluZGV4OiAtMTsnKTtcbiAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgaWZyYW1lLnRhYkluZGV4ID0gLTE7XG4gICAgY29uc3QgY3Jvc3NvcmlnaW4gPSBpc19jcm9zc29yaWdpbigpO1xuICAgIGxldCB1bnN1YnNjcmliZTtcbiAgICBpZiAoY3Jvc3NvcmlnaW4pIHtcbiAgICAgICAgaWZyYW1lLnNyYyA9IFwiZGF0YTp0ZXh0L2h0bWwsPHNjcmlwdD5vbnJlc2l6ZT1mdW5jdGlvbigpe3BhcmVudC5wb3N0TWVzc2FnZSgwLCcqJyl9PC9zY3JpcHQ+XCI7XG4gICAgICAgIHVuc3Vic2NyaWJlID0gbGlzdGVuKHdpbmRvdywgJ21lc3NhZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5zb3VyY2UgPT09IGlmcmFtZS5jb250ZW50V2luZG93KVxuICAgICAgICAgICAgICAgIGZuKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWZyYW1lLnNyYyA9ICdhYm91dDpibGFuayc7XG4gICAgICAgIGlmcmFtZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZSA9IGxpc3RlbihpZnJhbWUuY29udGVudFdpbmRvdywgJ3Jlc2l6ZScsIGZuKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYXBwZW5kKG5vZGUsIGlmcmFtZSk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKGNyb3Nzb3JpZ2luKSB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHVuc3Vic2NyaWJlICYmIGlmcmFtZS5jb250ZW50V2luZG93KSB7XG4gICAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgICAgIGRldGFjaChpZnJhbWUpO1xuICAgIH07XG59XG5mdW5jdGlvbiB0b2dnbGVfY2xhc3MoZWxlbWVudCwgbmFtZSwgdG9nZ2xlKSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3RbdG9nZ2xlID8gJ2FkZCcgOiAncmVtb3ZlJ10obmFtZSk7XG59XG5mdW5jdGlvbiBjdXN0b21fZXZlbnQodHlwZSwgZGV0YWlsKSB7XG4gICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xuICAgIGUuaW5pdEN1c3RvbUV2ZW50KHR5cGUsIGZhbHNlLCBmYWxzZSwgZGV0YWlsKTtcbiAgICByZXR1cm4gZTtcbn1cbmZ1bmN0aW9uIHF1ZXJ5X3NlbGVjdG9yX2FsbChzZWxlY3RvciwgcGFyZW50ID0gZG9jdW1lbnQuYm9keSkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHBhcmVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG59XG5jbGFzcyBIdG1sVGFnIHtcbiAgICBjb25zdHJ1Y3RvcihhbmNob3IgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuYSA9IGFuY2hvcjtcbiAgICAgICAgdGhpcy5lID0gdGhpcy5uID0gbnVsbDtcbiAgICB9XG4gICAgbShodG1sLCB0YXJnZXQsIGFuY2hvciA9IG51bGwpIHtcbiAgICAgICAgaWYgKCF0aGlzLmUpIHtcbiAgICAgICAgICAgIHRoaXMuZSA9IGVsZW1lbnQodGFyZ2V0Lm5vZGVOYW1lKTtcbiAgICAgICAgICAgIHRoaXMudCA9IHRhcmdldDtcbiAgICAgICAgICAgIHRoaXMuaChodG1sKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmkoYW5jaG9yKTtcbiAgICB9XG4gICAgaChodG1sKSB7XG4gICAgICAgIHRoaXMuZS5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICB0aGlzLm4gPSBBcnJheS5mcm9tKHRoaXMuZS5jaGlsZE5vZGVzKTtcbiAgICB9XG4gICAgaShhbmNob3IpIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm4ubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGluc2VydCh0aGlzLnQsIHRoaXMubltpXSwgYW5jaG9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwKGh0bWwpIHtcbiAgICAgICAgdGhpcy5kKCk7XG4gICAgICAgIHRoaXMuaChodG1sKTtcbiAgICAgICAgdGhpcy5pKHRoaXMuYSk7XG4gICAgfVxuICAgIGQoKSB7XG4gICAgICAgIHRoaXMubi5mb3JFYWNoKGRldGFjaCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXR0cmlidXRlX3RvX29iamVjdChhdHRyaWJ1dGVzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgYXR0cmlidXRlcykge1xuICAgICAgICByZXN1bHRbYXR0cmlidXRlLm5hbWVdID0gYXR0cmlidXRlLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gZ2V0X2N1c3RvbV9lbGVtZW50c19zbG90cyhlbGVtZW50KSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZWxlbWVudC5jaGlsZE5vZGVzLmZvckVhY2goKG5vZGUpID0+IHtcbiAgICAgICAgcmVzdWx0W25vZGUuc2xvdCB8fCAnZGVmYXVsdCddID0gdHJ1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5jb25zdCBhY3RpdmVfZG9jcyA9IG5ldyBTZXQoKTtcbmxldCBhY3RpdmUgPSAwO1xuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Rhcmtza3lhcHAvc3RyaW5nLWhhc2gvYmxvYi9tYXN0ZXIvaW5kZXguanNcbmZ1bmN0aW9uIGhhc2goc3RyKSB7XG4gICAgbGV0IGhhc2ggPSA1MzgxO1xuICAgIGxldCBpID0gc3RyLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKVxuICAgICAgICBoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgXiBzdHIuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gaGFzaCA+Pj4gMDtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9ydWxlKG5vZGUsIGEsIGIsIGR1cmF0aW9uLCBkZWxheSwgZWFzZSwgZm4sIHVpZCA9IDApIHtcbiAgICBjb25zdCBzdGVwID0gMTYuNjY2IC8gZHVyYXRpb247XG4gICAgbGV0IGtleWZyYW1lcyA9ICd7XFxuJztcbiAgICBmb3IgKGxldCBwID0gMDsgcCA8PSAxOyBwICs9IHN0ZXApIHtcbiAgICAgICAgY29uc3QgdCA9IGEgKyAoYiAtIGEpICogZWFzZShwKTtcbiAgICAgICAga2V5ZnJhbWVzICs9IHAgKiAxMDAgKyBgJXske2ZuKHQsIDEgLSB0KX19XFxuYDtcbiAgICB9XG4gICAgY29uc3QgcnVsZSA9IGtleWZyYW1lcyArIGAxMDAlIHske2ZuKGIsIDEgLSBiKX19XFxufWA7XG4gICAgY29uc3QgbmFtZSA9IGBfX3N2ZWx0ZV8ke2hhc2gocnVsZSl9XyR7dWlkfWA7XG4gICAgY29uc3QgZG9jID0gbm9kZS5vd25lckRvY3VtZW50O1xuICAgIGFjdGl2ZV9kb2NzLmFkZChkb2MpO1xuICAgIGNvbnN0IHN0eWxlc2hlZXQgPSBkb2MuX19zdmVsdGVfc3R5bGVzaGVldCB8fCAoZG9jLl9fc3ZlbHRlX3N0eWxlc2hlZXQgPSBkb2MuaGVhZC5hcHBlbmRDaGlsZChlbGVtZW50KCdzdHlsZScpKS5zaGVldCk7XG4gICAgY29uc3QgY3VycmVudF9ydWxlcyA9IGRvYy5fX3N2ZWx0ZV9ydWxlcyB8fCAoZG9jLl9fc3ZlbHRlX3J1bGVzID0ge30pO1xuICAgIGlmICghY3VycmVudF9ydWxlc1tuYW1lXSkge1xuICAgICAgICBjdXJyZW50X3J1bGVzW25hbWVdID0gdHJ1ZTtcbiAgICAgICAgc3R5bGVzaGVldC5pbnNlcnRSdWxlKGBAa2V5ZnJhbWVzICR7bmFtZX0gJHtydWxlfWAsIHN0eWxlc2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICB9XG4gICAgY29uc3QgYW5pbWF0aW9uID0gbm9kZS5zdHlsZS5hbmltYXRpb24gfHwgJyc7XG4gICAgbm9kZS5zdHlsZS5hbmltYXRpb24gPSBgJHthbmltYXRpb24gPyBgJHthbmltYXRpb259LCBgIDogJyd9JHtuYW1lfSAke2R1cmF0aW9ufW1zIGxpbmVhciAke2RlbGF5fW1zIDEgYm90aGA7XG4gICAgYWN0aXZlICs9IDE7XG4gICAgcmV0dXJuIG5hbWU7XG59XG5mdW5jdGlvbiBkZWxldGVfcnVsZShub2RlLCBuYW1lKSB7XG4gICAgY29uc3QgcHJldmlvdXMgPSAobm9kZS5zdHlsZS5hbmltYXRpb24gfHwgJycpLnNwbGl0KCcsICcpO1xuICAgIGNvbnN0IG5leHQgPSBwcmV2aW91cy5maWx0ZXIobmFtZVxuICAgICAgICA/IGFuaW0gPT4gYW5pbS5pbmRleE9mKG5hbWUpIDwgMCAvLyByZW1vdmUgc3BlY2lmaWMgYW5pbWF0aW9uXG4gICAgICAgIDogYW5pbSA9PiBhbmltLmluZGV4T2YoJ19fc3ZlbHRlJykgPT09IC0xIC8vIHJlbW92ZSBhbGwgU3ZlbHRlIGFuaW1hdGlvbnNcbiAgICApO1xuICAgIGNvbnN0IGRlbGV0ZWQgPSBwcmV2aW91cy5sZW5ndGggLSBuZXh0Lmxlbmd0aDtcbiAgICBpZiAoZGVsZXRlZCkge1xuICAgICAgICBub2RlLnN0eWxlLmFuaW1hdGlvbiA9IG5leHQuam9pbignLCAnKTtcbiAgICAgICAgYWN0aXZlIC09IGRlbGV0ZWQ7XG4gICAgICAgIGlmICghYWN0aXZlKVxuICAgICAgICAgICAgY2xlYXJfcnVsZXMoKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbGVhcl9ydWxlcygpIHtcbiAgICBleHBvcnRzLnJhZigoKSA9PiB7XG4gICAgICAgIGlmIChhY3RpdmUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGFjdGl2ZV9kb2NzLmZvckVhY2goZG9jID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlc2hlZXQgPSBkb2MuX19zdmVsdGVfc3R5bGVzaGVldDtcbiAgICAgICAgICAgIGxldCBpID0gc3R5bGVzaGVldC5jc3NSdWxlcy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoaS0tKVxuICAgICAgICAgICAgICAgIHN0eWxlc2hlZXQuZGVsZXRlUnVsZShpKTtcbiAgICAgICAgICAgIGRvYy5fX3N2ZWx0ZV9ydWxlcyA9IHt9O1xuICAgICAgICB9KTtcbiAgICAgICAgYWN0aXZlX2RvY3MuY2xlYXIoKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2FuaW1hdGlvbihub2RlLCBmcm9tLCBmbiwgcGFyYW1zKSB7XG4gICAgaWYgKCFmcm9tKVxuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICBjb25zdCB0byA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaWYgKGZyb20ubGVmdCA9PT0gdG8ubGVmdCAmJiBmcm9tLnJpZ2h0ID09PSB0by5yaWdodCAmJiBmcm9tLnRvcCA9PT0gdG8udG9wICYmIGZyb20uYm90dG9tID09PSB0by5ib3R0b20pXG4gICAgICAgIHJldHVybiBub29wO1xuICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDMwMCwgZWFzaW5nID0gaWRlbnRpdHksIFxuICAgIC8vIEB0cy1pZ25vcmUgdG9kbzogc2hvdWxkIHRoaXMgYmUgc2VwYXJhdGVkIGZyb20gZGVzdHJ1Y3R1cmluZz8gT3Igc3RhcnQvZW5kIGFkZGVkIHRvIHB1YmxpYyBhcGkgYW5kIGRvY3VtZW50YXRpb24/XG4gICAgc3RhcnQ6IHN0YXJ0X3RpbWUgPSBleHBvcnRzLm5vdygpICsgZGVsYXksIFxuICAgIC8vIEB0cy1pZ25vcmUgdG9kbzpcbiAgICBlbmQgPSBzdGFydF90aW1lICsgZHVyYXRpb24sIHRpY2sgPSBub29wLCBjc3MgfSA9IGZuKG5vZGUsIHsgZnJvbSwgdG8gfSwgcGFyYW1zKTtcbiAgICBsZXQgcnVubmluZyA9IHRydWU7XG4gICAgbGV0IHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICBsZXQgbmFtZTtcbiAgICBmdW5jdGlvbiBzdGFydCgpIHtcbiAgICAgICAgaWYgKGNzcykge1xuICAgICAgICAgICAgbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDAsIDEsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZGVsYXkpIHtcbiAgICAgICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgIGlmIChjc3MpXG4gICAgICAgICAgICBkZWxldGVfcnVsZShub2RlLCBuYW1lKTtcbiAgICAgICAgcnVubmluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBsb29wKG5vdyA9PiB7XG4gICAgICAgIGlmICghc3RhcnRlZCAmJiBub3cgPj0gc3RhcnRfdGltZSkge1xuICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0ZWQgJiYgbm93ID49IGVuZCkge1xuICAgICAgICAgICAgdGljaygxLCAwKTtcbiAgICAgICAgICAgIHN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJ1bm5pbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnRlZCkge1xuICAgICAgICAgICAgY29uc3QgcCA9IG5vdyAtIHN0YXJ0X3RpbWU7XG4gICAgICAgICAgICBjb25zdCB0ID0gMCArIDEgKiBlYXNpbmcocCAvIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIHRpY2sodCwgMSAtIHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICAgIHN0YXJ0KCk7XG4gICAgdGljaygwLCAxKTtcbiAgICByZXR1cm4gc3RvcDtcbn1cbmZ1bmN0aW9uIGZpeF9wb3NpdGlvbihub2RlKSB7XG4gICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgIGlmIChzdHlsZS5wb3NpdGlvbiAhPT0gJ2Fic29sdXRlJyAmJiBzdHlsZS5wb3NpdGlvbiAhPT0gJ2ZpeGVkJykge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHN0eWxlO1xuICAgICAgICBjb25zdCBhID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgbm9kZS5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIG5vZGUuc3R5bGUud2lkdGggPSB3aWR0aDtcbiAgICAgICAgbm9kZS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIGFkZF90cmFuc2Zvcm0obm9kZSwgYSk7XG4gICAgfVxufVxuZnVuY3Rpb24gYWRkX3RyYW5zZm9ybShub2RlLCBhKSB7XG4gICAgY29uc3QgYiA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgaWYgKGEubGVmdCAhPT0gYi5sZWZ0IHx8IGEudG9wICE9PSBiLnRvcCkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IHN0eWxlLnRyYW5zZm9ybSA9PT0gJ25vbmUnID8gJycgOiBzdHlsZS50cmFuc2Zvcm07XG4gICAgICAgIG5vZGUuc3R5bGUudHJhbnNmb3JtID0gYCR7dHJhbnNmb3JtfSB0cmFuc2xhdGUoJHthLmxlZnQgLSBiLmxlZnR9cHgsICR7YS50b3AgLSBiLnRvcH1weClgO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCkge1xuICAgIGV4cG9ydHMuY3VycmVudF9jb21wb25lbnQgPSBjb21wb25lbnQ7XG59XG5mdW5jdGlvbiBnZXRfY3VycmVudF9jb21wb25lbnQoKSB7XG4gICAgaWYgKCFleHBvcnRzLmN1cnJlbnRfY29tcG9uZW50KVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uIGNhbGxlZCBvdXRzaWRlIGNvbXBvbmVudCBpbml0aWFsaXphdGlvbicpO1xuICAgIHJldHVybiBleHBvcnRzLmN1cnJlbnRfY29tcG9uZW50O1xufVxuZnVuY3Rpb24gYmVmb3JlVXBkYXRlKGZuKSB7XG4gICAgZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuYmVmb3JlX3VwZGF0ZS5wdXNoKGZuKTtcbn1cbmZ1bmN0aW9uIG9uTW91bnQoZm4pIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5vbl9tb3VudC5wdXNoKGZuKTtcbn1cbmZ1bmN0aW9uIGFmdGVyVXBkYXRlKGZuKSB7XG4gICAgZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuYWZ0ZXJfdXBkYXRlLnB1c2goZm4pO1xufVxuZnVuY3Rpb24gb25EZXN0cm95KGZuKSB7XG4gICAgZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQub25fZGVzdHJveS5wdXNoKGZuKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpIHtcbiAgICBjb25zdCBjb21wb25lbnQgPSBnZXRfY3VycmVudF9jb21wb25lbnQoKTtcbiAgICByZXR1cm4gKHR5cGUsIGRldGFpbCkgPT4ge1xuICAgICAgICBjb25zdCBjYWxsYmFja3MgPSBjb21wb25lbnQuJCQuY2FsbGJhY2tzW3R5cGVdO1xuICAgICAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICAgICAgICAvLyBUT0RPIGFyZSB0aGVyZSBzaXR1YXRpb25zIHdoZXJlIGV2ZW50cyBjb3VsZCBiZSBkaXNwYXRjaGVkXG4gICAgICAgICAgICAvLyBpbiBhIHNlcnZlciAobm9uLURPTSkgZW52aXJvbm1lbnQ/XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IGN1c3RvbV9ldmVudCh0eXBlLCBkZXRhaWwpO1xuICAgICAgICAgICAgY2FsbGJhY2tzLnNsaWNlKCkuZm9yRWFjaChmbiA9PiB7XG4gICAgICAgICAgICAgICAgZm4uY2FsbChjb21wb25lbnQsIGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHNldENvbnRleHQoa2V5LCBjb250ZXh0KSB7XG4gICAgZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5zZXQoa2V5LCBjb250ZXh0KTtcbn1cbmZ1bmN0aW9uIGdldENvbnRleHQoa2V5KSB7XG4gICAgcmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuZ2V0KGtleSk7XG59XG5mdW5jdGlvbiBoYXNDb250ZXh0KGtleSkge1xuICAgIHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LmhhcyhrZXkpO1xufVxuLy8gVE9ETyBmaWd1cmUgb3V0IGlmIHdlIHN0aWxsIHdhbnQgdG8gc3VwcG9ydFxuLy8gc2hvcnRoYW5kIGV2ZW50cywgb3IgaWYgd2Ugd2FudCB0byBpbXBsZW1lbnRcbi8vIGEgcmVhbCBidWJibGluZyBtZWNoYW5pc21cbmZ1bmN0aW9uIGJ1YmJsZShjb21wb25lbnQsIGV2ZW50KSB7XG4gICAgY29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1tldmVudC50eXBlXTtcbiAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICAgIGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goZm4gPT4gZm4oZXZlbnQpKTtcbiAgICB9XG59XG5cbmNvbnN0IGRpcnR5X2NvbXBvbmVudHMgPSBbXTtcbmNvbnN0IGludHJvcyA9IHsgZW5hYmxlZDogZmFsc2UgfTtcbmNvbnN0IGJpbmRpbmdfY2FsbGJhY2tzID0gW107XG5jb25zdCByZW5kZXJfY2FsbGJhY2tzID0gW107XG5jb25zdCBmbHVzaF9jYWxsYmFja3MgPSBbXTtcbmNvbnN0IHJlc29sdmVkX3Byb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbmxldCB1cGRhdGVfc2NoZWR1bGVkID0gZmFsc2U7XG5mdW5jdGlvbiBzY2hlZHVsZV91cGRhdGUoKSB7XG4gICAgaWYgKCF1cGRhdGVfc2NoZWR1bGVkKSB7XG4gICAgICAgIHVwZGF0ZV9zY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICByZXNvbHZlZF9wcm9taXNlLnRoZW4oZmx1c2gpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRpY2soKSB7XG4gICAgc2NoZWR1bGVfdXBkYXRlKCk7XG4gICAgcmV0dXJuIHJlc29sdmVkX3Byb21pc2U7XG59XG5mdW5jdGlvbiBhZGRfcmVuZGVyX2NhbGxiYWNrKGZuKSB7XG4gICAgcmVuZGVyX2NhbGxiYWNrcy5wdXNoKGZuKTtcbn1cbmZ1bmN0aW9uIGFkZF9mbHVzaF9jYWxsYmFjayhmbikge1xuICAgIGZsdXNoX2NhbGxiYWNrcy5wdXNoKGZuKTtcbn1cbmxldCBmbHVzaGluZyA9IGZhbHNlO1xuY29uc3Qgc2Vlbl9jYWxsYmFja3MgPSBuZXcgU2V0KCk7XG5mdW5jdGlvbiBmbHVzaCgpIHtcbiAgICBpZiAoZmx1c2hpbmcpXG4gICAgICAgIHJldHVybjtcbiAgICBmbHVzaGluZyA9IHRydWU7XG4gICAgZG8ge1xuICAgICAgICAvLyBmaXJzdCwgY2FsbCBiZWZvcmVVcGRhdGUgZnVuY3Rpb25zXG4gICAgICAgIC8vIGFuZCB1cGRhdGUgY29tcG9uZW50c1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudCA9IGRpcnR5X2NvbXBvbmVudHNbaV07XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcbiAgICAgICAgICAgIHVwZGF0ZShjb21wb25lbnQuJCQpO1xuICAgICAgICB9XG4gICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcbiAgICAgICAgZGlydHlfY29tcG9uZW50cy5sZW5ndGggPSAwO1xuICAgICAgICB3aGlsZSAoYmluZGluZ19jYWxsYmFja3MubGVuZ3RoKVxuICAgICAgICAgICAgYmluZGluZ19jYWxsYmFja3MucG9wKCkoKTtcbiAgICAgICAgLy8gdGhlbiwgb25jZSBjb21wb25lbnRzIGFyZSB1cGRhdGVkLCBjYWxsXG4gICAgICAgIC8vIGFmdGVyVXBkYXRlIGZ1bmN0aW9ucy4gVGhpcyBtYXkgY2F1c2VcbiAgICAgICAgLy8gc3Vic2VxdWVudCB1cGRhdGVzLi4uXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyX2NhbGxiYWNrcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2sgPSByZW5kZXJfY2FsbGJhY2tzW2ldO1xuICAgICAgICAgICAgaWYgKCFzZWVuX2NhbGxiYWNrcy5oYXMoY2FsbGJhY2spKSB7XG4gICAgICAgICAgICAgICAgLy8gLi4uc28gZ3VhcmQgYWdhaW5zdCBpbmZpbml0ZSBsb29wc1xuICAgICAgICAgICAgICAgIHNlZW5fY2FsbGJhY2tzLmFkZChjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZW5kZXJfY2FsbGJhY2tzLmxlbmd0aCA9IDA7XG4gICAgfSB3aGlsZSAoZGlydHlfY29tcG9uZW50cy5sZW5ndGgpO1xuICAgIHdoaWxlIChmbHVzaF9jYWxsYmFja3MubGVuZ3RoKSB7XG4gICAgICAgIGZsdXNoX2NhbGxiYWNrcy5wb3AoKSgpO1xuICAgIH1cbiAgICB1cGRhdGVfc2NoZWR1bGVkID0gZmFsc2U7XG4gICAgZmx1c2hpbmcgPSBmYWxzZTtcbiAgICBzZWVuX2NhbGxiYWNrcy5jbGVhcigpO1xufVxuZnVuY3Rpb24gdXBkYXRlKCQkKSB7XG4gICAgaWYgKCQkLmZyYWdtZW50ICE9PSBudWxsKSB7XG4gICAgICAgICQkLnVwZGF0ZSgpO1xuICAgICAgICBydW5fYWxsKCQkLmJlZm9yZV91cGRhdGUpO1xuICAgICAgICBjb25zdCBkaXJ0eSA9ICQkLmRpcnR5O1xuICAgICAgICAkJC5kaXJ0eSA9IFstMV07XG4gICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LnAoJCQuY3R4LCBkaXJ0eSk7XG4gICAgICAgICQkLmFmdGVyX3VwZGF0ZS5mb3JFYWNoKGFkZF9yZW5kZXJfY2FsbGJhY2spO1xuICAgIH1cbn1cblxubGV0IHByb21pc2U7XG5mdW5jdGlvbiB3YWl0KCkge1xuICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBwcm9taXNlID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xufVxuZnVuY3Rpb24gZGlzcGF0Y2gobm9kZSwgZGlyZWN0aW9uLCBraW5kKSB7XG4gICAgbm9kZS5kaXNwYXRjaEV2ZW50KGN1c3RvbV9ldmVudChgJHtkaXJlY3Rpb24gPyAnaW50cm8nIDogJ291dHJvJ30ke2tpbmR9YCkpO1xufVxuY29uc3Qgb3V0cm9pbmcgPSBuZXcgU2V0KCk7XG5sZXQgb3V0cm9zO1xuZnVuY3Rpb24gZ3JvdXBfb3V0cm9zKCkge1xuICAgIG91dHJvcyA9IHtcbiAgICAgICAgcjogMCxcbiAgICAgICAgYzogW10sXG4gICAgICAgIHA6IG91dHJvcyAvLyBwYXJlbnQgZ3JvdXBcbiAgICB9O1xufVxuZnVuY3Rpb24gY2hlY2tfb3V0cm9zKCkge1xuICAgIGlmICghb3V0cm9zLnIpIHtcbiAgICAgICAgcnVuX2FsbChvdXRyb3MuYyk7XG4gICAgfVxuICAgIG91dHJvcyA9IG91dHJvcy5wO1xufVxuZnVuY3Rpb24gdHJhbnNpdGlvbl9pbihibG9jaywgbG9jYWwpIHtcbiAgICBpZiAoYmxvY2sgJiYgYmxvY2suaSkge1xuICAgICAgICBvdXRyb2luZy5kZWxldGUoYmxvY2spO1xuICAgICAgICBibG9jay5pKGxvY2FsKTtcbiAgICB9XG59XG5mdW5jdGlvbiB0cmFuc2l0aW9uX291dChibG9jaywgbG9jYWwsIGRldGFjaCwgY2FsbGJhY2spIHtcbiAgICBpZiAoYmxvY2sgJiYgYmxvY2subykge1xuICAgICAgICBpZiAob3V0cm9pbmcuaGFzKGJsb2NrKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgb3V0cm9pbmcuYWRkKGJsb2NrKTtcbiAgICAgICAgb3V0cm9zLmMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICBvdXRyb2luZy5kZWxldGUoYmxvY2spO1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRldGFjaClcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suZCgxKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYmxvY2subyhsb2NhbCk7XG4gICAgfVxufVxuY29uc3QgbnVsbF90cmFuc2l0aW9uID0geyBkdXJhdGlvbjogMCB9O1xuZnVuY3Rpb24gY3JlYXRlX2luX3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcykge1xuICAgIGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMpO1xuICAgIGxldCBydW5uaW5nID0gZmFsc2U7XG4gICAgbGV0IGFuaW1hdGlvbl9uYW1lO1xuICAgIGxldCB0YXNrO1xuICAgIGxldCB1aWQgPSAwO1xuICAgIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICAgIGlmIChhbmltYXRpb25fbmFtZSlcbiAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ28oKSB7XG4gICAgICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDMwMCwgZWFzaW5nID0gaWRlbnRpdHksIHRpY2sgPSBub29wLCBjc3MgfSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG4gICAgICAgIGlmIChjc3MpXG4gICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDAsIDEsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MsIHVpZCsrKTtcbiAgICAgICAgdGljaygwLCAxKTtcbiAgICAgICAgY29uc3Qgc3RhcnRfdGltZSA9IGV4cG9ydHMubm93KCkgKyBkZWxheTtcbiAgICAgICAgY29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG4gICAgICAgIGlmICh0YXNrKVxuICAgICAgICAgICAgdGFzay5hYm9ydCgpO1xuICAgICAgICBydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCB0cnVlLCAnc3RhcnQnKSk7XG4gICAgICAgIHRhc2sgPSBsb29wKG5vdyA9PiB7XG4gICAgICAgICAgICBpZiAocnVubmluZykge1xuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gZW5kX3RpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGljaygxLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ2VuZCcpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gZWFzaW5nKChub3cgLSBzdGFydF90aW1lKSAvIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGljayh0LCAxIC0gdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ1bm5pbmc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgc3RhcnRlZCA9IGZhbHNlO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0KCkge1xuICAgICAgICAgICAgaWYgKHN0YXJ0ZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSk7XG4gICAgICAgICAgICBpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuICAgICAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZygpO1xuICAgICAgICAgICAgICAgIHdhaXQoKS50aGVuKGdvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdvKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGludmFsaWRhdGUoKSB7XG4gICAgICAgICAgICBzdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGVuZCgpIHtcbiAgICAgICAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVfb3V0X3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcykge1xuICAgIGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMpO1xuICAgIGxldCBydW5uaW5nID0gdHJ1ZTtcbiAgICBsZXQgYW5pbWF0aW9uX25hbWU7XG4gICAgY29uc3QgZ3JvdXAgPSBvdXRyb3M7XG4gICAgZ3JvdXAuciArPSAxO1xuICAgIGZ1bmN0aW9uIGdvKCkge1xuICAgICAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIGVhc2luZyA9IGlkZW50aXR5LCB0aWNrID0gbm9vcCwgY3NzIH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuICAgICAgICBpZiAoY3NzKVxuICAgICAgICAgICAgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAxLCAwLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcbiAgICAgICAgY29uc3Qgc3RhcnRfdGltZSA9IGV4cG9ydHMubm93KCkgKyBkZWxheTtcbiAgICAgICAgY29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG4gICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgZmFsc2UsICdzdGFydCcpKTtcbiAgICAgICAgbG9vcChub3cgPT4ge1xuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAobm93ID49IGVuZF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2soMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghLS1ncm91cC5yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgcmVzdWx0IGluIGBlbmQoKWAgYmVpbmcgY2FsbGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc28gd2UgZG9uJ3QgbmVlZCB0byBjbGVhbiB1cCBoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICBydW5fYWxsKGdyb3VwLmMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vdyA+PSBzdGFydF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlYXNpbmcoKG5vdyAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aWNrKDEgLSB0LCB0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcnVubmluZztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG4gICAgICAgIHdhaXQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZygpO1xuICAgICAgICAgICAgZ28oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBnbygpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBlbmQocmVzZXQpIHtcbiAgICAgICAgICAgIGlmIChyZXNldCAmJiBjb25maWcudGljaykge1xuICAgICAgICAgICAgICAgIGNvbmZpZy50aWNrKDEsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uX25hbWUpXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcbiAgICAgICAgICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zLCBpbnRybykge1xuICAgIGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMpO1xuICAgIGxldCB0ID0gaW50cm8gPyAwIDogMTtcbiAgICBsZXQgcnVubmluZ19wcm9ncmFtID0gbnVsbDtcbiAgICBsZXQgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcbiAgICBsZXQgYW5pbWF0aW9uX25hbWUgPSBudWxsO1xuICAgIGZ1bmN0aW9uIGNsZWFyX2FuaW1hdGlvbigpIHtcbiAgICAgICAgaWYgKGFuaW1hdGlvbl9uYW1lKVxuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbml0KHByb2dyYW0sIGR1cmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGQgPSBwcm9ncmFtLmIgLSB0O1xuICAgICAgICBkdXJhdGlvbiAqPSBNYXRoLmFicyhkKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGE6IHQsXG4gICAgICAgICAgICBiOiBwcm9ncmFtLmIsXG4gICAgICAgICAgICBkLFxuICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgICAgICBzdGFydDogcHJvZ3JhbS5zdGFydCxcbiAgICAgICAgICAgIGVuZDogcHJvZ3JhbS5zdGFydCArIGR1cmF0aW9uLFxuICAgICAgICAgICAgZ3JvdXA6IHByb2dyYW0uZ3JvdXBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ28oYikge1xuICAgICAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIGVhc2luZyA9IGlkZW50aXR5LCB0aWNrID0gbm9vcCwgY3NzIH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuICAgICAgICBjb25zdCBwcm9ncmFtID0ge1xuICAgICAgICAgICAgc3RhcnQ6IGV4cG9ydHMubm93KCkgKyBkZWxheSxcbiAgICAgICAgICAgIGJcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFiKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIHRvZG86IGltcHJvdmUgdHlwaW5nc1xuICAgICAgICAgICAgcHJvZ3JhbS5ncm91cCA9IG91dHJvcztcbiAgICAgICAgICAgIG91dHJvcy5yICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJ1bm5pbmdfcHJvZ3JhbSB8fCBwZW5kaW5nX3Byb2dyYW0pIHtcbiAgICAgICAgICAgIHBlbmRpbmdfcHJvZ3JhbSA9IHByb2dyYW07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGFuIGludHJvLCBhbmQgdGhlcmUncyBhIGRlbGF5LCB3ZSBuZWVkIHRvIGRvXG4gICAgICAgICAgICAvLyBhbiBpbml0aWFsIHRpY2sgYW5kL29yIGFwcGx5IENTUyBhbmltYXRpb24gaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIGlmIChjc3MpIHtcbiAgICAgICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIHQsIGIsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGIpXG4gICAgICAgICAgICAgICAgdGljaygwLCAxKTtcbiAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocHJvZ3JhbSwgZHVyYXRpb24pO1xuICAgICAgICAgICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCBiLCAnc3RhcnQnKSk7XG4gICAgICAgICAgICBsb29wKG5vdyA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBlbmRpbmdfcHJvZ3JhbSAmJiBub3cgPiBwZW5kaW5nX3Byb2dyYW0uc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcnVubmluZ19wcm9ncmFtID0gaW5pdChwZW5kaW5nX3Byb2dyYW0sIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2gobm9kZSwgcnVubmluZ19wcm9ncmFtLmIsICdzdGFydCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3NzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgdCwgcnVubmluZ19wcm9ncmFtLmIsIHJ1bm5pbmdfcHJvZ3JhbS5kdXJhdGlvbiwgMCwgZWFzaW5nLCBjb25maWcuY3NzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocnVubmluZ19wcm9ncmFtKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChub3cgPj0gcnVubmluZ19wcm9ncmFtLmVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGljayh0ID0gcnVubmluZ19wcm9ncmFtLmIsIDEgLSB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIHJ1bm5pbmdfcHJvZ3JhbS5iLCAnZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBlbmRpbmdfcHJvZ3JhbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlJ3JlIGRvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocnVubmluZ19wcm9ncmFtLmIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW50cm8g4oCUIHdlIGNhbiB0aWR5IHVwIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyX2FuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3V0cm8g4oCUIG5lZWRzIHRvIGJlIGNvb3JkaW5hdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghLS1ydW5uaW5nX3Byb2dyYW0uZ3JvdXAucilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1bl9hbGwocnVubmluZ19wcm9ncmFtLmdyb3VwLmMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5zdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcCA9IG5vdyAtIHJ1bm5pbmdfcHJvZ3JhbS5zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBydW5uaW5nX3Byb2dyYW0uYSArIHJ1bm5pbmdfcHJvZ3JhbS5kICogZWFzaW5nKHAgLyBydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGljayh0LCAxIC0gdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhKHJ1bm5pbmdfcHJvZ3JhbSB8fCBwZW5kaW5nX3Byb2dyYW0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcnVuKGIpIHtcbiAgICAgICAgICAgIGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG4gICAgICAgICAgICAgICAgd2FpdCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZygpO1xuICAgICAgICAgICAgICAgICAgICBnbyhiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdvKGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbmQoKSB7XG4gICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBoYW5kbGVfcHJvbWlzZShwcm9taXNlLCBpbmZvKSB7XG4gICAgY29uc3QgdG9rZW4gPSBpbmZvLnRva2VuID0ge307XG4gICAgZnVuY3Rpb24gdXBkYXRlKHR5cGUsIGluZGV4LCBrZXksIHZhbHVlKSB7XG4gICAgICAgIGlmIChpbmZvLnRva2VuICE9PSB0b2tlbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaW5mby5yZXNvbHZlZCA9IHZhbHVlO1xuICAgICAgICBsZXQgY2hpbGRfY3R4ID0gaW5mby5jdHg7XG4gICAgICAgIGlmIChrZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2hpbGRfY3R4ID0gY2hpbGRfY3R4LnNsaWNlKCk7XG4gICAgICAgICAgICBjaGlsZF9jdHhba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJsb2NrID0gdHlwZSAmJiAoaW5mby5jdXJyZW50ID0gdHlwZSkoY2hpbGRfY3R4KTtcbiAgICAgICAgbGV0IG5lZWRzX2ZsdXNoID0gZmFsc2U7XG4gICAgICAgIGlmIChpbmZvLmJsb2NrKSB7XG4gICAgICAgICAgICBpZiAoaW5mby5ibG9ja3MpIHtcbiAgICAgICAgICAgICAgICBpbmZvLmJsb2Nrcy5mb3JFYWNoKChibG9jaywgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaW5kZXggJiYgYmxvY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwX291dHJvcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbl9vdXQoYmxvY2ssIDEsIDEsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mby5ibG9ja3NbaV0gPT09IGJsb2NrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8uYmxvY2tzW2ldID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrX291dHJvcygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbmZvLmJsb2NrLmQoMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBibG9jay5jKCk7XG4gICAgICAgICAgICB0cmFuc2l0aW9uX2luKGJsb2NrLCAxKTtcbiAgICAgICAgICAgIGJsb2NrLm0oaW5mby5tb3VudCgpLCBpbmZvLmFuY2hvcik7XG4gICAgICAgICAgICBuZWVkc19mbHVzaCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaW5mby5ibG9jayA9IGJsb2NrO1xuICAgICAgICBpZiAoaW5mby5ibG9ja3MpXG4gICAgICAgICAgICBpbmZvLmJsb2Nrc1tpbmRleF0gPSBibG9jaztcbiAgICAgICAgaWYgKG5lZWRzX2ZsdXNoKSB7XG4gICAgICAgICAgICBmbHVzaCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChpc19wcm9taXNlKHByb21pc2UpKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRfY29tcG9uZW50ID0gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCk7XG4gICAgICAgIHByb21pc2UudGhlbih2YWx1ZSA9PiB7XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY3VycmVudF9jb21wb25lbnQpO1xuICAgICAgICAgICAgdXBkYXRlKGluZm8udGhlbiwgMSwgaW5mby52YWx1ZSwgdmFsdWUpO1xuICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KG51bGwpO1xuICAgICAgICB9LCBlcnJvciA9PiB7XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY3VycmVudF9jb21wb25lbnQpO1xuICAgICAgICAgICAgdXBkYXRlKGluZm8uY2F0Y2gsIDIsIGluZm8uZXJyb3IsIGVycm9yKTtcbiAgICAgICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcbiAgICAgICAgICAgIGlmICghaW5mby5oYXNDYXRjaCkge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gaWYgd2UgcHJldmlvdXNseSBoYWQgYSB0aGVuL2NhdGNoIGJsb2NrLCBkZXN0cm95IGl0XG4gICAgICAgIGlmIChpbmZvLmN1cnJlbnQgIT09IGluZm8ucGVuZGluZykge1xuICAgICAgICAgICAgdXBkYXRlKGluZm8ucGVuZGluZywgMCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGluZm8uY3VycmVudCAhPT0gaW5mby50aGVuKSB7XG4gICAgICAgICAgICB1cGRhdGUoaW5mby50aGVuLCAxLCBpbmZvLnZhbHVlLCBwcm9taXNlKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGluZm8ucmVzb2x2ZWQgPSBwcm9taXNlO1xuICAgIH1cbn1cblxuY29uc3QgZ2xvYmFscyA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xuICAgID8gd2luZG93XG4gICAgOiB0eXBlb2YgZ2xvYmFsVGhpcyAhPT0gJ3VuZGVmaW5lZCdcbiAgICAgICAgPyBnbG9iYWxUaGlzXG4gICAgICAgIDogZ2xvYmFsKTtcblxuZnVuY3Rpb24gZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG4gICAgYmxvY2suZCgxKTtcbiAgICBsb29rdXAuZGVsZXRlKGJsb2NrLmtleSk7XG59XG5mdW5jdGlvbiBvdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG4gICAgdHJhbnNpdGlvbl9vdXQoYmxvY2ssIDEsIDEsICgpID0+IHtcbiAgICAgICAgbG9va3VwLmRlbGV0ZShibG9jay5rZXkpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZml4X2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcbiAgICBibG9jay5mKCk7XG4gICAgZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKTtcbn1cbmZ1bmN0aW9uIGZpeF9hbmRfb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuICAgIGJsb2NrLmYoKTtcbiAgICBvdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZV9rZXllZF9lYWNoKG9sZF9ibG9ja3MsIGRpcnR5LCBnZXRfa2V5LCBkeW5hbWljLCBjdHgsIGxpc3QsIGxvb2t1cCwgbm9kZSwgZGVzdHJveSwgY3JlYXRlX2VhY2hfYmxvY2ssIG5leHQsIGdldF9jb250ZXh0KSB7XG4gICAgbGV0IG8gPSBvbGRfYmxvY2tzLmxlbmd0aDtcbiAgICBsZXQgbiA9IGxpc3QubGVuZ3RoO1xuICAgIGxldCBpID0gbztcbiAgICBjb25zdCBvbGRfaW5kZXhlcyA9IHt9O1xuICAgIHdoaWxlIChpLS0pXG4gICAgICAgIG9sZF9pbmRleGVzW29sZF9ibG9ja3NbaV0ua2V5XSA9IGk7XG4gICAgY29uc3QgbmV3X2Jsb2NrcyA9IFtdO1xuICAgIGNvbnN0IG5ld19sb29rdXAgPSBuZXcgTWFwKCk7XG4gICAgY29uc3QgZGVsdGFzID0gbmV3IE1hcCgpO1xuICAgIGkgPSBuO1xuICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgY29uc3QgY2hpbGRfY3R4ID0gZ2V0X2NvbnRleHQoY3R4LCBsaXN0LCBpKTtcbiAgICAgICAgY29uc3Qga2V5ID0gZ2V0X2tleShjaGlsZF9jdHgpO1xuICAgICAgICBsZXQgYmxvY2sgPSBsb29rdXAuZ2V0KGtleSk7XG4gICAgICAgIGlmICghYmxvY2spIHtcbiAgICAgICAgICAgIGJsb2NrID0gY3JlYXRlX2VhY2hfYmxvY2soa2V5LCBjaGlsZF9jdHgpO1xuICAgICAgICAgICAgYmxvY2suYygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGR5bmFtaWMpIHtcbiAgICAgICAgICAgIGJsb2NrLnAoY2hpbGRfY3R4LCBkaXJ0eSk7XG4gICAgICAgIH1cbiAgICAgICAgbmV3X2xvb2t1cC5zZXQoa2V5LCBuZXdfYmxvY2tzW2ldID0gYmxvY2spO1xuICAgICAgICBpZiAoa2V5IGluIG9sZF9pbmRleGVzKVxuICAgICAgICAgICAgZGVsdGFzLnNldChrZXksIE1hdGguYWJzKGkgLSBvbGRfaW5kZXhlc1trZXldKSk7XG4gICAgfVxuICAgIGNvbnN0IHdpbGxfbW92ZSA9IG5ldyBTZXQoKTtcbiAgICBjb25zdCBkaWRfbW92ZSA9IG5ldyBTZXQoKTtcbiAgICBmdW5jdGlvbiBpbnNlcnQoYmxvY2spIHtcbiAgICAgICAgdHJhbnNpdGlvbl9pbihibG9jaywgMSk7XG4gICAgICAgIGJsb2NrLm0obm9kZSwgbmV4dCk7XG4gICAgICAgIGxvb2t1cC5zZXQoYmxvY2sua2V5LCBibG9jayk7XG4gICAgICAgIG5leHQgPSBibG9jay5maXJzdDtcbiAgICAgICAgbi0tO1xuICAgIH1cbiAgICB3aGlsZSAobyAmJiBuKSB7XG4gICAgICAgIGNvbnN0IG5ld19ibG9jayA9IG5ld19ibG9ja3NbbiAtIDFdO1xuICAgICAgICBjb25zdCBvbGRfYmxvY2sgPSBvbGRfYmxvY2tzW28gLSAxXTtcbiAgICAgICAgY29uc3QgbmV3X2tleSA9IG5ld19ibG9jay5rZXk7XG4gICAgICAgIGNvbnN0IG9sZF9rZXkgPSBvbGRfYmxvY2sua2V5O1xuICAgICAgICBpZiAobmV3X2Jsb2NrID09PSBvbGRfYmxvY2spIHtcbiAgICAgICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICAgICAgICAgIG5leHQgPSBuZXdfYmxvY2suZmlyc3Q7XG4gICAgICAgICAgICBvLS07XG4gICAgICAgICAgICBuLS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIW5ld19sb29rdXAuaGFzKG9sZF9rZXkpKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgb2xkIGJsb2NrXG4gICAgICAgICAgICBkZXN0cm95KG9sZF9ibG9jaywgbG9va3VwKTtcbiAgICAgICAgICAgIG8tLTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghbG9va3VwLmhhcyhuZXdfa2V5KSB8fCB3aWxsX21vdmUuaGFzKG5ld19rZXkpKSB7XG4gICAgICAgICAgICBpbnNlcnQobmV3X2Jsb2NrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkaWRfbW92ZS5oYXMob2xkX2tleSkpIHtcbiAgICAgICAgICAgIG8tLTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZWx0YXMuZ2V0KG5ld19rZXkpID4gZGVsdGFzLmdldChvbGRfa2V5KSkge1xuICAgICAgICAgICAgZGlkX21vdmUuYWRkKG5ld19rZXkpO1xuICAgICAgICAgICAgaW5zZXJ0KG5ld19ibG9jayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3aWxsX21vdmUuYWRkKG9sZF9rZXkpO1xuICAgICAgICAgICAgby0tO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdoaWxlIChvLS0pIHtcbiAgICAgICAgY29uc3Qgb2xkX2Jsb2NrID0gb2xkX2Jsb2Nrc1tvXTtcbiAgICAgICAgaWYgKCFuZXdfbG9va3VwLmhhcyhvbGRfYmxvY2sua2V5KSlcbiAgICAgICAgICAgIGRlc3Ryb3kob2xkX2Jsb2NrLCBsb29rdXApO1xuICAgIH1cbiAgICB3aGlsZSAobilcbiAgICAgICAgaW5zZXJ0KG5ld19ibG9ja3NbbiAtIDFdKTtcbiAgICByZXR1cm4gbmV3X2Jsb2Nrcztcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX2VhY2hfa2V5cyhjdHgsIGxpc3QsIGdldF9jb250ZXh0LCBnZXRfa2V5KSB7XG4gICAgY29uc3Qga2V5cyA9IG5ldyBTZXQoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3Qga2V5ID0gZ2V0X2tleShnZXRfY29udGV4dChjdHgsIGxpc3QsIGkpKTtcbiAgICAgICAgaWYgKGtleXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGhhdmUgZHVwbGljYXRlIGtleXMgaW4gYSBrZXllZCBlYWNoJyk7XG4gICAgICAgIH1cbiAgICAgICAga2V5cy5hZGQoa2V5KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldF9zcHJlYWRfdXBkYXRlKGxldmVscywgdXBkYXRlcykge1xuICAgIGNvbnN0IHVwZGF0ZSA9IHt9O1xuICAgIGNvbnN0IHRvX251bGxfb3V0ID0ge307XG4gICAgY29uc3QgYWNjb3VudGVkX2ZvciA9IHsgJCRzY29wZTogMSB9O1xuICAgIGxldCBpID0gbGV2ZWxzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIGNvbnN0IG8gPSBsZXZlbHNbaV07XG4gICAgICAgIGNvbnN0IG4gPSB1cGRhdGVzW2ldO1xuICAgICAgICBpZiAobikge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbykge1xuICAgICAgICAgICAgICAgIGlmICghKGtleSBpbiBuKSlcbiAgICAgICAgICAgICAgICAgICAgdG9fbnVsbF9vdXRba2V5XSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBuKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFhY2NvdW50ZWRfZm9yW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlW2tleV0gPSBuW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRlZF9mb3Jba2V5XSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV2ZWxzW2ldID0gbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG8pIHtcbiAgICAgICAgICAgICAgICBhY2NvdW50ZWRfZm9yW2tleV0gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIHRvX251bGxfb3V0KSB7XG4gICAgICAgIGlmICghKGtleSBpbiB1cGRhdGUpKVxuICAgICAgICAgICAgdXBkYXRlW2tleV0gPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB1cGRhdGU7XG59XG5mdW5jdGlvbiBnZXRfc3ByZWFkX29iamVjdChzcHJlYWRfcHJvcHMpIHtcbiAgICByZXR1cm4gdHlwZW9mIHNwcmVhZF9wcm9wcyA9PT0gJ29iamVjdCcgJiYgc3ByZWFkX3Byb3BzICE9PSBudWxsID8gc3ByZWFkX3Byb3BzIDoge307XG59XG5cbi8vIHNvdXJjZTogaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW5kaWNlcy5odG1sXG5jb25zdCBib29sZWFuX2F0dHJpYnV0ZXMgPSBuZXcgU2V0KFtcbiAgICAnYWxsb3dmdWxsc2NyZWVuJyxcbiAgICAnYWxsb3dwYXltZW50cmVxdWVzdCcsXG4gICAgJ2FzeW5jJyxcbiAgICAnYXV0b2ZvY3VzJyxcbiAgICAnYXV0b3BsYXknLFxuICAgICdjaGVja2VkJyxcbiAgICAnY29udHJvbHMnLFxuICAgICdkZWZhdWx0JyxcbiAgICAnZGVmZXInLFxuICAgICdkaXNhYmxlZCcsXG4gICAgJ2Zvcm1ub3ZhbGlkYXRlJyxcbiAgICAnaGlkZGVuJyxcbiAgICAnaXNtYXAnLFxuICAgICdsb29wJyxcbiAgICAnbXVsdGlwbGUnLFxuICAgICdtdXRlZCcsXG4gICAgJ25vbW9kdWxlJyxcbiAgICAnbm92YWxpZGF0ZScsXG4gICAgJ29wZW4nLFxuICAgICdwbGF5c2lubGluZScsXG4gICAgJ3JlYWRvbmx5JyxcbiAgICAncmVxdWlyZWQnLFxuICAgICdyZXZlcnNlZCcsXG4gICAgJ3NlbGVjdGVkJ1xuXSk7XG5cbmNvbnN0IGludmFsaWRfYXR0cmlidXRlX25hbWVfY2hhcmFjdGVyID0gL1tcXHMnXCI+Lz1cXHV7RkREMH0tXFx1e0ZERUZ9XFx1e0ZGRkV9XFx1e0ZGRkZ9XFx1ezFGRkZFfVxcdXsxRkZGRn1cXHV7MkZGRkV9XFx1ezJGRkZGfVxcdXszRkZGRX1cXHV7M0ZGRkZ9XFx1ezRGRkZFfVxcdXs0RkZGRn1cXHV7NUZGRkV9XFx1ezVGRkZGfVxcdXs2RkZGRX1cXHV7NkZGRkZ9XFx1ezdGRkZFfVxcdXs3RkZGRn1cXHV7OEZGRkV9XFx1ezhGRkZGfVxcdXs5RkZGRX1cXHV7OUZGRkZ9XFx1e0FGRkZFfVxcdXtBRkZGRn1cXHV7QkZGRkV9XFx1e0JGRkZGfVxcdXtDRkZGRX1cXHV7Q0ZGRkZ9XFx1e0RGRkZFfVxcdXtERkZGRn1cXHV7RUZGRkV9XFx1e0VGRkZGfVxcdXtGRkZGRX1cXHV7RkZGRkZ9XFx1ezEwRkZGRX1cXHV7MTBGRkZGfV0vdTtcbi8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2F0dHJpYnV0ZXMtMlxuLy8gaHR0cHM6Ly9pbmZyYS5zcGVjLndoYXR3Zy5vcmcvI25vbmNoYXJhY3RlclxuZnVuY3Rpb24gc3ByZWFkKGFyZ3MsIGNsYXNzZXNfdG9fYWRkKSB7XG4gICAgY29uc3QgYXR0cmlidXRlcyA9IE9iamVjdC5hc3NpZ24oe30sIC4uLmFyZ3MpO1xuICAgIGlmIChjbGFzc2VzX3RvX2FkZCkge1xuICAgICAgICBpZiAoYXR0cmlidXRlcy5jbGFzcyA9PSBudWxsKSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzLmNsYXNzID0gY2xhc3Nlc190b19hZGQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzLmNsYXNzICs9ICcgJyArIGNsYXNzZXNfdG9fYWRkO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBzdHIgPSAnJztcbiAgICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICBpZiAoaW52YWxpZF9hdHRyaWJ1dGVfbmFtZV9jaGFyYWN0ZXIudGVzdChuYW1lKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBhdHRyaWJ1dGVzW25hbWVdO1xuICAgICAgICBpZiAodmFsdWUgPT09IHRydWUpXG4gICAgICAgICAgICBzdHIgKz0gJyAnICsgbmFtZTtcbiAgICAgICAgZWxzZSBpZiAoYm9vbGVhbl9hdHRyaWJ1dGVzLmhhcyhuYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICAgICAgc3RyICs9ICcgJyArIG5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgc3RyICs9IGAgJHtuYW1lfT1cIiR7U3RyaW5nKHZhbHVlKS5yZXBsYWNlKC9cIi9nLCAnJiMzNDsnKS5yZXBsYWNlKC8nL2csICcmIzM5OycpfVwiYDtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBzdHI7XG59XG5jb25zdCBlc2NhcGVkID0ge1xuICAgICdcIic6ICcmcXVvdDsnLFxuICAgIFwiJ1wiOiAnJiMzOTsnLFxuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7J1xufTtcbmZ1bmN0aW9uIGVzY2FwZShodG1sKSB7XG4gICAgcmV0dXJuIFN0cmluZyhodG1sKS5yZXBsYWNlKC9bXCInJjw+XS9nLCBtYXRjaCA9PiBlc2NhcGVkW21hdGNoXSk7XG59XG5mdW5jdGlvbiBlYWNoKGl0ZW1zLCBmbikge1xuICAgIGxldCBzdHIgPSAnJztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIHN0ciArPSBmbihpdGVtc1tpXSwgaSk7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG5jb25zdCBtaXNzaW5nX2NvbXBvbmVudCA9IHtcbiAgICAkJHJlbmRlcjogKCkgPT4gJydcbn07XG5mdW5jdGlvbiB2YWxpZGF0ZV9jb21wb25lbnQoY29tcG9uZW50LCBuYW1lKSB7XG4gICAgaWYgKCFjb21wb25lbnQgfHwgIWNvbXBvbmVudC4kJHJlbmRlcikge1xuICAgICAgICBpZiAobmFtZSA9PT0gJ3N2ZWx0ZTpjb21wb25lbnQnKVxuICAgICAgICAgICAgbmFtZSArPSAnIHRoaXM9ey4uLn0nO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYDwke25hbWV9PiBpcyBub3QgYSB2YWxpZCBTU1IgY29tcG9uZW50LiBZb3UgbWF5IG5lZWQgdG8gcmV2aWV3IHlvdXIgYnVpbGQgY29uZmlnIHRvIGVuc3VyZSB0aGF0IGRlcGVuZGVuY2llcyBhcmUgY29tcGlsZWQsIHJhdGhlciB0aGFuIGltcG9ydGVkIGFzIHByZS1jb21waWxlZCBtb2R1bGVzYCk7XG4gICAgfVxuICAgIHJldHVybiBjb21wb25lbnQ7XG59XG5mdW5jdGlvbiBkZWJ1ZyhmaWxlLCBsaW5lLCBjb2x1bW4sIHZhbHVlcykge1xuICAgIGNvbnNvbGUubG9nKGB7QGRlYnVnfSAke2ZpbGUgPyBmaWxlICsgJyAnIDogJyd9KCR7bGluZX06JHtjb2x1bW59KWApOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICBjb25zb2xlLmxvZyh2YWx1ZXMpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICByZXR1cm4gJyc7XG59XG5sZXQgb25fZGVzdHJveTtcbmZ1bmN0aW9uIGNyZWF0ZV9zc3JfY29tcG9uZW50KGZuKSB7XG4gICAgZnVuY3Rpb24gJCRyZW5kZXIocmVzdWx0LCBwcm9wcywgYmluZGluZ3MsIHNsb3RzKSB7XG4gICAgICAgIGNvbnN0IHBhcmVudF9jb21wb25lbnQgPSBleHBvcnRzLmN1cnJlbnRfY29tcG9uZW50O1xuICAgICAgICBjb25zdCAkJCA9IHtcbiAgICAgICAgICAgIG9uX2Rlc3Ryb3ksXG4gICAgICAgICAgICBjb250ZXh0OiBuZXcgTWFwKHBhcmVudF9jb21wb25lbnQgPyBwYXJlbnRfY29tcG9uZW50LiQkLmNvbnRleHQgOiBbXSksXG4gICAgICAgICAgICAvLyB0aGVzZSB3aWxsIGJlIGltbWVkaWF0ZWx5IGRpc2NhcmRlZFxuICAgICAgICAgICAgb25fbW91bnQ6IFtdLFxuICAgICAgICAgICAgYmVmb3JlX3VwZGF0ZTogW10sXG4gICAgICAgICAgICBhZnRlcl91cGRhdGU6IFtdLFxuICAgICAgICAgICAgY2FsbGJhY2tzOiBibGFua19vYmplY3QoKVxuICAgICAgICB9O1xuICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoeyAkJCB9KTtcbiAgICAgICAgY29uc3QgaHRtbCA9IGZuKHJlc3VsdCwgcHJvcHMsIGJpbmRpbmdzLCBzbG90cyk7XG4gICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChwYXJlbnRfY29tcG9uZW50KTtcbiAgICAgICAgcmV0dXJuIGh0bWw7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlcjogKHByb3BzID0ge30sIG9wdGlvbnMgPSB7fSkgPT4ge1xuICAgICAgICAgICAgb25fZGVzdHJveSA9IFtdO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0geyB0aXRsZTogJycsIGhlYWQ6ICcnLCBjc3M6IG5ldyBTZXQoKSB9O1xuICAgICAgICAgICAgY29uc3QgaHRtbCA9ICQkcmVuZGVyKHJlc3VsdCwgcHJvcHMsIHt9LCBvcHRpb25zKTtcbiAgICAgICAgICAgIHJ1bl9hbGwob25fZGVzdHJveSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGh0bWwsXG4gICAgICAgICAgICAgICAgY3NzOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IEFycmF5LmZyb20ocmVzdWx0LmNzcykubWFwKGNzcyA9PiBjc3MuY29kZSkuam9pbignXFxuJyksXG4gICAgICAgICAgICAgICAgICAgIG1hcDogbnVsbCAvLyBUT0RPXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoZWFkOiByZXN1bHQudGl0bGUgKyByZXN1bHQuaGVhZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgJCRyZW5kZXJcbiAgICB9O1xufVxuZnVuY3Rpb24gYWRkX2F0dHJpYnV0ZShuYW1lLCB2YWx1ZSwgYm9vbGVhbikge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IChib29sZWFuICYmICF2YWx1ZSkpXG4gICAgICAgIHJldHVybiAnJztcbiAgICByZXR1cm4gYCAke25hbWV9JHt2YWx1ZSA9PT0gdHJ1ZSA/ICcnIDogYD0ke3R5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyBKU09OLnN0cmluZ2lmeShlc2NhcGUodmFsdWUpKSA6IGBcIiR7dmFsdWV9XCJgfWB9YDtcbn1cbmZ1bmN0aW9uIGFkZF9jbGFzc2VzKGNsYXNzZXMpIHtcbiAgICByZXR1cm4gY2xhc3NlcyA/IGAgY2xhc3M9XCIke2NsYXNzZXN9XCJgIDogJyc7XG59XG5cbmZ1bmN0aW9uIGJpbmQoY29tcG9uZW50LCBuYW1lLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IGluZGV4ID0gY29tcG9uZW50LiQkLnByb3BzW25hbWVdO1xuICAgIGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbXBvbmVudC4kJC5ib3VuZFtpbmRleF0gPSBjYWxsYmFjaztcbiAgICAgICAgY2FsbGJhY2soY29tcG9uZW50LiQkLmN0eFtpbmRleF0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZV9jb21wb25lbnQoYmxvY2spIHtcbiAgICBibG9jayAmJiBibG9jay5jKCk7XG59XG5mdW5jdGlvbiBjbGFpbV9jb21wb25lbnQoYmxvY2ssIHBhcmVudF9ub2Rlcykge1xuICAgIGJsb2NrICYmIGJsb2NrLmwocGFyZW50X25vZGVzKTtcbn1cbmZ1bmN0aW9uIG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIHRhcmdldCwgYW5jaG9yLCBjdXN0b21FbGVtZW50KSB7XG4gICAgY29uc3QgeyBmcmFnbWVudCwgb25fbW91bnQsIG9uX2Rlc3Ryb3ksIGFmdGVyX3VwZGF0ZSB9ID0gY29tcG9uZW50LiQkO1xuICAgIGZyYWdtZW50ICYmIGZyYWdtZW50Lm0odGFyZ2V0LCBhbmNob3IpO1xuICAgIGlmICghY3VzdG9tRWxlbWVudCkge1xuICAgICAgICAvLyBvbk1vdW50IGhhcHBlbnMgYmVmb3JlIHRoZSBpbml0aWFsIGFmdGVyVXBkYXRlXG4gICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3X29uX2Rlc3Ryb3kgPSBvbl9tb3VudC5tYXAocnVuKS5maWx0ZXIoaXNfZnVuY3Rpb24pO1xuICAgICAgICAgICAgaWYgKG9uX2Rlc3Ryb3kpIHtcbiAgICAgICAgICAgICAgICBvbl9kZXN0cm95LnB1c2goLi4ubmV3X29uX2Rlc3Ryb3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRWRnZSBjYXNlIC0gY29tcG9uZW50IHdhcyBkZXN0cm95ZWQgaW1tZWRpYXRlbHksXG4gICAgICAgICAgICAgICAgLy8gbW9zdCBsaWtlbHkgYXMgYSByZXN1bHQgb2YgYSBiaW5kaW5nIGluaXRpYWxpc2luZ1xuICAgICAgICAgICAgICAgIHJ1bl9hbGwobmV3X29uX2Rlc3Ryb3kpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29tcG9uZW50LiQkLm9uX21vdW50ID0gW107XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcbn1cbmZ1bmN0aW9uIGRlc3Ryb3lfY29tcG9uZW50KGNvbXBvbmVudCwgZGV0YWNoaW5nKSB7XG4gICAgY29uc3QgJCQgPSBjb21wb25lbnQuJCQ7XG4gICAgaWYgKCQkLmZyYWdtZW50ICE9PSBudWxsKSB7XG4gICAgICAgIHJ1bl9hbGwoJCQub25fZGVzdHJveSk7XG4gICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmQoZGV0YWNoaW5nKTtcbiAgICAgICAgLy8gVE9ETyBudWxsIG91dCBvdGhlciByZWZzLCBpbmNsdWRpbmcgY29tcG9uZW50LiQkIChidXQgbmVlZCB0b1xuICAgICAgICAvLyBwcmVzZXJ2ZSBmaW5hbCBzdGF0ZT8pXG4gICAgICAgICQkLm9uX2Rlc3Ryb3kgPSAkJC5mcmFnbWVudCA9IG51bGw7XG4gICAgICAgICQkLmN0eCA9IFtdO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1ha2VfZGlydHkoY29tcG9uZW50LCBpKSB7XG4gICAgaWYgKGNvbXBvbmVudC4kJC5kaXJ0eVswXSA9PT0gLTEpIHtcbiAgICAgICAgZGlydHlfY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgIHNjaGVkdWxlX3VwZGF0ZSgpO1xuICAgICAgICBjb21wb25lbnQuJCQuZGlydHkuZmlsbCgwKTtcbiAgICB9XG4gICAgY29tcG9uZW50LiQkLmRpcnR5WyhpIC8gMzEpIHwgMF0gfD0gKDEgPDwgKGkgJSAzMSkpO1xufVxuZnVuY3Rpb24gaW5pdChjb21wb25lbnQsIG9wdGlvbnMsIGluc3RhbmNlLCBjcmVhdGVfZnJhZ21lbnQsIG5vdF9lcXVhbCwgcHJvcHMsIGRpcnR5ID0gWy0xXSkge1xuICAgIGNvbnN0IHBhcmVudF9jb21wb25lbnQgPSBleHBvcnRzLmN1cnJlbnRfY29tcG9uZW50O1xuICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpO1xuICAgIGNvbnN0ICQkID0gY29tcG9uZW50LiQkID0ge1xuICAgICAgICBmcmFnbWVudDogbnVsbCxcbiAgICAgICAgY3R4OiBudWxsLFxuICAgICAgICAvLyBzdGF0ZVxuICAgICAgICBwcm9wcyxcbiAgICAgICAgdXBkYXRlOiBub29wLFxuICAgICAgICBub3RfZXF1YWwsXG4gICAgICAgIGJvdW5kOiBibGFua19vYmplY3QoKSxcbiAgICAgICAgLy8gbGlmZWN5Y2xlXG4gICAgICAgIG9uX21vdW50OiBbXSxcbiAgICAgICAgb25fZGVzdHJveTogW10sXG4gICAgICAgIG9uX2Rpc2Nvbm5lY3Q6IFtdLFxuICAgICAgICBiZWZvcmVfdXBkYXRlOiBbXSxcbiAgICAgICAgYWZ0ZXJfdXBkYXRlOiBbXSxcbiAgICAgICAgY29udGV4dDogbmV3IE1hcChwYXJlbnRfY29tcG9uZW50ID8gcGFyZW50X2NvbXBvbmVudC4kJC5jb250ZXh0IDogW10pLFxuICAgICAgICAvLyBldmVyeXRoaW5nIGVsc2VcbiAgICAgICAgY2FsbGJhY2tzOiBibGFua19vYmplY3QoKSxcbiAgICAgICAgZGlydHksXG4gICAgICAgIHNraXBfYm91bmQ6IGZhbHNlXG4gICAgfTtcbiAgICBsZXQgcmVhZHkgPSBmYWxzZTtcbiAgICAkJC5jdHggPSBpbnN0YW5jZVxuICAgICAgICA/IGluc3RhbmNlKGNvbXBvbmVudCwgb3B0aW9ucy5wcm9wcyB8fCB7fSwgKGksIHJldCwgLi4ucmVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByZXN0Lmxlbmd0aCA/IHJlc3RbMF0gOiByZXQ7XG4gICAgICAgICAgICBpZiAoJCQuY3R4ICYmIG5vdF9lcXVhbCgkJC5jdHhbaV0sICQkLmN0eFtpXSA9IHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGlmICghJCQuc2tpcF9ib3VuZCAmJiAkJC5ib3VuZFtpXSlcbiAgICAgICAgICAgICAgICAgICAgJCQuYm91bmRbaV0odmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChyZWFkeSlcbiAgICAgICAgICAgICAgICAgICAgbWFrZV9kaXJ0eShjb21wb25lbnQsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfSlcbiAgICAgICAgOiBbXTtcbiAgICAkJC51cGRhdGUoKTtcbiAgICByZWFkeSA9IHRydWU7XG4gICAgcnVuX2FsbCgkJC5iZWZvcmVfdXBkYXRlKTtcbiAgICAvLyBgZmFsc2VgIGFzIGEgc3BlY2lhbCBjYXNlIG9mIG5vIERPTSBjb21wb25lbnRcbiAgICAkJC5mcmFnbWVudCA9IGNyZWF0ZV9mcmFnbWVudCA/IGNyZWF0ZV9mcmFnbWVudCgkJC5jdHgpIDogZmFsc2U7XG4gICAgaWYgKG9wdGlvbnMudGFyZ2V0KSB7XG4gICAgICAgIGlmIChvcHRpb25zLmh5ZHJhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGVzID0gY2hpbGRyZW4ob3B0aW9ucy50YXJnZXQpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50Lmwobm9kZXMpO1xuICAgICAgICAgICAgbm9kZXMuZm9yRWFjaChkZXRhY2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5pbnRybylcbiAgICAgICAgICAgIHRyYW5zaXRpb25faW4oY29tcG9uZW50LiQkLmZyYWdtZW50KTtcbiAgICAgICAgbW91bnRfY29tcG9uZW50KGNvbXBvbmVudCwgb3B0aW9ucy50YXJnZXQsIG9wdGlvbnMuYW5jaG9yLCBvcHRpb25zLmN1c3RvbUVsZW1lbnQpO1xuICAgICAgICBmbHVzaCgpO1xuICAgIH1cbiAgICBzZXRfY3VycmVudF9jb21wb25lbnQocGFyZW50X2NvbXBvbmVudCk7XG59XG5pZiAodHlwZW9mIEhUTUxFbGVtZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZXhwb3J0cy5TdmVsdGVFbGVtZW50ID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgICAgIHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgY29uc3QgeyBvbl9tb3VudCB9ID0gdGhpcy4kJDtcbiAgICAgICAgICAgIHRoaXMuJCQub25fZGlzY29ubmVjdCA9IG9uX21vdW50Lm1hcChydW4pLmZpbHRlcihpc19mdW5jdGlvbik7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIHRvZG86IGltcHJvdmUgdHlwaW5nc1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gdGhpcy4kJC5zbG90dGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSB0b2RvOiBpbXByb3ZlIHR5cGluZ3NcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZENoaWxkKHRoaXMuJCQuc2xvdHRlZFtrZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYXR0ciwgX29sZFZhbHVlLCBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgdGhpc1thdHRyXSA9IG5ld1ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuICAgICAgICAgICAgcnVuX2FsbCh0aGlzLiQkLm9uX2Rpc2Nvbm5lY3QpO1xuICAgICAgICB9XG4gICAgICAgICRkZXN0cm95KCkge1xuICAgICAgICAgICAgZGVzdHJveV9jb21wb25lbnQodGhpcywgMSk7XG4gICAgICAgICAgICB0aGlzLiRkZXN0cm95ID0gbm9vcDtcbiAgICAgICAgfVxuICAgICAgICAkb24odHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIC8vIFRPRE8gc2hvdWxkIHRoaXMgZGVsZWdhdGUgdG8gYWRkRXZlbnRMaXN0ZW5lcj9cbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrcyA9ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSB8fCAodGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gPSBbXSkpO1xuICAgICAgICAgICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleCA9IGNhbGxiYWNrcy5pbmRleE9mKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgJHNldCgkJHByb3BzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy4kJHNldCAmJiAhaXNfZW1wdHkoJCRwcm9wcykpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiQkLnNraXBfYm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuJCRzZXQoJCRwcm9wcyk7XG4gICAgICAgICAgICAgICAgdGhpcy4kJC5za2lwX2JvdW5kID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBTdmVsdGUgY29tcG9uZW50cy4gVXNlZCB3aGVuIGRldj1mYWxzZS5cbiAqL1xuY2xhc3MgU3ZlbHRlQ29tcG9uZW50IHtcbiAgICAkZGVzdHJveSgpIHtcbiAgICAgICAgZGVzdHJveV9jb21wb25lbnQodGhpcywgMSk7XG4gICAgICAgIHRoaXMuJGRlc3Ryb3kgPSBub29wO1xuICAgIH1cbiAgICAkb24odHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdIHx8ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSA9IFtdKSk7XG4gICAgICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSlcbiAgICAgICAgICAgICAgICBjYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgJHNldCgkJHByb3BzKSB7XG4gICAgICAgIGlmICh0aGlzLiQkc2V0ICYmICFpc19lbXB0eSgkJHByb3BzKSkge1xuICAgICAgICAgICAgdGhpcy4kJC5za2lwX2JvdW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuJCRzZXQoJCRwcm9wcyk7XG4gICAgICAgICAgICB0aGlzLiQkLnNraXBfYm91bmQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlzcGF0Y2hfZGV2KHR5cGUsIGRldGFpbCkge1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tX2V2ZW50KHR5cGUsIE9iamVjdC5hc3NpZ24oeyB2ZXJzaW9uOiAnMy4zNS4wJyB9LCBkZXRhaWwpKSk7XG59XG5mdW5jdGlvbiBhcHBlbmRfZGV2KHRhcmdldCwgbm9kZSkge1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NSW5zZXJ0JywgeyB0YXJnZXQsIG5vZGUgfSk7XG4gICAgYXBwZW5kKHRhcmdldCwgbm9kZSk7XG59XG5mdW5jdGlvbiBpbnNlcnRfZGV2KHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01JbnNlcnQnLCB7IHRhcmdldCwgbm9kZSwgYW5jaG9yIH0pO1xuICAgIGluc2VydCh0YXJnZXQsIG5vZGUsIGFuY2hvcik7XG59XG5mdW5jdGlvbiBkZXRhY2hfZGV2KG5vZGUpIHtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVJlbW92ZScsIHsgbm9kZSB9KTtcbiAgICBkZXRhY2gobm9kZSk7XG59XG5mdW5jdGlvbiBkZXRhY2hfYmV0d2Vlbl9kZXYoYmVmb3JlLCBhZnRlcikge1xuICAgIHdoaWxlIChiZWZvcmUubmV4dFNpYmxpbmcgJiYgYmVmb3JlLm5leHRTaWJsaW5nICE9PSBhZnRlcikge1xuICAgICAgICBkZXRhY2hfZGV2KGJlZm9yZS5uZXh0U2libGluZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGV0YWNoX2JlZm9yZV9kZXYoYWZ0ZXIpIHtcbiAgICB3aGlsZSAoYWZ0ZXIucHJldmlvdXNTaWJsaW5nKSB7XG4gICAgICAgIGRldGFjaF9kZXYoYWZ0ZXIucHJldmlvdXNTaWJsaW5nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZXRhY2hfYWZ0ZXJfZGV2KGJlZm9yZSkge1xuICAgIHdoaWxlIChiZWZvcmUubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgZGV0YWNoX2RldihiZWZvcmUubmV4dFNpYmxpbmcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGxpc3Rlbl9kZXYobm9kZSwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMsIGhhc19wcmV2ZW50X2RlZmF1bHQsIGhhc19zdG9wX3Byb3BhZ2F0aW9uKSB7XG4gICAgY29uc3QgbW9kaWZpZXJzID0gb3B0aW9ucyA9PT0gdHJ1ZSA/IFsnY2FwdHVyZSddIDogb3B0aW9ucyA/IEFycmF5LmZyb20oT2JqZWN0LmtleXMob3B0aW9ucykpIDogW107XG4gICAgaWYgKGhhc19wcmV2ZW50X2RlZmF1bHQpXG4gICAgICAgIG1vZGlmaWVycy5wdXNoKCdwcmV2ZW50RGVmYXVsdCcpO1xuICAgIGlmIChoYXNfc3RvcF9wcm9wYWdhdGlvbilcbiAgICAgICAgbW9kaWZpZXJzLnB1c2goJ3N0b3BQcm9wYWdhdGlvbicpO1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NQWRkRXZlbnRMaXN0ZW5lcicsIHsgbm9kZSwgZXZlbnQsIGhhbmRsZXIsIG1vZGlmaWVycyB9KTtcbiAgICBjb25zdCBkaXNwb3NlID0gbGlzdGVuKG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVJlbW92ZUV2ZW50TGlzdGVuZXInLCB7IG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBtb2RpZmllcnMgfSk7XG4gICAgICAgIGRpc3Bvc2UoKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gYXR0cl9kZXYobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgIGF0dHIobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSk7XG4gICAgaWYgKHZhbHVlID09IG51bGwpXG4gICAgICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NUmVtb3ZlQXR0cmlidXRlJywgeyBub2RlLCBhdHRyaWJ1dGUgfSk7XG4gICAgZWxzZVxuICAgICAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVNldEF0dHJpYnV0ZScsIHsgbm9kZSwgYXR0cmlidXRlLCB2YWx1ZSB9KTtcbn1cbmZ1bmN0aW9uIHByb3BfZGV2KG5vZGUsIHByb3BlcnR5LCB2YWx1ZSkge1xuICAgIG5vZGVbcHJvcGVydHldID0gdmFsdWU7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01TZXRQcm9wZXJ0eScsIHsgbm9kZSwgcHJvcGVydHksIHZhbHVlIH0pO1xufVxuZnVuY3Rpb24gZGF0YXNldF9kZXYobm9kZSwgcHJvcGVydHksIHZhbHVlKSB7XG4gICAgbm9kZS5kYXRhc2V0W3Byb3BlcnR5XSA9IHZhbHVlO1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NU2V0RGF0YXNldCcsIHsgbm9kZSwgcHJvcGVydHksIHZhbHVlIH0pO1xufVxuZnVuY3Rpb24gc2V0X2RhdGFfZGV2KHRleHQsIGRhdGEpIHtcbiAgICBkYXRhID0gJycgKyBkYXRhO1xuICAgIGlmICh0ZXh0Lndob2xlVGV4dCA9PT0gZGF0YSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NU2V0RGF0YScsIHsgbm9kZTogdGV4dCwgZGF0YSB9KTtcbiAgICB0ZXh0LmRhdGEgPSBkYXRhO1xufVxuZnVuY3Rpb24gdmFsaWRhdGVfZWFjaF9hcmd1bWVudChhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ3N0cmluZycgJiYgIShhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgJiYgJ2xlbmd0aCcgaW4gYXJnKSkge1xuICAgICAgICBsZXQgbXNnID0gJ3sjZWFjaH0gb25seSBpdGVyYXRlcyBvdmVyIGFycmF5LWxpa2Ugb2JqZWN0cy4nO1xuICAgICAgICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBhcmcgJiYgU3ltYm9sLml0ZXJhdG9yIGluIGFyZykge1xuICAgICAgICAgICAgbXNnICs9ICcgWW91IGNhbiB1c2UgYSBzcHJlYWQgdG8gY29udmVydCB0aGlzIGl0ZXJhYmxlIGludG8gYW4gYXJyYXkuJztcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICB9XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV9zbG90cyhuYW1lLCBzbG90LCBrZXlzKSB7XG4gICAgZm9yIChjb25zdCBzbG90X2tleSBvZiBPYmplY3Qua2V5cyhzbG90KSkge1xuICAgICAgICBpZiAoIX5rZXlzLmluZGV4T2Yoc2xvdF9rZXkpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYDwke25hbWV9PiByZWNlaXZlZCBhbiB1bmV4cGVjdGVkIHNsb3QgXCIke3Nsb3Rfa2V5fVwiLmApO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBTdmVsdGUgY29tcG9uZW50cyB3aXRoIHNvbWUgbWlub3IgZGV2LWVuaGFuY2VtZW50cy4gVXNlZCB3aGVuIGRldj10cnVlLlxuICovXG5jbGFzcyBTdmVsdGVDb21wb25lbnREZXYgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKCFvcHRpb25zIHx8ICghb3B0aW9ucy50YXJnZXQgJiYgIW9wdGlvbnMuJCRpbmxpbmUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIndGFyZ2V0JyBpcyBhIHJlcXVpcmVkIG9wdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcigpO1xuICAgIH1cbiAgICAkZGVzdHJveSgpIHtcbiAgICAgICAgc3VwZXIuJGRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy4kZGVzdHJveSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignQ29tcG9uZW50IHdhcyBhbHJlYWR5IGRlc3Ryb3llZCcpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgfTtcbiAgICB9XG4gICAgJGNhcHR1cmVfc3RhdGUoKSB7IH1cbiAgICAkaW5qZWN0X3N0YXRlKCkgeyB9XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgdG8gY3JlYXRlIHN0cm9uZ2x5IHR5cGVkIFN2ZWx0ZSBjb21wb25lbnRzLlxuICogVGhpcyBvbmx5IGV4aXN0cyBmb3IgdHlwaW5nIHB1cnBvc2VzIGFuZCBzaG91bGQgYmUgdXNlZCBpbiBgLmQudHNgIGZpbGVzLlxuICpcbiAqICMjIyBFeGFtcGxlOlxuICpcbiAqIFlvdSBoYXZlIGNvbXBvbmVudCBsaWJyYXJ5IG9uIG5wbSBjYWxsZWQgYGNvbXBvbmVudC1saWJyYXJ5YCwgZnJvbSB3aGljaFxuICogeW91IGV4cG9ydCBhIGNvbXBvbmVudCBjYWxsZWQgYE15Q29tcG9uZW50YC4gRm9yIFN2ZWx0ZStUeXBlU2NyaXB0IHVzZXJzLFxuICogeW91IHdhbnQgdG8gcHJvdmlkZSB0eXBpbmdzLiBUaGVyZWZvcmUgeW91IGNyZWF0ZSBhIGBpbmRleC5kLnRzYDpcbiAqIGBgYHRzXG4gKiBpbXBvcnQgeyBTdmVsdGVDb21wb25lbnRUeXBlZCB9IGZyb20gXCJzdmVsdGVcIjtcbiAqIGV4cG9ydCBjbGFzcyBNeUNvbXBvbmVudCBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudFR5cGVkPHtmb286IHN0cmluZ30+IHt9XG4gKiBgYGBcbiAqIFR5cGluZyB0aGlzIG1ha2VzIGl0IHBvc3NpYmxlIGZvciBJREVzIGxpa2UgVlMgQ29kZSB3aXRoIHRoZSBTdmVsdGUgZXh0ZW5zaW9uXG4gKiB0byBwcm92aWRlIGludGVsbGlzZW5zZSBhbmQgdG8gdXNlIHRoZSBjb21wb25lbnQgbGlrZSB0aGlzIGluIGEgU3ZlbHRlIGZpbGVcbiAqIHdpdGggVHlwZVNjcmlwdDpcbiAqIGBgYHN2ZWx0ZVxuICogPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAqIFx0aW1wb3J0IHsgTXlDb21wb25lbnQgfSBmcm9tIFwiY29tcG9uZW50LWxpYnJhcnlcIjtcbiAqIDwvc2NyaXB0PlxuICogPE15Q29tcG9uZW50IGZvbz17J2Jhcid9IC8+XG4gKiBgYGBcbiAqXG4gKiAjIyMjIFdoeSBub3QgbWFrZSB0aGlzIHBhcnQgb2YgYFN2ZWx0ZUNvbXBvbmVudChEZXYpYD9cbiAqIEJlY2F1c2VcbiAqIGBgYHRzXG4gKiBjbGFzcyBBU3ViY2xhc3NPZlN2ZWx0ZUNvbXBvbmVudCBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudDx7Zm9vOiBzdHJpbmd9PiB7fVxuICogY29uc3QgY29tcG9uZW50OiB0eXBlb2YgU3ZlbHRlQ29tcG9uZW50ID0gQVN1YmNsYXNzT2ZTdmVsdGVDb21wb25lbnQ7XG4gKiBgYGBcbiAqIHdpbGwgdGhyb3cgYSB0eXBlIGVycm9yLCBzbyB3ZSBuZWVkIHRvIHNlcGVyYXRlIHRoZSBtb3JlIHN0cmljdGx5IHR5cGVkIGNsYXNzLlxuICovXG5jbGFzcyBTdmVsdGVDb21wb25lbnRUeXBlZCBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudERldiB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICB9XG59XG5mdW5jdGlvbiBsb29wX2d1YXJkKHRpbWVvdXQpIHtcbiAgICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgaWYgKERhdGUubm93KCkgLSBzdGFydCA+IHRpbWVvdXQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW5maW5pdGUgbG9vcCBkZXRlY3RlZCcpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZXhwb3J0cy5IdG1sVGFnID0gSHRtbFRhZztcbmV4cG9ydHMuU3ZlbHRlQ29tcG9uZW50ID0gU3ZlbHRlQ29tcG9uZW50O1xuZXhwb3J0cy5TdmVsdGVDb21wb25lbnREZXYgPSBTdmVsdGVDb21wb25lbnREZXY7XG5leHBvcnRzLlN2ZWx0ZUNvbXBvbmVudFR5cGVkID0gU3ZlbHRlQ29tcG9uZW50VHlwZWQ7XG5leHBvcnRzLmFjdGlvbl9kZXN0cm95ZXIgPSBhY3Rpb25fZGVzdHJveWVyO1xuZXhwb3J0cy5hZGRfYXR0cmlidXRlID0gYWRkX2F0dHJpYnV0ZTtcbmV4cG9ydHMuYWRkX2NsYXNzZXMgPSBhZGRfY2xhc3NlcztcbmV4cG9ydHMuYWRkX2ZsdXNoX2NhbGxiYWNrID0gYWRkX2ZsdXNoX2NhbGxiYWNrO1xuZXhwb3J0cy5hZGRfbG9jYXRpb24gPSBhZGRfbG9jYXRpb247XG5leHBvcnRzLmFkZF9yZW5kZXJfY2FsbGJhY2sgPSBhZGRfcmVuZGVyX2NhbGxiYWNrO1xuZXhwb3J0cy5hZGRfcmVzaXplX2xpc3RlbmVyID0gYWRkX3Jlc2l6ZV9saXN0ZW5lcjtcbmV4cG9ydHMuYWRkX3RyYW5zZm9ybSA9IGFkZF90cmFuc2Zvcm07XG5leHBvcnRzLmFmdGVyVXBkYXRlID0gYWZ0ZXJVcGRhdGU7XG5leHBvcnRzLmFwcGVuZCA9IGFwcGVuZDtcbmV4cG9ydHMuYXBwZW5kX2RldiA9IGFwcGVuZF9kZXY7XG5leHBvcnRzLmFzc2lnbiA9IGFzc2lnbjtcbmV4cG9ydHMuYXR0ciA9IGF0dHI7XG5leHBvcnRzLmF0dHJfZGV2ID0gYXR0cl9kZXY7XG5leHBvcnRzLmF0dHJpYnV0ZV90b19vYmplY3QgPSBhdHRyaWJ1dGVfdG9fb2JqZWN0O1xuZXhwb3J0cy5iZWZvcmVVcGRhdGUgPSBiZWZvcmVVcGRhdGU7XG5leHBvcnRzLmJpbmQgPSBiaW5kO1xuZXhwb3J0cy5iaW5kaW5nX2NhbGxiYWNrcyA9IGJpbmRpbmdfY2FsbGJhY2tzO1xuZXhwb3J0cy5ibGFua19vYmplY3QgPSBibGFua19vYmplY3Q7XG5leHBvcnRzLmJ1YmJsZSA9IGJ1YmJsZTtcbmV4cG9ydHMuY2hlY2tfb3V0cm9zID0gY2hlY2tfb3V0cm9zO1xuZXhwb3J0cy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuZXhwb3J0cy5jbGFpbV9jb21wb25lbnQgPSBjbGFpbV9jb21wb25lbnQ7XG5leHBvcnRzLmNsYWltX2VsZW1lbnQgPSBjbGFpbV9lbGVtZW50O1xuZXhwb3J0cy5jbGFpbV9zcGFjZSA9IGNsYWltX3NwYWNlO1xuZXhwb3J0cy5jbGFpbV90ZXh0ID0gY2xhaW1fdGV4dDtcbmV4cG9ydHMuY2xlYXJfbG9vcHMgPSBjbGVhcl9sb29wcztcbmV4cG9ydHMuY29tcG9uZW50X3N1YnNjcmliZSA9IGNvbXBvbmVudF9zdWJzY3JpYmU7XG5leHBvcnRzLmNvbXB1dGVfcmVzdF9wcm9wcyA9IGNvbXB1dGVfcmVzdF9wcm9wcztcbmV4cG9ydHMuY29tcHV0ZV9zbG90cyA9IGNvbXB1dGVfc2xvdHM7XG5leHBvcnRzLmNyZWF0ZUV2ZW50RGlzcGF0Y2hlciA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcjtcbmV4cG9ydHMuY3JlYXRlX2FuaW1hdGlvbiA9IGNyZWF0ZV9hbmltYXRpb247XG5leHBvcnRzLmNyZWF0ZV9iaWRpcmVjdGlvbmFsX3RyYW5zaXRpb24gPSBjcmVhdGVfYmlkaXJlY3Rpb25hbF90cmFuc2l0aW9uO1xuZXhwb3J0cy5jcmVhdGVfY29tcG9uZW50ID0gY3JlYXRlX2NvbXBvbmVudDtcbmV4cG9ydHMuY3JlYXRlX2luX3RyYW5zaXRpb24gPSBjcmVhdGVfaW5fdHJhbnNpdGlvbjtcbmV4cG9ydHMuY3JlYXRlX291dF90cmFuc2l0aW9uID0gY3JlYXRlX291dF90cmFuc2l0aW9uO1xuZXhwb3J0cy5jcmVhdGVfc2xvdCA9IGNyZWF0ZV9zbG90O1xuZXhwb3J0cy5jcmVhdGVfc3NyX2NvbXBvbmVudCA9IGNyZWF0ZV9zc3JfY29tcG9uZW50O1xuZXhwb3J0cy5jdXN0b21fZXZlbnQgPSBjdXN0b21fZXZlbnQ7XG5leHBvcnRzLmRhdGFzZXRfZGV2ID0gZGF0YXNldF9kZXY7XG5leHBvcnRzLmRlYnVnID0gZGVidWc7XG5leHBvcnRzLmRlc3Ryb3lfYmxvY2sgPSBkZXN0cm95X2Jsb2NrO1xuZXhwb3J0cy5kZXN0cm95X2NvbXBvbmVudCA9IGRlc3Ryb3lfY29tcG9uZW50O1xuZXhwb3J0cy5kZXN0cm95X2VhY2ggPSBkZXN0cm95X2VhY2g7XG5leHBvcnRzLmRldGFjaCA9IGRldGFjaDtcbmV4cG9ydHMuZGV0YWNoX2FmdGVyX2RldiA9IGRldGFjaF9hZnRlcl9kZXY7XG5leHBvcnRzLmRldGFjaF9iZWZvcmVfZGV2ID0gZGV0YWNoX2JlZm9yZV9kZXY7XG5leHBvcnRzLmRldGFjaF9iZXR3ZWVuX2RldiA9IGRldGFjaF9iZXR3ZWVuX2RldjtcbmV4cG9ydHMuZGV0YWNoX2RldiA9IGRldGFjaF9kZXY7XG5leHBvcnRzLmRpcnR5X2NvbXBvbmVudHMgPSBkaXJ0eV9jb21wb25lbnRzO1xuZXhwb3J0cy5kaXNwYXRjaF9kZXYgPSBkaXNwYXRjaF9kZXY7XG5leHBvcnRzLmVhY2ggPSBlYWNoO1xuZXhwb3J0cy5lbGVtZW50ID0gZWxlbWVudDtcbmV4cG9ydHMuZWxlbWVudF9pcyA9IGVsZW1lbnRfaXM7XG5leHBvcnRzLmVtcHR5ID0gZW1wdHk7XG5leHBvcnRzLmVzY2FwZSA9IGVzY2FwZTtcbmV4cG9ydHMuZXNjYXBlZCA9IGVzY2FwZWQ7XG5leHBvcnRzLmV4Y2x1ZGVfaW50ZXJuYWxfcHJvcHMgPSBleGNsdWRlX2ludGVybmFsX3Byb3BzO1xuZXhwb3J0cy5maXhfYW5kX2Rlc3Ryb3lfYmxvY2sgPSBmaXhfYW5kX2Rlc3Ryb3lfYmxvY2s7XG5leHBvcnRzLmZpeF9hbmRfb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2sgPSBmaXhfYW5kX291dHJvX2FuZF9kZXN0cm95X2Jsb2NrO1xuZXhwb3J0cy5maXhfcG9zaXRpb24gPSBmaXhfcG9zaXRpb247XG5leHBvcnRzLmZsdXNoID0gZmx1c2g7XG5leHBvcnRzLmdldENvbnRleHQgPSBnZXRDb250ZXh0O1xuZXhwb3J0cy5nZXRfYmluZGluZ19ncm91cF92YWx1ZSA9IGdldF9iaW5kaW5nX2dyb3VwX3ZhbHVlO1xuZXhwb3J0cy5nZXRfY3VycmVudF9jb21wb25lbnQgPSBnZXRfY3VycmVudF9jb21wb25lbnQ7XG5leHBvcnRzLmdldF9jdXN0b21fZWxlbWVudHNfc2xvdHMgPSBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzO1xuZXhwb3J0cy5nZXRfc2xvdF9jaGFuZ2VzID0gZ2V0X3Nsb3RfY2hhbmdlcztcbmV4cG9ydHMuZ2V0X3Nsb3RfY29udGV4dCA9IGdldF9zbG90X2NvbnRleHQ7XG5leHBvcnRzLmdldF9zcHJlYWRfb2JqZWN0ID0gZ2V0X3NwcmVhZF9vYmplY3Q7XG5leHBvcnRzLmdldF9zcHJlYWRfdXBkYXRlID0gZ2V0X3NwcmVhZF91cGRhdGU7XG5leHBvcnRzLmdldF9zdG9yZV92YWx1ZSA9IGdldF9zdG9yZV92YWx1ZTtcbmV4cG9ydHMuZ2xvYmFscyA9IGdsb2JhbHM7XG5leHBvcnRzLmdyb3VwX291dHJvcyA9IGdyb3VwX291dHJvcztcbmV4cG9ydHMuaGFuZGxlX3Byb21pc2UgPSBoYW5kbGVfcHJvbWlzZTtcbmV4cG9ydHMuaGFzQ29udGV4dCA9IGhhc0NvbnRleHQ7XG5leHBvcnRzLmhhc19wcm9wID0gaGFzX3Byb3A7XG5leHBvcnRzLmlkZW50aXR5ID0gaWRlbnRpdHk7XG5leHBvcnRzLmluaXQgPSBpbml0O1xuZXhwb3J0cy5pbnNlcnQgPSBpbnNlcnQ7XG5leHBvcnRzLmluc2VydF9kZXYgPSBpbnNlcnRfZGV2O1xuZXhwb3J0cy5pbnRyb3MgPSBpbnRyb3M7XG5leHBvcnRzLmludmFsaWRfYXR0cmlidXRlX25hbWVfY2hhcmFjdGVyID0gaW52YWxpZF9hdHRyaWJ1dGVfbmFtZV9jaGFyYWN0ZXI7XG5leHBvcnRzLmlzX2NsaWVudCA9IGlzX2NsaWVudDtcbmV4cG9ydHMuaXNfY3Jvc3NvcmlnaW4gPSBpc19jcm9zc29yaWdpbjtcbmV4cG9ydHMuaXNfZW1wdHkgPSBpc19lbXB0eTtcbmV4cG9ydHMuaXNfZnVuY3Rpb24gPSBpc19mdW5jdGlvbjtcbmV4cG9ydHMuaXNfcHJvbWlzZSA9IGlzX3Byb21pc2U7XG5leHBvcnRzLmxpc3RlbiA9IGxpc3RlbjtcbmV4cG9ydHMubGlzdGVuX2RldiA9IGxpc3Rlbl9kZXY7XG5leHBvcnRzLmxvb3AgPSBsb29wO1xuZXhwb3J0cy5sb29wX2d1YXJkID0gbG9vcF9ndWFyZDtcbmV4cG9ydHMubWlzc2luZ19jb21wb25lbnQgPSBtaXNzaW5nX2NvbXBvbmVudDtcbmV4cG9ydHMubW91bnRfY29tcG9uZW50ID0gbW91bnRfY29tcG9uZW50O1xuZXhwb3J0cy5ub29wID0gbm9vcDtcbmV4cG9ydHMubm90X2VxdWFsID0gbm90X2VxdWFsO1xuZXhwb3J0cy5udWxsX3RvX2VtcHR5ID0gbnVsbF90b19lbXB0eTtcbmV4cG9ydHMub2JqZWN0X3dpdGhvdXRfcHJvcGVydGllcyA9IG9iamVjdF93aXRob3V0X3Byb3BlcnRpZXM7XG5leHBvcnRzLm9uRGVzdHJveSA9IG9uRGVzdHJveTtcbmV4cG9ydHMub25Nb3VudCA9IG9uTW91bnQ7XG5leHBvcnRzLm9uY2UgPSBvbmNlO1xuZXhwb3J0cy5vdXRyb19hbmRfZGVzdHJveV9ibG9jayA9IG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrO1xuZXhwb3J0cy5wcmV2ZW50X2RlZmF1bHQgPSBwcmV2ZW50X2RlZmF1bHQ7XG5leHBvcnRzLnByb3BfZGV2ID0gcHJvcF9kZXY7XG5leHBvcnRzLnF1ZXJ5X3NlbGVjdG9yX2FsbCA9IHF1ZXJ5X3NlbGVjdG9yX2FsbDtcbmV4cG9ydHMucnVuID0gcnVuO1xuZXhwb3J0cy5ydW5fYWxsID0gcnVuX2FsbDtcbmV4cG9ydHMuc2FmZV9ub3RfZXF1YWwgPSBzYWZlX25vdF9lcXVhbDtcbmV4cG9ydHMuc2NoZWR1bGVfdXBkYXRlID0gc2NoZWR1bGVfdXBkYXRlO1xuZXhwb3J0cy5zZWxlY3RfbXVsdGlwbGVfdmFsdWUgPSBzZWxlY3RfbXVsdGlwbGVfdmFsdWU7XG5leHBvcnRzLnNlbGVjdF9vcHRpb24gPSBzZWxlY3Rfb3B0aW9uO1xuZXhwb3J0cy5zZWxlY3Rfb3B0aW9ucyA9IHNlbGVjdF9vcHRpb25zO1xuZXhwb3J0cy5zZWxlY3RfdmFsdWUgPSBzZWxlY3RfdmFsdWU7XG5leHBvcnRzLnNlbGYgPSBzZWxmO1xuZXhwb3J0cy5zZXRDb250ZXh0ID0gc2V0Q29udGV4dDtcbmV4cG9ydHMuc2V0X2F0dHJpYnV0ZXMgPSBzZXRfYXR0cmlidXRlcztcbmV4cG9ydHMuc2V0X2N1cnJlbnRfY29tcG9uZW50ID0gc2V0X2N1cnJlbnRfY29tcG9uZW50O1xuZXhwb3J0cy5zZXRfY3VzdG9tX2VsZW1lbnRfZGF0YSA9IHNldF9jdXN0b21fZWxlbWVudF9kYXRhO1xuZXhwb3J0cy5zZXRfZGF0YSA9IHNldF9kYXRhO1xuZXhwb3J0cy5zZXRfZGF0YV9kZXYgPSBzZXRfZGF0YV9kZXY7XG5leHBvcnRzLnNldF9pbnB1dF90eXBlID0gc2V0X2lucHV0X3R5cGU7XG5leHBvcnRzLnNldF9pbnB1dF92YWx1ZSA9IHNldF9pbnB1dF92YWx1ZTtcbmV4cG9ydHMuc2V0X25vdyA9IHNldF9ub3c7XG5leHBvcnRzLnNldF9yYWYgPSBzZXRfcmFmO1xuZXhwb3J0cy5zZXRfc3RvcmVfdmFsdWUgPSBzZXRfc3RvcmVfdmFsdWU7XG5leHBvcnRzLnNldF9zdHlsZSA9IHNldF9zdHlsZTtcbmV4cG9ydHMuc2V0X3N2Z19hdHRyaWJ1dGVzID0gc2V0X3N2Z19hdHRyaWJ1dGVzO1xuZXhwb3J0cy5zcGFjZSA9IHNwYWNlO1xuZXhwb3J0cy5zcHJlYWQgPSBzcHJlYWQ7XG5leHBvcnRzLnN0b3BfcHJvcGFnYXRpb24gPSBzdG9wX3Byb3BhZ2F0aW9uO1xuZXhwb3J0cy5zdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG5leHBvcnRzLnN2Z19lbGVtZW50ID0gc3ZnX2VsZW1lbnQ7XG5leHBvcnRzLnRleHQgPSB0ZXh0O1xuZXhwb3J0cy50aWNrID0gdGljaztcbmV4cG9ydHMudGltZV9yYW5nZXNfdG9fYXJyYXkgPSB0aW1lX3Jhbmdlc190b19hcnJheTtcbmV4cG9ydHMudG9fbnVtYmVyID0gdG9fbnVtYmVyO1xuZXhwb3J0cy50b2dnbGVfY2xhc3MgPSB0b2dnbGVfY2xhc3M7XG5leHBvcnRzLnRyYW5zaXRpb25faW4gPSB0cmFuc2l0aW9uX2luO1xuZXhwb3J0cy50cmFuc2l0aW9uX291dCA9IHRyYW5zaXRpb25fb3V0O1xuZXhwb3J0cy51cGRhdGVfa2V5ZWRfZWFjaCA9IHVwZGF0ZV9rZXllZF9lYWNoO1xuZXhwb3J0cy51cGRhdGVfc2xvdCA9IHVwZGF0ZV9zbG90O1xuZXhwb3J0cy51cGRhdGVfc2xvdF9zcHJlYWQgPSB1cGRhdGVfc2xvdF9zcHJlYWQ7XG5leHBvcnRzLnZhbGlkYXRlX2NvbXBvbmVudCA9IHZhbGlkYXRlX2NvbXBvbmVudDtcbmV4cG9ydHMudmFsaWRhdGVfZWFjaF9hcmd1bWVudCA9IHZhbGlkYXRlX2VhY2hfYXJndW1lbnQ7XG5leHBvcnRzLnZhbGlkYXRlX2VhY2hfa2V5cyA9IHZhbGlkYXRlX2VhY2hfa2V5cztcbmV4cG9ydHMudmFsaWRhdGVfc2xvdHMgPSB2YWxpZGF0ZV9zbG90cztcbmV4cG9ydHMudmFsaWRhdGVfc3RvcmUgPSB2YWxpZGF0ZV9zdG9yZTtcbmV4cG9ydHMueGxpbmtfYXR0ciA9IHhsaW5rX2F0dHI7XG4iLCJ2YXIgXyRzdmVsdGVfMyA9IHt9O1xuXCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KF8kc3ZlbHRlXzMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7LyogcmVtb3ZlZDogdmFyIF8kaW50ZXJuYWxfND1yZXF1aXJlKFwiLi9pbnRlcm5hbC9pbmRleC5qc1wiKTsgKi87T2JqZWN0LmRlZmluZVByb3BlcnR5KF8kc3ZlbHRlXzMsXCJTdmVsdGVDb21wb25lbnRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gXyRpbnRlcm5hbF80LlN2ZWx0ZUNvbXBvbmVudERldn19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoXyRzdmVsdGVfMyxcIlN2ZWx0ZUNvbXBvbmVudFR5cGVkXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIF8kaW50ZXJuYWxfNC5TdmVsdGVDb21wb25lbnRUeXBlZH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoXyRzdmVsdGVfMyxcImFmdGVyVXBkYXRlXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIF8kaW50ZXJuYWxfNC5hZnRlclVwZGF0ZX19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoXyRzdmVsdGVfMyxcImJlZm9yZVVwZGF0ZVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBfJGludGVybmFsXzQuYmVmb3JlVXBkYXRlfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfJHN2ZWx0ZV8zLFwiY3JlYXRlRXZlbnREaXNwYXRjaGVyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIF8kaW50ZXJuYWxfNC5jcmVhdGVFdmVudERpc3BhdGNoZXJ9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KF8kc3ZlbHRlXzMsXCJnZXRDb250ZXh0XCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIF8kaW50ZXJuYWxfNC5nZXRDb250ZXh0fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfJHN2ZWx0ZV8zLFwiaGFzQ29udGV4dFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBfJGludGVybmFsXzQuaGFzQ29udGV4dH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoXyRzdmVsdGVfMyxcIm9uRGVzdHJveVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBfJGludGVybmFsXzQub25EZXN0cm95fX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfJHN2ZWx0ZV8zLFwib25Nb3VudFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBfJGludGVybmFsXzQub25Nb3VudH19KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoXyRzdmVsdGVfMyxcInNldENvbnRleHRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gXyRpbnRlcm5hbF80LnNldENvbnRleHR9fSksT2JqZWN0LmRlZmluZVByb3BlcnR5KF8kc3ZlbHRlXzMsXCJ0aWNrXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIF8kaW50ZXJuYWxfNC50aWNrfX0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJbWx1WkdWNExtcHpJbDBzSW01aGJXVnpJanBiSWs5aWFtVmpkQ0lzSW1SbFptbHVaVkJ5YjNCbGNuUjVJaXdpWlhod2IzSjBjeUlzSW5aaGJIVmxJaXdpWlc1MWJXVnlZV0pzWlNJc0ltZGxkQ0lzSW1sdWRHVnlibUZzSWl3aVUzWmxiSFJsUTI5dGNHOXVaVzUwUkdWMklpd2lVM1psYkhSbFEyOXRjRzl1Wlc1MFZIbHdaV1FpTENKaFpuUmxjbFZ3WkdGMFpTSXNJbUpsWm05eVpWVndaR0YwWlNJc0ltTnlaV0YwWlVWMlpXNTBSR2x6Y0dGMFkyaGxjaUlzSW1kbGRFTnZiblJsZUhRaUxDSm9ZWE5EYjI1MFpYaDBJaXdpYjI1RVpYTjBjbTk1SWl3aWIyNU5iM1Z1ZENJc0luTmxkRU52Ym5SbGVIUWlMQ0owYVdOcklsMHNJbTFoY0hCcGJtZHpJam9pTzBGQlFVRXNXVUZCUVN4RFFVVkJRU3hOUVVGQlFTeERRVUZQUXl4alFVRkJRU3hEUVVGbFF5eFZRVUZCUVN4RFFVRlRMRmxCUVVFc1EwRkJZeXhEUVVGRlF5eExRVUZCUVN4RFFVRkJRU3hEUVVGUExFTkJRVUVzUTBGQlFTeERRVUZCTEVOQlJYUkVMR2RGUVVsQlNDeE5RVUZCUVN4RFFVRlBReXhqUVVGQlFTeERRVUZsUXl4VlFVRkJRU3hEUVVGVExHbENRVUZCTEVOQlFXMUNMRU5CUTJwRVJTeFZRVUZCUVN4RFFVRkJRU3hEUVVGWkxFTkJRVUVzUTBGRFdrTXNSMEZCUVVFc1EwRkJTeXhWUVVGQkxFTkJRMG9zVDBGQlQwTXNXVUZCUVVFc1EwRkJVME1zYTBKQlFVRkJMRU5CUVVGQkxFTkJRVUZCTEVOQlFVRkJMRU5CUjJ4Q1VDeE5RVUZCUVN4RFFVRlBReXhqUVVGQlFTeERRVUZsUXl4VlFVRkJRU3hEUVVGVExITkNRVUZCTEVOQlFYZENMRU5CUTNSRVJTeFZRVUZCUVN4RFFVRkJRU3hEUVVGWkxFTkJRVUVzUTBGRFdrTXNSMEZCUVVFc1EwRkJTeXhWUVVGQkxFTkJRMG9zVDBGQlQwTXNXVUZCUVVFc1EwRkJVMFVzYjBKQlFVRkJMRU5CUVVGQkxFTkJRVUZCTEVOQlFVRkJMRU5CUjJ4Q1VpeE5RVUZCUVN4RFFVRlBReXhqUVVGQlFTeERRVUZsUXl4VlFVRkJRU3hEUVVGVExHRkJRVUVzUTBGQlpTeERRVU0zUTBVc1ZVRkJRVUVzUTBGQlFVRXNRMEZCV1N4RFFVRkJMRU5CUTFwRExFZEJRVUZCTEVOQlFVc3NWVUZCUVN4RFFVTktMRTlCUVU5RExGbEJRVUZCTEVOQlFWTkhMRmRCUVVGQkxFTkJRVUZCTEVOQlFVRkJMRU5CUVVGQkxFTkJSMnhDVkN4TlFVRkJRU3hEUVVGUFF5eGpRVUZCUVN4RFFVRmxReXhWUVVGQlFTeERRVUZUTEdOQlFVRXNRMEZCWjBJc1EwRkRPVU5GTEZWQlFVRkJMRU5CUVVGQkxFTkJRVmtzUTBGQlFTeERRVU5hUXl4SFFVRkJRU3hEUVVGTExGVkJRVUVzUTBGRFNpeFBRVUZQUXl4WlFVRkJRU3hEUVVGVFNTeFpRVUZCUVN4RFFVRkJRU3hEUVVGQlFTeERRVUZCUVN4RFFVZHNRbFlzVFVGQlFVRXNRMEZCVDBNc1kwRkJRVUVzUTBGQlpVTXNWVUZCUVVFc1EwRkJVeXgxUWtGQlFTeERRVUY1UWl4RFFVTjJSRVVzVlVGQlFVRXNRMEZCUVVFc1EwRkJXU3hEUVVGQkxFTkJRMXBETEVkQlFVRkJMRU5CUVVzc1ZVRkJRU3hEUVVOS0xFOUJRVTlETEZsQlFVRkJMRU5CUVZOTExIRkNRVUZCUVN4RFFVRkJRU3hEUVVGQlFTeERRVUZCUVN4RFFVZHNRbGdzVFVGQlFVRXNRMEZCVDBNc1kwRkJRVUVzUTBGQlpVTXNWVUZCUVVFc1EwRkJVeXhaUVVGQkxFTkJRV01zUTBGRE5VTkZMRlZCUVVGQkxFTkJRVUZCTEVOQlFWa3NRMEZCUVN4RFFVTmFReXhIUVVGQlFTeERRVUZMTEZWQlFVRXNRMEZEU2l4UFFVRlBReXhaUVVGQlFTeERRVUZUVFN4VlFVRkJRU3hEUVVGQlFTeERRVUZCUVN4RFFVRkJRU3hEUVVkc1Fsb3NUVUZCUVVFc1EwRkJUME1zWTBGQlFVRXNRMEZCWlVNc1ZVRkJRVUVzUTBGQlV5eFpRVUZCTEVOQlFXTXNRMEZETlVORkxGVkJRVUZCTEVOQlFVRkJMRU5CUVZrc1EwRkJRU3hEUVVOYVF5eEhRVUZCUVN4RFFVRkxMRlZCUVVFc1EwRkRTaXhQUVVGUFF5eFpRVUZCUVN4RFFVRlRUeXhWUVVGQlFTeERRVUZCUVN4RFFVRkJRU3hEUVVGQlFTeERRVWRzUW1Jc1RVRkJRVUVzUTBGQlQwTXNZMEZCUVVFc1EwRkJaVU1zVlVGQlFVRXNRMEZCVXl4WFFVRkJMRU5CUVdFc1EwRkRNME5GTEZWQlFVRkJMRU5CUVVGQkxFTkJRVmtzUTBGQlFTeERRVU5hUXl4SFFVRkJRU3hEUVVGTExGVkJRVUVzUTBGRFNpeFBRVUZQUXl4WlFVRkJRU3hEUVVGVFVTeFRRVUZCUVN4RFFVRkJRU3hEUVVGQlFTeERRVUZCUVN4RFFVZHNRbVFzVFVGQlFVRXNRMEZCVDBNc1kwRkJRVUVzUTBGQlpVTXNWVUZCUVVFc1EwRkJVeXhUUVVGQkxFTkJRVmNzUTBGRGVrTkZMRlZCUVVGQkxFTkJRVUZCTEVOQlFWa3NRMEZCUVN4RFFVTmFReXhIUVVGQlFTeERRVUZMTEZWQlFVRXNRMEZEU2l4UFFVRlBReXhaUVVGQlFTeERRVUZUVXl4UFFVRkJRU3hEUVVGQlFTeERRVUZCUVN4RFFVRkJRU3hEUVVkc1FtWXNUVUZCUVVFc1EwRkJUME1zWTBGQlFVRXNRMEZCWlVNc1ZVRkJRVUVzUTBGQlV5eFpRVUZCTEVOQlFXTXNRMEZETlVORkxGVkJRVUZCTEVOQlFVRkJMRU5CUVZrc1EwRkJRU3hEUVVOYVF5eEhRVUZCUVN4RFFVRkxMRlZCUVVFc1EwRkRTaXhQUVVGUFF5eFpRVUZCUVN4RFFVRlRWU3hWUVVGQlFTeERRVUZCUVN4RFFVRkJRU3hEUVVGQlFTeERRVWRzUW1oQ0xFMUJRVUZCTEVOQlFVOURMR05CUVVGQkxFTkJRV1ZETEZWQlFVRkJMRU5CUVZNc1RVRkJRU3hEUVVGUkxFTkJRM1JEUlN4VlFVRkJRU3hEUVVGQlFTeERRVUZaTEVOQlFVRXNRMEZEV2tNc1IwRkJRVUVzUTBGQlN5eFZRVUZCTEVOQlEwb3NUMEZCVDBNc1dVRkJRVUVzUTBGQlUxY3NTVUZCUVVFc1EwRkJRVUVzUTBGQlFVRXNRMEZCUVVFc1EwRkJRVUVpTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2VzI1MWJHeGRmUT09IiwiY29uc3QgcmVwb3J0X2Vycm9yID0ge31cbmV4cG9ydCB7IHJlcG9ydF9lcnJvciB9IiwiXCJ1c2Ugc3RyaWN0XCI7Y29uc3R7U3ZlbHRlQ29tcG9uZW50OlN2ZWx0ZUNvbXBvbmVudCxhdHRyOmF0dHIsYmluZGluZ19jYWxsYmFja3M6YmluZGluZ19jYWxsYmFja3MsZGV0YWNoOmRldGFjaCxlbGVtZW50OmVsZW1lbnQsaW5pdDppbml0LGluc2VydDppbnNlcnQsbm9vcDpub29wLHNhZmVfbm90X2VxdWFsOnNhZmVfbm90X2VxdWFsfT1fJGludGVybmFsXzQse2dldENvbnRleHQ6Z2V0Q29udGV4dH09XyRzdmVsdGVfMyx7cmVwb3J0X2Vycm9yOnJlcG9ydF9lcnJvcl9jdHh9PV8kYXBweXRlcl9jb250ZXh0XzI7ZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50KGN0eCl7bGV0IGRpdjtyZXR1cm57Yygpe2Rpdj1lbGVtZW50KFwiZGl2XCIpLGF0dHIoZGl2LFwiY2xhc3NcIixjdHhbMF0pfSxtKHRhcmdldCxhbmNob3Ipe2luc2VydCh0YXJnZXQsZGl2LGFuY2hvciksZGl2LmlubmVySFRNTD1jdHhbMV0sY3R4WzNdKGRpdil9LHAoY3R4LFtkaXJ0eV0pezImZGlydHkmJihkaXYuaW5uZXJIVE1MPWN0eFsxXSksMSZkaXJ0eSYmYXR0cihkaXYsXCJjbGFzc1wiLGN0eFswXSl9LGk6bm9vcCxvOm5vb3AsZChkZXRhY2hpbmcpe2RldGFjaGluZyYmZGV0YWNoKGRpdiksY3R4WzNdKG51bGwpfX19ZnVuY3Rpb24gaW5zdGFuY2UoJCRzZWxmLCQkcHJvcHMsJCRpbnZhbGlkYXRlKXtjb25zdCByZXBvcnRfZXJyb3I9Z2V0Q29udGV4dChyZXBvcnRfZXJyb3JfY3R4KTtsZXQgcmVmLHtjbGFzc2VzOmNsYXNzZXM9XCJcIn09JCRwcm9wcyx7ZGF0YTpkYXRhPVwiXCJ9PSQkcHJvcHMsZXZhbGVkPXt9O3JldHVybiAkJHNlbGYuJCRzZXQ9KCQkcHJvcHM9PntcImNsYXNzZXNcImluICQkcHJvcHMmJiQkaW52YWxpZGF0ZSgwLGNsYXNzZXM9JCRwcm9wcy5jbGFzc2VzKSxcImRhdGFcImluICQkcHJvcHMmJiQkaW52YWxpZGF0ZSgxLGRhdGE9JCRwcm9wcy5kYXRhKX0pLCQkc2VsZi4kJC51cGRhdGU9KCgpPT57NCYkJHNlbGYuJCQuZGlydHkmJnJlZiYmcmVmLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzY3JpcHRcIikuZm9yRWFjaChlbD0+KGZ1bmN0aW9uKHNyYyl7aWYodm9pZCAwPT09ZXZhbGVkW3NyY10pe2V2YWxlZFtzcmNdPSEwO3RyeXtuZXcgRnVuY3Rpb24oc3JjKSgpfWNhdGNoKGUpe2NvbnN0IGVycm9yX2RhdGE9e3R5cGU6XCJqYXZhc2NyaXB0LWNlbGxcIixlcnJvcjplLnRvU3RyaW5nKCl9O3JlcG9ydF9lcnJvcihlcnJvcl9kYXRhKX19fSkoZWwuaW5uZXJIVE1MKSl9KSxbY2xhc3NlcyxkYXRhLHJlZixmdW5jdGlvbigkJHZhbHVlKXtiaW5kaW5nX2NhbGxiYWNrc1skJHZhbHVlP1widW5zaGlmdFwiOlwicHVzaFwiXSgoKT0+eyQkaW52YWxpZGF0ZSgyLHJlZj0kJHZhbHVlKX0pfV19dmFyIF8kSFRNTF8xPWNsYXNzIGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50e2NvbnN0cnVjdG9yKG9wdGlvbnMpe3N1cGVyKCksaW5pdCh0aGlzLG9wdGlvbnMsaW5zdGFuY2UsY3JlYXRlX2ZyYWdtZW50LHNhZmVfbm90X2VxdWFsLHtjbGFzc2VzOjAsZGF0YToxfSl9fTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWtoVVRVd3VjM1psYkhSbElsMHNJbTVoYldWeklqcGJJbTF2WkhWc1pTSXNJbVY0Y0c5eWRITWlYU3dpYldGd2NHbHVaM01pT2lJeWVVTkJkMFpCUVN4WlFVRkJReXhEUVVGQlFTeGpRVUZCUVN4bFFVRkJRU3hEUVVGQlFTeFhRVUZCUVN4RFFVRkJRU3hQUVVGQlFTeERRVUZCUVN4RFFVRkJRU3hMUVVGQlFTeEZRVUZCUVN4RFFVRkJRU3hKUVVGQlFTeERRVUZCUVN4SlFVRkJRU3hEUVVGQlFTeFBRVUZCUVN4RFFVRkJRU3hSUVVGQlFTeERRVUZCUVN4bFFVRkJRU3hEUVVGQlFTeGpRVUZCUVN4RFFVRkJRU3hEUVVGQlFTeFBRVUZCUVN4RFFVRkJRU3hEUVVGQlFTeERRVUZCUVN4SlFVRkJRU3hEUVVGQlFTeERRVUZCUVN4RFFVRkJRU3hEUVVGQlFTeERRVUZCUVN4RFFVRkJRU3hEUVVGQlFTSXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJiblZzYkYxOSIsIlwidXNlIHN0cmljdFwiO2NvbnN0e1N2ZWx0ZUNvbXBvbmVudDpfX1N2ZWx0ZUNvbXBvbmVudF81LGFwcGVuZDphcHBlbmQsYXR0cjpfX2F0dHJfNSxjaGVja19vdXRyb3M6Y2hlY2tfb3V0cm9zLGNyZWF0ZV9jb21wb25lbnQ6Y3JlYXRlX2NvbXBvbmVudCxkZXN0cm95X2NvbXBvbmVudDpkZXN0cm95X2NvbXBvbmVudCxkZXN0cm95X2VhY2g6ZGVzdHJveV9lYWNoLGRldGFjaDpfX2RldGFjaF81LGVsZW1lbnQ6X19lbGVtZW50XzUsZW1wdHk6ZW1wdHksZ3JvdXBfb3V0cm9zOmdyb3VwX291dHJvcyxpbml0Ol9faW5pdF81LGluc2VydDpfX2luc2VydF81LGxpc3RlbjpsaXN0ZW4sbW91bnRfY29tcG9uZW50Om1vdW50X2NvbXBvbmVudCxvdXRyb19hbmRfZGVzdHJveV9ibG9jazpvdXRyb19hbmRfZGVzdHJveV9ibG9jayxzYWZlX25vdF9lcXVhbDpfX3NhZmVfbm90X2VxdWFsXzUsc2V0X2RhdGE6c2V0X2RhdGEsc3BhY2U6c3BhY2UsdGV4dDp0ZXh0LHRyYW5zaXRpb25faW46dHJhbnNpdGlvbl9pbix0cmFuc2l0aW9uX291dDp0cmFuc2l0aW9uX291dCx1cGRhdGVfa2V5ZWRfZWFjaDp1cGRhdGVfa2V5ZWRfZWFjaH09XyRpbnRlcm5hbF80O2Z1bmN0aW9uIGdldF9lYWNoX2NvbnRleHQoY3R4LGxpc3QsaSl7Y29uc3QgY2hpbGRfY3R4PWN0eC5zbGljZSgpO3JldHVybiBjaGlsZF9jdHhbMl09bGlzdFtpXSxjaGlsZF9jdHh9ZnVuY3Rpb24gZ2V0X2VhY2hfY29udGV4dF8xKGN0eCxsaXN0LGkpe2NvbnN0IGNoaWxkX2N0eD1jdHguc2xpY2UoKTtyZXR1cm4gY2hpbGRfY3R4WzVdPWxpc3RbaV0sY2hpbGRfY3R4fWZ1bmN0aW9uIGdldF9lYWNoX2NvbnRleHRfMihjdHgsbGlzdCxpKXtjb25zdCBjaGlsZF9jdHg9Y3R4LnNsaWNlKCk7cmV0dXJuIGNoaWxkX2N0eFsyXT1saXN0W2ldLGNoaWxkX2N0eH1mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2soY3R4KXtsZXQgc3VwLGksc3VwX3RpdGxlX3ZhbHVlLHQ7cmV0dXJue2MoKXtzdXA9X19lbGVtZW50XzUoXCJzdXBcIiksaT1fX2VsZW1lbnRfNShcImlcIiksdD1zcGFjZSgpLF9fYXR0cl81KGksXCJjbGFzc1wiLFwiZmFyIGZhLXF1ZXN0aW9uLWNpcmNsZVwiKSxfX2F0dHJfNShzdXAsXCJkYXRhLXRvZ2dsZVwiLFwidG9vbHRpcFwiKSxfX2F0dHJfNShzdXAsXCJ0aXRsZVwiLHN1cF90aXRsZV92YWx1ZT1jdHhbMF0uZGVzY3JpcHRpb24pfSxtKHRhcmdldCxhbmNob3Ipe19faW5zZXJ0XzUodGFyZ2V0LHN1cCxhbmNob3IpLGFwcGVuZChzdXAsaSksX19pbnNlcnRfNSh0YXJnZXQsdCxhbmNob3IpfSxwKGN0eCxkaXJ0eSl7MSZkaXJ0eSYmc3VwX3RpdGxlX3ZhbHVlIT09KHN1cF90aXRsZV92YWx1ZT1jdHhbMF0uZGVzY3JpcHRpb24pJiZfX2F0dHJfNShzdXAsXCJ0aXRsZVwiLHN1cF90aXRsZV92YWx1ZSl9LGQoZGV0YWNoaW5nKXtkZXRhY2hpbmcmJl9fZGV0YWNoXzUoc3VwKSxkZXRhY2hpbmcmJl9fZGV0YWNoXzUodCl9fX1mdW5jdGlvbiBjcmVhdGVfZWFjaF9ibG9ja18yKGN0eCl7bGV0IGEsdDAsdDEsYV9jbGFzc192YWx1ZSxhX2FyaWFfY29udHJvbHNfdmFsdWUsbW91bnRlZCxkaXNwb3NlLHQwX3ZhbHVlPWN0eFsyXStcIlwiO2Z1bmN0aW9uIGNsaWNrX2hhbmRsZXIoKXtyZXR1cm4gY3R4WzFdKGN0eFsyXSl9cmV0dXJue2MoKXthPV9fZWxlbWVudF81KFwiYVwiKSx0MD10ZXh0KHQwX3ZhbHVlKSx0MT1zcGFjZSgpLF9fYXR0cl81KGEsXCJocmVmXCIsXCJqYXZhc2NyaXB0OlwiKSxfX2F0dHJfNShhLFwiY2xhc3NcIixhX2NsYXNzX3ZhbHVlPVwibmF2LWxpbmtcIisoY3R4WzBdLnZhbHVlPT1jdHhbMl0/XCIgYWN0aXZlXCI6XCJcIikpLF9fYXR0cl81KGEsXCJhcmlhLWNvbnRyb2xzXCIsYV9hcmlhX2NvbnRyb2xzX3ZhbHVlPVwidGFiLWNvbnRlbnQtXCIrY3R4WzBdLm5hbWUrXCItXCIrY3R4WzJdKSxfX2F0dHJfNShhLFwiZGF0YS10b2dnbGVcIixcInRhYlwiKSxfX2F0dHJfNShhLFwicm9sZVwiLFwidGFiXCIpfSxtKHRhcmdldCxhbmNob3Ipe19faW5zZXJ0XzUodGFyZ2V0LGEsYW5jaG9yKSxhcHBlbmQoYSx0MCksYXBwZW5kKGEsdDEpLG1vdW50ZWR8fChkaXNwb3NlPWxpc3RlbihhLFwiY2xpY2tcIixjbGlja19oYW5kbGVyKSxtb3VudGVkPSEwKX0scChuZXdfY3R4LGRpcnR5KXtjdHg9bmV3X2N0eCwxJmRpcnR5JiZ0MF92YWx1ZSE9PSh0MF92YWx1ZT1jdHhbMl0rXCJcIikmJnNldF9kYXRhKHQwLHQwX3ZhbHVlKSwxJmRpcnR5JiZhX2NsYXNzX3ZhbHVlIT09KGFfY2xhc3NfdmFsdWU9XCJuYXYtbGlua1wiKyhjdHhbMF0udmFsdWU9PWN0eFsyXT9cIiBhY3RpdmVcIjpcIlwiKSkmJl9fYXR0cl81KGEsXCJjbGFzc1wiLGFfY2xhc3NfdmFsdWUpLDEmZGlydHkmJmFfYXJpYV9jb250cm9sc192YWx1ZSE9PShhX2FyaWFfY29udHJvbHNfdmFsdWU9XCJ0YWItY29udGVudC1cIitjdHhbMF0ubmFtZStcIi1cIitjdHhbMl0pJiZfX2F0dHJfNShhLFwiYXJpYS1jb250cm9sc1wiLGFfYXJpYV9jb250cm9sc192YWx1ZSl9LGQoZGV0YWNoaW5nKXtkZXRhY2hpbmcmJl9fZGV0YWNoXzUoYSksbW91bnRlZD0hMSxkaXNwb3NlKCl9fX1mdW5jdGlvbiBjcmVhdGVfZWFjaF9ibG9ja18xKGtleV8xLGN0eCl7bGV0IGZpcnN0LGh0bWwsY3VycmVudDtyZXR1cm4gaHRtbD1uZXcgXyRIVE1MXzEoe3Byb3BzOntkYXRhOmN0eFswXS5maWVsZF9yZW5kZXJzW2N0eFs1XS5hcmdzLm5hbWVdfX0pLHtrZXk6a2V5XzEsZmlyc3Q6bnVsbCxjKCl7Zmlyc3Q9ZW1wdHkoKSxjcmVhdGVfY29tcG9uZW50KGh0bWwuJCQuZnJhZ21lbnQpLHRoaXMuZmlyc3Q9Zmlyc3R9LG0odGFyZ2V0LGFuY2hvcil7X19pbnNlcnRfNSh0YXJnZXQsZmlyc3QsYW5jaG9yKSxtb3VudF9jb21wb25lbnQoaHRtbCx0YXJnZXQsYW5jaG9yKSxjdXJyZW50PSEwfSxwKG5ld19jdHgsZGlydHkpe2N0eD1uZXdfY3R4O2NvbnN0IGh0bWxfY2hhbmdlcz17fTsxJmRpcnR5JiYoaHRtbF9jaGFuZ2VzLmRhdGE9Y3R4WzBdLmZpZWxkX3JlbmRlcnNbY3R4WzVdLmFyZ3MubmFtZV0pLGh0bWwuJHNldChodG1sX2NoYW5nZXMpfSxpKGxvY2FsKXtjdXJyZW50fHwodHJhbnNpdGlvbl9pbihodG1sLiQkLmZyYWdtZW50LGxvY2FsKSxjdXJyZW50PSEwKX0sbyhsb2NhbCl7dHJhbnNpdGlvbl9vdXQoaHRtbC4kJC5mcmFnbWVudCxsb2NhbCksY3VycmVudD0hMX0sZChkZXRhY2hpbmcpe2RldGFjaGluZyYmX19kZXRhY2hfNShmaXJzdCksZGVzdHJveV9jb21wb25lbnQoaHRtbCxkZXRhY2hpbmcpfX19ZnVuY3Rpb24gY3JlYXRlX2VhY2hfYmxvY2soY3R4KXtsZXQgZGl2LHQsZGl2X2NsYXNzX3ZhbHVlLGN1cnJlbnQsZWFjaF9ibG9ja3M9W10sZWFjaF8xX2xvb2t1cD1uZXcgTWFwLGVhY2hfdmFsdWVfMT1jdHhbMF0uY2hvaWNlc1tjdHhbMl1dO2NvbnN0IGdldF9rZXk9Y3R4PT5jdHhbNV0uYXJncy5uYW1lO2ZvcihsZXQgaT0wO2k8ZWFjaF92YWx1ZV8xLmxlbmd0aDtpKz0xKXtsZXQgY2hpbGRfY3R4PWdldF9lYWNoX2NvbnRleHRfMShjdHgsZWFjaF92YWx1ZV8xLGkpLGtleT1nZXRfa2V5KGNoaWxkX2N0eCk7ZWFjaF8xX2xvb2t1cC5zZXQoa2V5LGVhY2hfYmxvY2tzW2ldPWNyZWF0ZV9lYWNoX2Jsb2NrXzEoa2V5LGNoaWxkX2N0eCkpfXJldHVybntjKCl7ZGl2PV9fZWxlbWVudF81KFwiZGl2XCIpO2ZvcihsZXQgaT0wO2k8ZWFjaF9ibG9ja3MubGVuZ3RoO2krPTEpZWFjaF9ibG9ja3NbaV0uYygpO3Q9c3BhY2UoKSxfX2F0dHJfNShkaXYsXCJjbGFzc1wiLGRpdl9jbGFzc192YWx1ZT1cInRhYi1wYW5lIGZhZGVcIisoY3R4WzBdLnZhbHVlPT1jdHhbMl0/XCIgc2hvdyBhY3RpdmVcIjpcIlwiKSksX19hdHRyXzUoZGl2LFwicm9sZVwiLFwidGFicGFuZWxcIil9LG0odGFyZ2V0LGFuY2hvcil7X19pbnNlcnRfNSh0YXJnZXQsZGl2LGFuY2hvcik7Zm9yKGxldCBpPTA7aTxlYWNoX2Jsb2Nrcy5sZW5ndGg7aSs9MSllYWNoX2Jsb2Nrc1tpXS5tKGRpdixudWxsKTthcHBlbmQoZGl2LHQpLGN1cnJlbnQ9ITB9LHAoY3R4LGRpcnR5KXsxJmRpcnR5JiYoZWFjaF92YWx1ZV8xPWN0eFswXS5jaG9pY2VzW2N0eFsyXV0sZ3JvdXBfb3V0cm9zKCksZWFjaF9ibG9ja3M9dXBkYXRlX2tleWVkX2VhY2goZWFjaF9ibG9ja3MsZGlydHksZ2V0X2tleSwxLGN0eCxlYWNoX3ZhbHVlXzEsZWFjaF8xX2xvb2t1cCxkaXYsb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2ssY3JlYXRlX2VhY2hfYmxvY2tfMSx0LGdldF9lYWNoX2NvbnRleHRfMSksY2hlY2tfb3V0cm9zKCkpLCghY3VycmVudHx8MSZkaXJ0eSYmZGl2X2NsYXNzX3ZhbHVlIT09KGRpdl9jbGFzc192YWx1ZT1cInRhYi1wYW5lIGZhZGVcIisoY3R4WzBdLnZhbHVlPT1jdHhbMl0/XCIgc2hvdyBhY3RpdmVcIjpcIlwiKSkpJiZfX2F0dHJfNShkaXYsXCJjbGFzc1wiLGRpdl9jbGFzc192YWx1ZSl9LGkobG9jYWwpe2lmKCFjdXJyZW50KXtmb3IobGV0IGk9MDtpPGVhY2hfdmFsdWVfMS5sZW5ndGg7aSs9MSl0cmFuc2l0aW9uX2luKGVhY2hfYmxvY2tzW2ldKTtjdXJyZW50PSEwfX0sbyhsb2NhbCl7Zm9yKGxldCBpPTA7aTxlYWNoX2Jsb2Nrcy5sZW5ndGg7aSs9MSl0cmFuc2l0aW9uX291dChlYWNoX2Jsb2Nrc1tpXSk7Y3VycmVudD0hMX0sZChkZXRhY2hpbmcpe2RldGFjaGluZyYmX19kZXRhY2hfNShkaXYpO2ZvcihsZXQgaT0wO2k8ZWFjaF9ibG9ja3MubGVuZ3RoO2krPTEpZWFjaF9ibG9ja3NbaV0uZCgpfX19ZnVuY3Rpb24gX19jcmVhdGVfZnJhZ21lbnRfNShjdHgpe2xldCBkaXY1LGRpdjAsdDAsdDEsdDIsdDMsZGl2MixkaXYxLHQ0LGRpdjQsZGl2Myx0NSxpbnB1dCxpbnB1dF9uYW1lX3ZhbHVlLGlucHV0X3ZhbHVlX3ZhbHVlLGN1cnJlbnQsdDBfdmFsdWU9Y3R4WzBdLmxhYmVsK1wiXCIsaWZfYmxvY2s9Y3R4WzBdLmRlc2NyaXB0aW9uJiZjcmVhdGVfaWZfYmxvY2soY3R4KSxlYWNoX3ZhbHVlXzI9T2JqZWN0LmtleXMoY3R4WzBdLmNob2ljZXMpLGVhY2hfYmxvY2tzXzE9W107Zm9yKGxldCBpPTA7aTxlYWNoX3ZhbHVlXzIubGVuZ3RoO2krPTEpZWFjaF9ibG9ja3NfMVtpXT1jcmVhdGVfZWFjaF9ibG9ja18yKGdldF9lYWNoX2NvbnRleHRfMihjdHgsZWFjaF92YWx1ZV8yLGkpKTtsZXQgZWFjaF92YWx1ZT1PYmplY3Qua2V5cyhjdHhbMF0uY2hvaWNlcyksZWFjaF9ibG9ja3M9W107Zm9yKGxldCBpPTA7aTxlYWNoX3ZhbHVlLmxlbmd0aDtpKz0xKWVhY2hfYmxvY2tzW2ldPWNyZWF0ZV9lYWNoX2Jsb2NrKGdldF9lYWNoX2NvbnRleHQoY3R4LGVhY2hfdmFsdWUsaSkpO2NvbnN0IG91dD1pPT50cmFuc2l0aW9uX291dChlYWNoX2Jsb2Nrc1tpXSwxLDEsKCk9PntlYWNoX2Jsb2Nrc1tpXT1udWxsfSk7cmV0dXJue2MoKXtkaXY1PV9fZWxlbWVudF81KFwiZGl2XCIpLGRpdjA9X19lbGVtZW50XzUoXCJkaXZcIiksdDA9dGV4dCh0MF92YWx1ZSksdDE9c3BhY2UoKSxpZl9ibG9jayYmaWZfYmxvY2suYygpLHQyPXRleHQoXCI6XCIpLHQzPXNwYWNlKCksZGl2Mj1fX2VsZW1lbnRfNShcImRpdlwiKSxkaXYxPV9fZWxlbWVudF81KFwiZGl2XCIpO2ZvcihsZXQgaT0wO2k8ZWFjaF9ibG9ja3NfMS5sZW5ndGg7aSs9MSllYWNoX2Jsb2Nrc18xW2ldLmMoKTt0ND1zcGFjZSgpLGRpdjQ9X19lbGVtZW50XzUoXCJkaXZcIiksZGl2Mz1fX2VsZW1lbnRfNShcImRpdlwiKTtmb3IobGV0IGk9MDtpPGVhY2hfYmxvY2tzLmxlbmd0aDtpKz0xKWVhY2hfYmxvY2tzW2ldLmMoKTt0NT1zcGFjZSgpLGlucHV0PV9fZWxlbWVudF81KFwiaW5wdXRcIiksX19hdHRyXzUoZGl2MCxcImNsYXNzXCIsXCJjb2wtbGctMiBib2xkIHRleHQtbGctcmlnaHQgbXktYXV0b1wiKSxfX2F0dHJfNShkaXYxLFwiY2xhc3NcIixcIm5hdiBmbGV4LWNvbHVtbiBuYXYtcGlsbHMgbmF2LWp1c3RpZmllZFwiKSxfX2F0dHJfNShkaXYxLFwiYXJpYS1vcmllbnRhdGlvblwiLFwidmVydGljYWxcIiksX19hdHRyXzUoZGl2MSxcInJvbGVcIixcInRhYmxpc3RcIiksX19hdHRyXzUoZGl2MixcImNsYXNzXCIsXCJjb2wtbGctMiBwdC0yIHB0LWxnLTBcIiksX19hdHRyXzUoZGl2MyxcImNsYXNzXCIsXCJ0YWItY29udGVudFwiKSxfX2F0dHJfNShkaXY0LFwiY2xhc3NcIixcImNvbC1sZy04IHB0LTIgcHQtbGctMFwiKSxfX2F0dHJfNShpbnB1dCxcInR5cGVcIixcInRleHRcIiksX19hdHRyXzUoaW5wdXQsXCJjbGFzc1wiLFwiaGlkZGVuXCIpLF9fYXR0cl81KGlucHV0LFwibmFtZVwiLGlucHV0X25hbWVfdmFsdWU9Y3R4WzBdLm5hbWUpLGlucHV0LnZhbHVlPWlucHV0X3ZhbHVlX3ZhbHVlPWN0eFswXS52YWx1ZSxfX2F0dHJfNShkaXY1LFwiY2xhc3NcIixcInJvdyBweC00IHB4LWxnLTMgcGItNFwiKX0sbSh0YXJnZXQsYW5jaG9yKXtfX2luc2VydF81KHRhcmdldCxkaXY1LGFuY2hvciksYXBwZW5kKGRpdjUsZGl2MCksYXBwZW5kKGRpdjAsdDApLGFwcGVuZChkaXYwLHQxKSxpZl9ibG9jayYmaWZfYmxvY2subShkaXYwLG51bGwpLGFwcGVuZChkaXYwLHQyKSxhcHBlbmQoZGl2NSx0MyksYXBwZW5kKGRpdjUsZGl2MiksYXBwZW5kKGRpdjIsZGl2MSk7Zm9yKGxldCBpPTA7aTxlYWNoX2Jsb2Nrc18xLmxlbmd0aDtpKz0xKWVhY2hfYmxvY2tzXzFbaV0ubShkaXYxLG51bGwpO2FwcGVuZChkaXY1LHQ0KSxhcHBlbmQoZGl2NSxkaXY0KSxhcHBlbmQoZGl2NCxkaXYzKTtmb3IobGV0IGk9MDtpPGVhY2hfYmxvY2tzLmxlbmd0aDtpKz0xKWVhY2hfYmxvY2tzW2ldLm0oZGl2MyxudWxsKTthcHBlbmQoZGl2NSx0NSksYXBwZW5kKGRpdjUsaW5wdXQpLGN1cnJlbnQ9ITB9LHAoY3R4LFtkaXJ0eV0pe2lmKCghY3VycmVudHx8MSZkaXJ0eSkmJnQwX3ZhbHVlIT09KHQwX3ZhbHVlPWN0eFswXS5sYWJlbCtcIlwiKSYmc2V0X2RhdGEodDAsdDBfdmFsdWUpLGN0eFswXS5kZXNjcmlwdGlvbj9pZl9ibG9jaz9pZl9ibG9jay5wKGN0eCxkaXJ0eSk6KChpZl9ibG9jaz1jcmVhdGVfaWZfYmxvY2soY3R4KSkuYygpLGlmX2Jsb2NrLm0oZGl2MCx0MikpOmlmX2Jsb2NrJiYoaWZfYmxvY2suZCgxKSxpZl9ibG9jaz1udWxsKSwxJmRpcnR5KXtsZXQgaTtmb3IoZWFjaF92YWx1ZV8yPU9iamVjdC5rZXlzKGN0eFswXS5jaG9pY2VzKSxpPTA7aTxlYWNoX3ZhbHVlXzIubGVuZ3RoO2krPTEpe2NvbnN0IGNoaWxkX2N0eD1nZXRfZWFjaF9jb250ZXh0XzIoY3R4LGVhY2hfdmFsdWVfMixpKTtlYWNoX2Jsb2Nrc18xW2ldP2VhY2hfYmxvY2tzXzFbaV0ucChjaGlsZF9jdHgsZGlydHkpOihlYWNoX2Jsb2Nrc18xW2ldPWNyZWF0ZV9lYWNoX2Jsb2NrXzIoY2hpbGRfY3R4KSxlYWNoX2Jsb2Nrc18xW2ldLmMoKSxlYWNoX2Jsb2Nrc18xW2ldLm0oZGl2MSxudWxsKSl9Zm9yKDtpPGVhY2hfYmxvY2tzXzEubGVuZ3RoO2krPTEpZWFjaF9ibG9ja3NfMVtpXS5kKDEpO2VhY2hfYmxvY2tzXzEubGVuZ3RoPWVhY2hfdmFsdWVfMi5sZW5ndGh9aWYoMSZkaXJ0eSl7bGV0IGk7Zm9yKGVhY2hfdmFsdWU9T2JqZWN0LmtleXMoY3R4WzBdLmNob2ljZXMpLGk9MDtpPGVhY2hfdmFsdWUubGVuZ3RoO2krPTEpe2NvbnN0IGNoaWxkX2N0eD1nZXRfZWFjaF9jb250ZXh0KGN0eCxlYWNoX3ZhbHVlLGkpO2VhY2hfYmxvY2tzW2ldPyhlYWNoX2Jsb2Nrc1tpXS5wKGNoaWxkX2N0eCxkaXJ0eSksdHJhbnNpdGlvbl9pbihlYWNoX2Jsb2Nrc1tpXSwxKSk6KGVhY2hfYmxvY2tzW2ldPWNyZWF0ZV9lYWNoX2Jsb2NrKGNoaWxkX2N0eCksZWFjaF9ibG9ja3NbaV0uYygpLHRyYW5zaXRpb25faW4oZWFjaF9ibG9ja3NbaV0sMSksZWFjaF9ibG9ja3NbaV0ubShkaXYzLG51bGwpKX1mb3IoZ3JvdXBfb3V0cm9zKCksaT1lYWNoX3ZhbHVlLmxlbmd0aDtpPGVhY2hfYmxvY2tzLmxlbmd0aDtpKz0xKW91dChpKTtjaGVja19vdXRyb3MoKX0oIWN1cnJlbnR8fDEmZGlydHkmJmlucHV0X25hbWVfdmFsdWUhPT0oaW5wdXRfbmFtZV92YWx1ZT1jdHhbMF0ubmFtZSkpJiZfX2F0dHJfNShpbnB1dCxcIm5hbWVcIixpbnB1dF9uYW1lX3ZhbHVlKSwoIWN1cnJlbnR8fDEmZGlydHkmJmlucHV0X3ZhbHVlX3ZhbHVlIT09KGlucHV0X3ZhbHVlX3ZhbHVlPWN0eFswXS52YWx1ZSkmJmlucHV0LnZhbHVlIT09aW5wdXRfdmFsdWVfdmFsdWUpJiYoaW5wdXQudmFsdWU9aW5wdXRfdmFsdWVfdmFsdWUpfSxpKGxvY2FsKXtpZighY3VycmVudCl7Zm9yKGxldCBpPTA7aTxlYWNoX3ZhbHVlLmxlbmd0aDtpKz0xKXRyYW5zaXRpb25faW4oZWFjaF9ibG9ja3NbaV0pO2N1cnJlbnQ9ITB9fSxvKGxvY2FsKXtlYWNoX2Jsb2Nrcz1lYWNoX2Jsb2Nrcy5maWx0ZXIoQm9vbGVhbik7Zm9yKGxldCBpPTA7aTxlYWNoX2Jsb2Nrcy5sZW5ndGg7aSs9MSl0cmFuc2l0aW9uX291dChlYWNoX2Jsb2Nrc1tpXSk7Y3VycmVudD0hMX0sZChkZXRhY2hpbmcpe2RldGFjaGluZyYmX19kZXRhY2hfNShkaXY1KSxpZl9ibG9jayYmaWZfYmxvY2suZCgpLGRlc3Ryb3lfZWFjaChlYWNoX2Jsb2Nrc18xLGRldGFjaGluZyksZGVzdHJveV9lYWNoKGVhY2hfYmxvY2tzLGRldGFjaGluZyl9fX1mdW5jdGlvbiBfX2luc3RhbmNlXzUoJCRzZWxmLCQkcHJvcHMsJCRpbnZhbGlkYXRlKXtsZXR7YXJnczphcmdzfT0kJHByb3BzO3JldHVybiAkJHNlbGYuJCRzZXQ9KCQkcHJvcHM9PntcImFyZ3NcImluICQkcHJvcHMmJiQkaW52YWxpZGF0ZSgwLGFyZ3M9JCRwcm9wcy5hcmdzKX0pLFthcmdzLGNob2ljZV9uYW1lPT4kJGludmFsaWRhdGUoMCxhcmdzLnZhbHVlPWNob2ljZV9uYW1lLGFyZ3MpXX12YXIgXyRUYWJGaWVsZF81PWNsYXNzIGV4dGVuZHMgX19TdmVsdGVDb21wb25lbnRfNXtjb25zdHJ1Y3RvcihvcHRpb25zKXtzdXBlcigpLF9faW5pdF81KHRoaXMsb3B0aW9ucyxfX2luc3RhbmNlXzUsX19jcmVhdGVfZnJhZ21lbnRfNSxfX3NhZmVfbm90X2VxdWFsXzUse2FyZ3M6MH0pfX07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZ6SWpwYklsUmhZa1pwWld4a0xuTjJaV3gwWlNKZExDSnVZVzFsY3lJNld5SnRiMlIxYkdVaUxDSmxlSEJ2Y25SeklsMHNJbTFoY0hCcGJtZHpJam9pY1RCUlFYVmtRVUVzWjBKQlFVRkRMRU5CUVVGQkxHTkJRVUZCTEcxQ1FVRkJRU3hEUVVGQlFTeFhRVUZCUVN4RFFVRkJRU3hQUVVGQlFTeERRVUZCUVN4RFFVRkJRU3hMUVVGQlFTeEZRVUZCUVN4RFFVRkJRU3hSUVVGQlFTeERRVUZCUVN4SlFVRkJRU3hEUVVGQlFTeFBRVUZCUVN4RFFVRkJRU3haUVVGQlFTeERRVUZCUVN4dFFrRkJRVUVzUTBGQlFVRXNhMEpCUVVGQkxFTkJRVUZCTEVOQlFVRkJMRWxCUVVGQkxFTkJRVUZCTEVOQlFVRkJMRU5CUVVGQkxFTkJRVUZCTEVOQlFVRkJMRU5CUVVGQkxFTkJRVUZCSWl3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2x0dWRXeHNYWDA9Il19