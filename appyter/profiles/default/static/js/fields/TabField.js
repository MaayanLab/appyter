!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;((t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).TabField||(t.TabField={})).svelte=e()}}((function(){var e={};(function(t){(function(){"use strict";function t(){}Object.defineProperty(e,"__esModule",{value:!0});function n(e){return e()}function o(){return Object.create(null)}function l(e){e.forEach(n)}function r(e){return"function"==typeof e}function c(e){return 0===Object.keys(e).length}const a="undefined"!=typeof window;e.raf=a?e=>requestAnimationFrame(e):t;new Set;function i(e,t){e.appendChild(t)}function s(e,t,n){e.insertBefore(t,n||null)}function u(e){e.parentNode.removeChild(e)}function f(e){return document.createElement(e)}function d(e){return document.createTextNode(e)}function p(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function h(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function g(e){return Array.from(e.childNodes)}new Set;function m(t){e.current_component=t}const y=[],_=[],b=[],$=[],v=Promise.resolve();let w=!1;function k(){w||(w=!0,v.then(S))}function x(e){b.push(e)}let j=!1;const M=new Set;function S(){if(!j){j=!0;do{for(let e=0;e<y.length;e+=1){const t=y[e];m(t),T(t.$$)}for(m(null),y.length=0;_.length;)_.pop()();for(let e=0;e<b.length;e+=1){const t=b[e];M.has(t)||(M.add(t),t())}b.length=0}while(y.length);for(;$.length;)$.pop()();w=!1,j=!1,M.clear()}}function T(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(x)}}const E=new Set;let q;function O(){q={r:0,c:[],p:q}}function L(){q.r||l(q.c),q=q.p}function A(e,t){e&&e.i&&(E.delete(e),e.i(t))}function C(e,t,n,o){if(e&&e.o){if(E.has(e))return;E.add(e),q.c.push(()=>{E.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}}"undefined"!=typeof window?window:"undefined"!=typeof globalThis&&globalThis;function H(e,t){C(e,1,1,()=>{t.delete(e.key)})}new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]);function F(e,t,o){const{fragment:c,on_mount:a,on_destroy:i,after_update:s}=e.$$;c&&c.m(t,o),x(()=>{const t=a.map(n).filter(r);i?i.push(...t):l(t),e.$$.on_mount=[]}),s.forEach(x)}function N(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}"function"==typeof HTMLElement&&HTMLElement;class B{$destroy(){N(this,1),this.$destroy=t}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!c(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}e.SvelteComponent=B,e.append=i,e.attr=h,e.binding_callbacks=_,e.check_outros=L,e.create_component=function(e){e&&e.c()},e.destroy_component=N,e.destroy_each=function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)},e.detach=u,e.element=f,e.empty=function(){return d("")},e.group_outros=O,e.init=function(n,r,c,a,i,s,f=[-1]){const d=e.current_component;m(n);const p=r.props||{},h=n.$$={fragment:null,ctx:null,props:s,update:t,not_equal:i,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:o(),dirty:f,skip_bound:!1};let _=!1;if(h.ctx=c?c(n,p,(e,t,...o)=>{const l=o.length?o[0]:t;return h.ctx&&i(h.ctx[e],h.ctx[e]=l)&&(!h.skip_bound&&h.bound[e]&&h.bound[e](l),_&&function(e,t){-1===e.$$.dirty[0]&&(y.push(e),k(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(n,e)),t}):[],h.update(),_=!0,l(h.before_update),h.fragment=!!a&&a(h.ctx),r.target){if(r.hydrate){const e=g(r.target);h.fragment&&h.fragment.l(e),e.forEach(u)}else h.fragment&&h.fragment.c();r.intro&&A(n.$$.fragment),F(n,r.target,r.anchor),S()}m(d)},e.insert=s,e.listen=p,e.mount_component=F,e.noop=t,e.outro_and_destroy_block=H,e.safe_not_equal=function(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e},e.set_data=function(e,t){t=""+t,e.wholeText!==t&&(e.data=t)},e.space=function(){return d(" ")},e.text=d,e.transition_in=A,e.transition_out=C,e.update_keyed_each=function(e,t,n,o,l,r,c,a,i,s,u,f){let d=e.length,p=r.length,h=d;const g={};for(;h--;)g[e[h].key]=h;const m=[],y=new Map,_=new Map;for(h=p;h--;){const e=f(l,r,h),a=n(e);let i=c.get(a);i?o&&i.p(e,t):(i=s(a,e)).c(),y.set(a,m[h]=i),a in g&&_.set(a,Math.abs(h-g[a]))}const b=new Set,$=new Set;function v(e){A(e,1),e.m(a,u),c.set(e.key,e),u=e.first,p--}for(;d&&p;){const t=m[p-1],n=e[d-1],o=t.key,l=n.key;t===n?(u=t.first,d--,p--):y.has(l)?!c.has(o)||b.has(o)?v(t):$.has(l)?d--:_.get(o)>_.get(l)?($.add(o),v(t)):(b.add(l),d--):(i(n,c),d--)}for(;d--;){const t=e[d];y.has(t.key)||i(t,c)}for(;p;)v(m[p-1]);return m}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const{SvelteComponent:t,attr:n,binding_callbacks:o,detach:l,element:r,init:c,insert:a,noop:i,safe_not_equal:s}=e;function u(e){let t;return{c(){t=r("div"),n(t,"class",e[0])},m(n,o){a(n,t,o),t.innerHTML=e[1],e[3](t)},p(e,[o]){2&o&&(t.innerHTML=e[1]),1&o&&n(t,"class",e[0])},i:i,o:i,d(n){n&&l(t),e[3](null)}}}function f(e,t,n){let l,{classes:r=""}=t,{data:c=""}=t,a={};return e.$$set=e=>{"classes"in e&&n(0,r=e.classes),"data"in e&&n(1,c=e.data)},e.$$.update=()=>{4&e.$$.dirty&&l&&l.querySelectorAll("script").forEach(e=>function(e){if(void 0===a[e]){a[e]=!0;try{new Function(e)()}catch(t){console.error(t)}}}(e.innerHTML))},[r,c,l,function(e){o[e?"unshift":"push"](()=>{n(2,l=e)})}]}var d=class extends t{constructor(e){super(),c(this,e,f,u,s,{classes:0,data:1})}};const{SvelteComponent:p,append:h,attr:g,check_outros:m,create_component:y,destroy_component:_,destroy_each:b,detach:$,element:v,empty:w,group_outros:k,init:x,insert:j,listen:M,mount_component:S,outro_and_destroy_block:T,safe_not_equal:E,set_data:q,space:O,text:L,transition_in:A,transition_out:C,update_keyed_each:H}=e;function F(e,t,n){const o=e.slice();return o[2]=t[n],o}function N(e,t,n){const o=e.slice();return o[5]=t[n],o}function B(e,t,n){const o=e.slice();return o[2]=t[n],o}function P(e){let t,n,o,l;return{c(){t=v("sup"),n=v("i"),l=O(),g(n,"class","far fa-question-circle"),g(t,"data-toggle","tooltip"),g(t,"title",o=e[0].description)},m(e,o){j(e,t,o),h(t,n),j(e,l,o)},p(e,n){1&n&&o!==(o=e[0].description)&&g(t,"title",o)},d(e){e&&$(t),e&&$(l)}}}function z(e){let t,n,o,l,r,c,a,i=e[2]+"";function s(){return e[1](e[2])}return{c(){t=v("a"),n=L(i),o=O(),g(t,"href","javascript:"),g(t,"class",l="nav-link"+(e[0].value==e[2]?" active":"")),g(t,"aria-controls",r="tab-content-"+e[0].name+"-"+e[2]),g(t,"data-toggle","tab"),g(t,"role","tab")},m(e,l){j(e,t,l),h(t,n),h(t,o),c||(a=M(t,"click",s),c=!0)},p(o,c){e=o,1&c&&i!==(i=e[2]+"")&&q(n,i),1&c&&l!==(l="nav-link"+(e[0].value==e[2]?" active":""))&&g(t,"class",l),1&c&&r!==(r="tab-content-"+e[0].name+"-"+e[2])&&g(t,"aria-controls",r)},d(e){e&&$(t),c=!1,a()}}}function D(e,t){let n,o,l;return o=new d({props:{data:t[0].field_renders[t[5].args.name]}}),{key:e,first:null,c(){n=w(),y(o.$$.fragment),this.first=n},m(e,t){j(e,n,t),S(o,e,t),l=!0},p(e,n){t=e;const l={};1&n&&(l.data=t[0].field_renders[t[5].args.name]),o.$set(l)},i(e){l||(A(o.$$.fragment,e),l=!0)},o(e){C(o.$$.fragment,e),l=!1},d(e){e&&$(n),_(o,e)}}}function G(e){let t,n,o,l,r=[],c=new Map,a=e[0].choices[e[2]];const i=e=>e[5].args.name;for(let s=0;s<a.length;s+=1){let t=N(e,a,s),n=i(t);c.set(n,r[s]=D(n,t))}return{c(){t=v("div");for(let e=0;e<r.length;e+=1)r[e].c();n=O(),g(t,"class",o="tab-pane fade"+(e[0].value==e[2]?" show active":"")),g(t,"role","tabpanel")},m(e,o){j(e,t,o);for(let n=0;n<r.length;n+=1)r[n].m(t,null);h(t,n),l=!0},p(e,s){1&s&&(a=e[0].choices[e[2]],k(),r=H(r,s,i,1,e,a,c,t,T,D,n,N),m()),(!l||1&s&&o!==(o="tab-pane fade"+(e[0].value==e[2]?" show active":"")))&&g(t,"class",o)},i(e){if(!l){for(let e=0;e<a.length;e+=1)A(r[e]);l=!0}},o(e){for(let t=0;t<r.length;t+=1)C(r[t]);l=!1},d(e){e&&$(t);for(let t=0;t<r.length;t+=1)r[t].d()}}}function I(e){let t,n,o,l,r,c,a,i,s,u,f,d,p,y,_,w,x=e[0].label+"",M=e[0].description&&P(e),S=Object.keys(e[0].choices),T=[];for(let h=0;h<S.length;h+=1)T[h]=z(B(e,S,h));let E=Object.keys(e[0].choices),H=[];for(let h=0;h<E.length;h+=1)H[h]=G(F(e,E,h));const N=e=>C(H[e],1,1,()=>{H[e]=null});return{c(){t=v("div"),n=v("div"),o=L(x),l=O(),M&&M.c(),r=L(":"),c=O(),a=v("div"),i=v("div");for(let e=0;e<T.length;e+=1)T[e].c();s=O(),u=v("div"),f=v("div");for(let e=0;e<H.length;e+=1)H[e].c();d=O(),p=v("input"),g(n,"class","col-lg-2 bold text-lg-right my-auto"),g(i,"class","nav flex-column nav-pills nav-justified"),g(i,"aria-orientation","vertical"),g(i,"role","tablist"),g(a,"class","col-lg-2 pt-2 pt-lg-0"),g(f,"class","tab-content"),g(u,"class","col-lg-8 pt-2 pt-lg-0"),g(p,"type","text"),g(p,"class","hidden"),g(p,"name",y=e[0].name),p.value=_=e[0].value,g(t,"class","row px-4 px-lg-3 pb-4")},m(e,g){j(e,t,g),h(t,n),h(n,o),h(n,l),M&&M.m(n,null),h(n,r),h(t,c),h(t,a),h(a,i);for(let t=0;t<T.length;t+=1)T[t].m(i,null);h(t,s),h(t,u),h(u,f);for(let t=0;t<H.length;t+=1)H[t].m(f,null);h(t,d),h(t,p),w=!0},p(e,[t]){if((!w||1&t)&&x!==(x=e[0].label+"")&&q(o,x),e[0].description?M?M.p(e,t):((M=P(e)).c(),M.m(n,r)):M&&(M.d(1),M=null),1&t){let n;for(S=Object.keys(e[0].choices),n=0;n<S.length;n+=1){const o=B(e,S,n);T[n]?T[n].p(o,t):(T[n]=z(o),T[n].c(),T[n].m(i,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=S.length}if(1&t){let n;for(E=Object.keys(e[0].choices),n=0;n<E.length;n+=1){const o=F(e,E,n);H[n]?(H[n].p(o,t),A(H[n],1)):(H[n]=G(o),H[n].c(),A(H[n],1),H[n].m(f,null))}for(k(),n=E.length;n<H.length;n+=1)N(n);m()}(!w||1&t&&y!==(y=e[0].name))&&g(p,"name",y),(!w||1&t&&_!==(_=e[0].value)&&p.value!==_)&&(p.value=_)},i(e){if(!w){for(let e=0;e<E.length;e+=1)A(H[e]);w=!0}},o(e){H=H.filter(Boolean);for(let t=0;t<H.length;t+=1)C(H[t]);w=!1},d(e){e&&$(t),M&&M.d(),b(T,e),b(H,e)}}}function J(e,t,n){let{args:o}=t;return e.$$set=e=>{"args"in e&&n(0,o=e.args)},[o,e=>n(0,o.value=e,o)]}return class extends p{constructor(e){super(),x(this,e,J,I,E,{args:0})}}}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy8ucG5wbS9icm93c2VyLXBhY2stZmxhdEAzLjQuMi9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrLWZsYXQvX3ByZWx1ZGUiLCJub2RlX21vZHVsZXMvLnBucG0vc3ZlbHRlQDMuMzEuMi9ub2RlX21vZHVsZXMvc3ZlbHRlL2ludGVybmFsL25vZGVfbW9kdWxlcy9zdmVsdGUvaW50ZXJuYWwvaW5kZXguanMiLCJjb21wb25lbnRzL0hUTUwuc3ZlbHRlIiwicHJvZmlsZXMvZGVmYXVsdC9zdGF0aWMvanMvZmllbGRzL1RhYkZpZWxkLnN2ZWx0ZSJdLCJuYW1lcyI6WyJmIiwiZXhwb3J0cyIsIm1vZHVsZSIsImRlZmluZSIsImFtZCIsImciLCJ3aW5kb3ciLCJnbG9iYWwiLCJzZWxmIiwidGhpcyIsIlRhYkZpZWxkIiwic3ZlbHRlIiwiXyRpbnRlcm5hbF8yIiwibm9vcCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJydW4iLCJmbiIsImJsYW5rX29iamVjdCIsImNyZWF0ZSIsInJ1bl9hbGwiLCJmbnMiLCJmb3JFYWNoIiwiaXNfZnVuY3Rpb24iLCJ0aGluZyIsImlzX2VtcHR5Iiwib2JqIiwia2V5cyIsImxlbmd0aCIsImlzX2NsaWVudCIsInJhZiIsImNiIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiU2V0IiwiYXBwZW5kIiwidGFyZ2V0Iiwibm9kZSIsImFwcGVuZENoaWxkIiwiaW5zZXJ0IiwiYW5jaG9yIiwiaW5zZXJ0QmVmb3JlIiwiZGV0YWNoIiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwiZWxlbWVudCIsIm5hbWUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0IiwiZGF0YSIsImNyZWF0ZVRleHROb2RlIiwibGlzdGVuIiwiZXZlbnQiLCJoYW5kbGVyIiwib3B0aW9ucyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYXR0ciIsImF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsImdldEF0dHJpYnV0ZSIsInNldEF0dHJpYnV0ZSIsImNoaWxkcmVuIiwiQXJyYXkiLCJmcm9tIiwiY2hpbGROb2RlcyIsInNldF9jdXJyZW50X2NvbXBvbmVudCIsImNvbXBvbmVudCIsImN1cnJlbnRfY29tcG9uZW50IiwiZGlydHlfY29tcG9uZW50cyIsImJpbmRpbmdfY2FsbGJhY2tzIiwicmVuZGVyX2NhbGxiYWNrcyIsImZsdXNoX2NhbGxiYWNrcyIsInJlc29sdmVkX3Byb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInVwZGF0ZV9zY2hlZHVsZWQiLCJzY2hlZHVsZV91cGRhdGUiLCJ0aGVuIiwiZmx1c2giLCJhZGRfcmVuZGVyX2NhbGxiYWNrIiwicHVzaCIsImZsdXNoaW5nIiwic2Vlbl9jYWxsYmFja3MiLCJpIiwidXBkYXRlIiwiJCQiLCJwb3AiLCJjYWxsYmFjayIsImhhcyIsImFkZCIsImNsZWFyIiwiZnJhZ21lbnQiLCJiZWZvcmVfdXBkYXRlIiwiZGlydHkiLCJwIiwiY3R4IiwiYWZ0ZXJfdXBkYXRlIiwib3V0cm9pbmciLCJvdXRyb3MiLCJncm91cF9vdXRyb3MiLCJyIiwiYyIsImNoZWNrX291dHJvcyIsInRyYW5zaXRpb25faW4iLCJibG9jayIsImxvY2FsIiwiZGVsZXRlIiwidHJhbnNpdGlvbl9vdXQiLCJvIiwiZCIsImdsb2JhbFRoaXMiLCJvdXRyb19hbmRfZGVzdHJveV9ibG9jayIsImxvb2t1cCIsImtleSIsIm1vdW50X2NvbXBvbmVudCIsIm9uX21vdW50Iiwib25fZGVzdHJveSIsIm0iLCJuZXdfb25fZGVzdHJveSIsIm1hcCIsImZpbHRlciIsImRlc3Ryb3lfY29tcG9uZW50IiwiZGV0YWNoaW5nIiwiSFRNTEVsZW1lbnQiLCJTdmVsdGVDb21wb25lbnQiLCJbb2JqZWN0IE9iamVjdF0iLCIkZGVzdHJveSIsInR5cGUiLCJjYWxsYmFja3MiLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCIkJHByb3BzIiwiJCRzZXQiLCJza2lwX2JvdW5kIiwiY3JlYXRlX2NvbXBvbmVudCIsImRlc3Ryb3lfZWFjaCIsIml0ZXJhdGlvbnMiLCJlbXB0eSIsImluaXQiLCJpbnN0YW5jZSIsImNyZWF0ZV9mcmFnbWVudCIsIm5vdF9lcXVhbCIsInByb3BzIiwicGFyZW50X2NvbXBvbmVudCIsInByb3BfdmFsdWVzIiwiYm91bmQiLCJjb250ZXh0IiwiTWFwIiwicmVhZHkiLCJyZXQiLCJyZXN0IiwiZmlsbCIsImh5ZHJhdGUiLCJub2RlcyIsImwiLCJpbnRybyIsInNhZmVfbm90X2VxdWFsIiwiYSIsImIiLCJzZXRfZGF0YSIsIndob2xlVGV4dCIsInNwYWNlIiwidXBkYXRlX2tleWVkX2VhY2giLCJvbGRfYmxvY2tzIiwiZ2V0X2tleSIsImR5bmFtaWMiLCJsaXN0IiwiZGVzdHJveSIsImNyZWF0ZV9lYWNoX2Jsb2NrIiwibmV4dCIsImdldF9jb250ZXh0IiwibiIsIm9sZF9pbmRleGVzIiwibmV3X2Jsb2NrcyIsIm5ld19sb29rdXAiLCJkZWx0YXMiLCJjaGlsZF9jdHgiLCJnZXQiLCJzZXQiLCJNYXRoIiwiYWJzIiwid2lsbF9tb3ZlIiwiZGlkX21vdmUiLCJmaXJzdCIsIm5ld19ibG9jayIsIm9sZF9ibG9jayIsIm5ld19rZXkiLCJvbGRfa2V5IiwiZGl2IiwiaW5uZXJIVE1MIiwiJCRzZWxmIiwiJCRpbnZhbGlkYXRlIiwicmVmIiwiY2xhc3NlcyIsImV2YWxlZCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbCIsInNyYyIsIkZ1bmN0aW9uIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsIiQkdmFsdWUiLCJfJEhUTUxfMSIsInN1cGVyIiwiX19TdmVsdGVDb21wb25lbnRfMyIsIl9fYXR0cl8zIiwiX19kZXRhY2hfMyIsIl9fZWxlbWVudF8zIiwiX19pbml0XzMiLCJfX2luc2VydF8zIiwiX19zYWZlX25vdF9lcXVhbF8zIiwiZ2V0X2VhY2hfY29udGV4dCIsInNsaWNlIiwiZ2V0X2VhY2hfY29udGV4dF8xIiwiZ2V0X2VhY2hfY29udGV4dF8yIiwiY3JlYXRlX2lmX2Jsb2NrIiwic3VwIiwic3VwX3RpdGxlX3ZhbHVlIiwidCIsImRlc2NyaXB0aW9uIiwiY3JlYXRlX2VhY2hfYmxvY2tfMiIsInQwIiwidDEiLCJhX2NsYXNzX3ZhbHVlIiwiYV9hcmlhX2NvbnRyb2xzX3ZhbHVlIiwibW91bnRlZCIsImRpc3Bvc2UiLCJ0MF92YWx1ZSIsImNsaWNrX2hhbmRsZXIiLCJuZXdfY3R4IiwiY3JlYXRlX2VhY2hfYmxvY2tfMSIsImtleV8xIiwiaHRtbCIsImN1cnJlbnQiLCJmaWVsZF9yZW5kZXJzIiwiYXJncyIsImh0bWxfY2hhbmdlcyIsIiRzZXQiLCJkaXZfY2xhc3NfdmFsdWUiLCJlYWNoX2Jsb2NrcyIsImVhY2hfMV9sb29rdXAiLCJlYWNoX3ZhbHVlXzEiLCJjaG9pY2VzIiwiX19jcmVhdGVfZnJhZ21lbnRfMyIsImRpdjUiLCJkaXYwIiwidDIiLCJ0MyIsImRpdjIiLCJkaXYxIiwidDQiLCJkaXY0IiwiZGl2MyIsInQ1IiwiaW5wdXQiLCJpbnB1dF9uYW1lX3ZhbHVlIiwiaW5wdXRfdmFsdWVfdmFsdWUiLCJsYWJlbCIsImlmX2Jsb2NrIiwiZWFjaF92YWx1ZV8yIiwiZWFjaF9ibG9ja3NfMSIsImVhY2hfdmFsdWUiLCJvdXQiLCJCb29sZWFuIiwiX19pbnN0YW5jZV8zIiwiY2hvaWNlX25hbWUiXSwibWFwcGluZ3MiOiJDQUFBLFNBQUFBLEdBQUEsR0FBQSxpQkFBQUMsU0FBQSxvQkFBQUMsT0FBQUEsT0FBQUQsUUFBQUQsU0FBQSxHQUFBLG1CQUFBRyxRQUFBQSxPQUFBQyxJQUFBRCxPQUFBLEdBQUFILE9BQUEsQ0FBQSxJQUFBSyxJQUFBQSxFQUFBLG9CQUFBQyxPQUFBQSxPQUFBLG9CQUFBQyxPQUFBQSxPQUFBLG9CQUFBQyxLQUFBQSxLQUFBQyxNQUFBQyxXQUFBTCxFQUFBSyxTQUFBLEtBQUFDLE9BQUFYLEtBQUEsRUFBQSxXQUFBLElBQ0FZLEVBQUEsNEJDREEsYUFJQSxTQUFTQyxLQUZUQyxPQUFPQyxlQUFlSCxFQUFTLGFBQWMsQ0FBRUks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RUFBQThCLEdBQUEzRSxFQUFBLEVBQUE2QyxFQUFBL04sTUFBQTZQLEVBQUE5QixJQ0FBLE9EQUEsY0FBQS9CLEVBQUFqRixZQUFBeEUsR0FBQXdKLFFBQUFLLEVBQUEzTSxLQUFBOEMsRUFBQXFOLEVBQUFyQixFQUFBakMsRUFBQSxDQUFBeUIsS0FBQSIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbihmKXtpZih0eXBlb2YgZXhwb3J0cz09PVwib2JqZWN0XCImJnR5cGVvZiBtb2R1bGUhPT1cInVuZGVmaW5lZFwiKXttb2R1bGUuZXhwb3J0cz1mKCl9ZWxzZSBpZih0eXBlb2YgZGVmaW5lPT09XCJmdW5jdGlvblwiJiZkZWZpbmUuYW1kKXtkZWZpbmUoW10sZil9ZWxzZXt2YXIgZztpZih0eXBlb2Ygd2luZG93IT09XCJ1bmRlZmluZWRcIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09XCJ1bmRlZmluZWRcIil7Zz1nbG9iYWx9ZWxzZSBpZih0eXBlb2Ygc2VsZiE9PVwidW5kZWZpbmVkXCIpe2c9c2VsZn1lbHNle2c9dGhpc30oZy5UYWJGaWVsZCB8fCAoZy5UYWJGaWVsZCA9IHt9KSkuc3ZlbHRlID0gZigpfX0pKGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxuZnVuY3Rpb24gbm9vcCgpIHsgfVxuY29uc3QgaWRlbnRpdHkgPSB4ID0+IHg7XG5mdW5jdGlvbiBhc3NpZ24odGFyLCBzcmMpIHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgZm9yIChjb25zdCBrIGluIHNyYylcbiAgICAgICAgdGFyW2tdID0gc3JjW2tdO1xuICAgIHJldHVybiB0YXI7XG59XG5mdW5jdGlvbiBpc19wcm9taXNlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIHZhbHVlLnRoZW4gPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBhZGRfbG9jYXRpb24oZWxlbWVudCwgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyKSB7XG4gICAgZWxlbWVudC5fX3N2ZWx0ZV9tZXRhID0ge1xuICAgICAgICBsb2M6IHsgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gcnVuKGZuKSB7XG4gICAgcmV0dXJuIGZuKCk7XG59XG5mdW5jdGlvbiBibGFua19vYmplY3QoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5jcmVhdGUobnVsbCk7XG59XG5mdW5jdGlvbiBydW5fYWxsKGZucykge1xuICAgIGZucy5mb3JFYWNoKHJ1bik7XG59XG5mdW5jdGlvbiBpc19mdW5jdGlvbih0aGluZykge1xuICAgIHJldHVybiB0eXBlb2YgdGhpbmcgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBzYWZlX25vdF9lcXVhbChhLCBiKSB7XG4gICAgcmV0dXJuIGEgIT0gYSA/IGIgPT0gYiA6IGEgIT09IGIgfHwgKChhICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JykgfHwgdHlwZW9mIGEgPT09ICdmdW5jdGlvbicpO1xufVxuZnVuY3Rpb24gbm90X2VxdWFsKGEsIGIpIHtcbiAgICByZXR1cm4gYSAhPSBhID8gYiA9PSBiIDogYSAhPT0gYjtcbn1cbmZ1bmN0aW9uIGlzX2VtcHR5KG9iaikge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX3N0b3JlKHN0b3JlLCBuYW1lKSB7XG4gICAgaWYgKHN0b3JlICE9IG51bGwgJiYgdHlwZW9mIHN0b3JlLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCcke25hbWV9JyBpcyBub3QgYSBzdG9yZSB3aXRoIGEgJ3N1YnNjcmliZScgbWV0aG9kYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gc3Vic2NyaWJlKHN0b3JlLCAuLi5jYWxsYmFja3MpIHtcbiAgICBpZiAoc3RvcmUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICB9XG4gICAgY29uc3QgdW5zdWIgPSBzdG9yZS5zdWJzY3JpYmUoLi4uY2FsbGJhY2tzKTtcbiAgICByZXR1cm4gdW5zdWIudW5zdWJzY3JpYmUgPyAoKSA9PiB1bnN1Yi51bnN1YnNjcmliZSgpIDogdW5zdWI7XG59XG5mdW5jdGlvbiBnZXRfc3RvcmVfdmFsdWUoc3RvcmUpIHtcbiAgICBsZXQgdmFsdWU7XG4gICAgc3Vic2NyaWJlKHN0b3JlLCBfID0+IHZhbHVlID0gXykoKTtcbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBjb21wb25lbnRfc3Vic2NyaWJlKGNvbXBvbmVudCwgc3RvcmUsIGNhbGxiYWNrKSB7XG4gICAgY29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kucHVzaChzdWJzY3JpYmUoc3RvcmUsIGNhbGxiYWNrKSk7XG59XG5mdW5jdGlvbiBjcmVhdGVfc2xvdChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG4gICAgaWYgKGRlZmluaXRpb24pIHtcbiAgICAgICAgY29uc3Qgc2xvdF9jdHggPSBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pO1xuICAgICAgICByZXR1cm4gZGVmaW5pdGlvblswXShzbG90X2N0eCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0X3Nsb3RfY29udGV4dChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG4gICAgcmV0dXJuIGRlZmluaXRpb25bMV0gJiYgZm5cbiAgICAgICAgPyBhc3NpZ24oJCRzY29wZS5jdHguc2xpY2UoKSwgZGVmaW5pdGlvblsxXShmbihjdHgpKSlcbiAgICAgICAgOiAkJHNjb3BlLmN0eDtcbn1cbmZ1bmN0aW9uIGdldF9zbG90X2NoYW5nZXMoZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGZuKSB7XG4gICAgaWYgKGRlZmluaXRpb25bMl0gJiYgZm4pIHtcbiAgICAgICAgY29uc3QgbGV0cyA9IGRlZmluaXRpb25bMl0oZm4oZGlydHkpKTtcbiAgICAgICAgaWYgKCQkc2NvcGUuZGlydHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxldHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBsZXRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkID0gW107XG4gICAgICAgICAgICBjb25zdCBsZW4gPSBNYXRoLm1heCgkJHNjb3BlLmRpcnR5Lmxlbmd0aCwgbGV0cy5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIG1lcmdlZFtpXSA9ICQkc2NvcGUuZGlydHlbaV0gfCBsZXRzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG1lcmdlZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJCRzY29wZS5kaXJ0eSB8IGxldHM7XG4gICAgfVxuICAgIHJldHVybiAkJHNjb3BlLmRpcnR5O1xufVxuZnVuY3Rpb24gdXBkYXRlX3Nsb3Qoc2xvdCwgc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGRpcnR5LCBnZXRfc2xvdF9jaGFuZ2VzX2ZuLCBnZXRfc2xvdF9jb250ZXh0X2ZuKSB7XG4gICAgY29uc3Qgc2xvdF9jaGFuZ2VzID0gZ2V0X3Nsb3RfY2hhbmdlcyhzbG90X2RlZmluaXRpb24sICQkc2NvcGUsIGRpcnR5LCBnZXRfc2xvdF9jaGFuZ2VzX2ZuKTtcbiAgICBpZiAoc2xvdF9jaGFuZ2VzKSB7XG4gICAgICAgIGNvbnN0IHNsb3RfY29udGV4dCA9IGdldF9zbG90X2NvbnRleHQoc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGdldF9zbG90X2NvbnRleHRfZm4pO1xuICAgICAgICBzbG90LnAoc2xvdF9jb250ZXh0LCBzbG90X2NoYW5nZXMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHVwZGF0ZV9zbG90X3NwcmVhZChzbG90LCBzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZGlydHksIGdldF9zbG90X2NoYW5nZXNfZm4sIGdldF9zbG90X3NwcmVhZF9jaGFuZ2VzX2ZuLCBnZXRfc2xvdF9jb250ZXh0X2ZuKSB7XG4gICAgY29uc3Qgc2xvdF9jaGFuZ2VzID0gZ2V0X3Nsb3Rfc3ByZWFkX2NoYW5nZXNfZm4oZGlydHkpIHwgZ2V0X3Nsb3RfY2hhbmdlcyhzbG90X2RlZmluaXRpb24sICQkc2NvcGUsIGRpcnR5LCBnZXRfc2xvdF9jaGFuZ2VzX2ZuKTtcbiAgICBpZiAoc2xvdF9jaGFuZ2VzKSB7XG4gICAgICAgIGNvbnN0IHNsb3RfY29udGV4dCA9IGdldF9zbG90X2NvbnRleHQoc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGdldF9zbG90X2NvbnRleHRfZm4pO1xuICAgICAgICBzbG90LnAoc2xvdF9jb250ZXh0LCBzbG90X2NoYW5nZXMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGV4Y2x1ZGVfaW50ZXJuYWxfcHJvcHMocHJvcHMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGsgaW4gcHJvcHMpXG4gICAgICAgIGlmIChrWzBdICE9PSAnJCcpXG4gICAgICAgICAgICByZXN1bHRba10gPSBwcm9wc1trXTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY29tcHV0ZV9yZXN0X3Byb3BzKHByb3BzLCBrZXlzKSB7XG4gICAgY29uc3QgcmVzdCA9IHt9O1xuICAgIGtleXMgPSBuZXcgU2V0KGtleXMpO1xuICAgIGZvciAoY29uc3QgayBpbiBwcm9wcylcbiAgICAgICAgaWYgKCFrZXlzLmhhcyhrKSAmJiBrWzBdICE9PSAnJCcpXG4gICAgICAgICAgICByZXN0W2tdID0gcHJvcHNba107XG4gICAgcmV0dXJuIHJlc3Q7XG59XG5mdW5jdGlvbiBjb21wdXRlX3Nsb3RzKHNsb3RzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2xvdHMpIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gb25jZShmbikge1xuICAgIGxldCByYW4gPSBmYWxzZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHJhbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmFuID0gdHJ1ZTtcbiAgICAgICAgZm4uY2FsbCh0aGlzLCAuLi5hcmdzKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gbnVsbF90b19lbXB0eSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cbmZ1bmN0aW9uIHNldF9zdG9yZV92YWx1ZShzdG9yZSwgcmV0LCB2YWx1ZSA9IHJldCkge1xuICAgIHN0b3JlLnNldCh2YWx1ZSk7XG4gICAgcmV0dXJuIHJldDtcbn1cbmNvbnN0IGhhc19wcm9wID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG5mdW5jdGlvbiBhY3Rpb25fZGVzdHJveWVyKGFjdGlvbl9yZXN1bHQpIHtcbiAgICByZXR1cm4gYWN0aW9uX3Jlc3VsdCAmJiBpc19mdW5jdGlvbihhY3Rpb25fcmVzdWx0LmRlc3Ryb3kpID8gYWN0aW9uX3Jlc3VsdC5kZXN0cm95IDogbm9vcDtcbn1cblxuY29uc3QgaXNfY2xpZW50ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG5leHBvcnRzLm5vdyA9IGlzX2NsaWVudFxuICAgID8gKCkgPT4gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpXG4gICAgOiAoKSA9PiBEYXRlLm5vdygpO1xuZXhwb3J0cy5yYWYgPSBpc19jbGllbnQgPyBjYiA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpIDogbm9vcDtcbi8vIHVzZWQgaW50ZXJuYWxseSBmb3IgdGVzdGluZ1xuZnVuY3Rpb24gc2V0X25vdyhmbikge1xuICAgIGV4cG9ydHMubm93ID0gZm47XG59XG5mdW5jdGlvbiBzZXRfcmFmKGZuKSB7XG4gICAgZXhwb3J0cy5yYWYgPSBmbjtcbn1cblxuY29uc3QgdGFza3MgPSBuZXcgU2V0KCk7XG5mdW5jdGlvbiBydW5fdGFza3Mobm93KSB7XG4gICAgdGFza3MuZm9yRWFjaCh0YXNrID0+IHtcbiAgICAgICAgaWYgKCF0YXNrLmMobm93KSkge1xuICAgICAgICAgICAgdGFza3MuZGVsZXRlKHRhc2spO1xuICAgICAgICAgICAgdGFzay5mKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAodGFza3Muc2l6ZSAhPT0gMClcbiAgICAgICAgZXhwb3J0cy5yYWYocnVuX3Rhc2tzKTtcbn1cbi8qKlxuICogRm9yIHRlc3RpbmcgcHVycG9zZXMgb25seSFcbiAqL1xuZnVuY3Rpb24gY2xlYXJfbG9vcHMoKSB7XG4gICAgdGFza3MuY2xlYXIoKTtcbn1cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB0YXNrIHRoYXQgcnVucyBvbiBlYWNoIHJhZiBmcmFtZVxuICogdW50aWwgaXQgcmV0dXJucyBhIGZhbHN5IHZhbHVlIG9yIGlzIGFib3J0ZWRcbiAqL1xuZnVuY3Rpb24gbG9vcChjYWxsYmFjaykge1xuICAgIGxldCB0YXNrO1xuICAgIGlmICh0YXNrcy5zaXplID09PSAwKVxuICAgICAgICBleHBvcnRzLnJhZihydW5fdGFza3MpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHByb21pc2U6IG5ldyBQcm9taXNlKGZ1bGZpbGwgPT4ge1xuICAgICAgICAgICAgdGFza3MuYWRkKHRhc2sgPSB7IGM6IGNhbGxiYWNrLCBmOiBmdWxmaWxsIH0pO1xuICAgICAgICB9KSxcbiAgICAgICAgYWJvcnQoKSB7XG4gICAgICAgICAgICB0YXNrcy5kZWxldGUodGFzayk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBhcHBlbmQodGFyZ2V0LCBub2RlKSB7XG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKG5vZGUpO1xufVxuZnVuY3Rpb24gaW5zZXJ0KHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG4gICAgdGFyZ2V0Lmluc2VydEJlZm9yZShub2RlLCBhbmNob3IgfHwgbnVsbCk7XG59XG5mdW5jdGlvbiBkZXRhY2gobm9kZSkge1xuICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbn1cbmZ1bmN0aW9uIGRlc3Ryb3lfZWFjaChpdGVyYXRpb25zLCBkZXRhY2hpbmcpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZXJhdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGl0ZXJhdGlvbnNbaV0pXG4gICAgICAgICAgICBpdGVyYXRpb25zW2ldLmQoZGV0YWNoaW5nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBlbGVtZW50KG5hbWUpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTtcbn1cbmZ1bmN0aW9uIGVsZW1lbnRfaXMobmFtZSwgaXMpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lLCB7IGlzIH0pO1xufVxuZnVuY3Rpb24gb2JqZWN0X3dpdGhvdXRfcHJvcGVydGllcyhvYmosIGV4Y2x1ZGUpIHtcbiAgICBjb25zdCB0YXJnZXQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGsgaW4gb2JqKSB7XG4gICAgICAgIGlmIChoYXNfcHJvcChvYmosIGspXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAmJiBleGNsdWRlLmluZGV4T2YoaykgPT09IC0xKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB0YXJnZXRba10gPSBvYmpba107XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIHN2Z19lbGVtZW50KG5hbWUpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIG5hbWUpO1xufVxuZnVuY3Rpb24gdGV4dChkYXRhKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRhdGEpO1xufVxuZnVuY3Rpb24gc3BhY2UoKSB7XG4gICAgcmV0dXJuIHRleHQoJyAnKTtcbn1cbmZ1bmN0aW9uIGVtcHR5KCkge1xuICAgIHJldHVybiB0ZXh0KCcnKTtcbn1cbmZ1bmN0aW9uIGxpc3Rlbihub2RlLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgcmV0dXJuICgpID0+IG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBwcmV2ZW50X2RlZmF1bHQoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG59XG5mdW5jdGlvbiBzdG9wX3Byb3BhZ2F0aW9uKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHNlbGYoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PT0gdGhpcylcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG59XG5mdW5jdGlvbiBhdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgbm9kZS5yZW1vdmVBdHRyaWJ1dGUoYXR0cmlidXRlKTtcbiAgICBlbHNlIGlmIChub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpICE9PSB2YWx1ZSlcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBzZXRfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobm9kZS5fX3Byb3RvX18pO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZXNba2V5XSA9PSBudWxsKSB7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ3N0eWxlJykge1xuICAgICAgICAgICAgbm9kZS5zdHlsZS5jc3NUZXh0ID0gYXR0cmlidXRlc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gJ19fdmFsdWUnKSB7XG4gICAgICAgICAgICBub2RlLnZhbHVlID0gbm9kZVtrZXldID0gYXR0cmlidXRlc1trZXldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRlc2NyaXB0b3JzW2tleV0gJiYgZGVzY3JpcHRvcnNba2V5XS5zZXQpIHtcbiAgICAgICAgICAgIG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0X3N2Z19hdHRyaWJ1dGVzKG5vZGUsIGF0dHJpYnV0ZXMpIHtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldF9jdXN0b21fZWxlbWVudF9kYXRhKG5vZGUsIHByb3AsIHZhbHVlKSB7XG4gICAgaWYgKHByb3AgaW4gbm9kZSkge1xuICAgICAgICBub2RlW3Byb3BdID0gdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhdHRyKG5vZGUsIHByb3AsIHZhbHVlKTtcbiAgICB9XG59XG5mdW5jdGlvbiB4bGlua19hdHRyKG5vZGUsIGF0dHJpYnV0ZSwgdmFsdWUpIHtcbiAgICBub2RlLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgYXR0cmlidXRlLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBnZXRfYmluZGluZ19ncm91cF92YWx1ZShncm91cCwgX192YWx1ZSwgY2hlY2tlZCkge1xuICAgIGNvbnN0IHZhbHVlID0gbmV3IFNldCgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXAubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGdyb3VwW2ldLmNoZWNrZWQpXG4gICAgICAgICAgICB2YWx1ZS5hZGQoZ3JvdXBbaV0uX192YWx1ZSk7XG4gICAgfVxuICAgIGlmICghY2hlY2tlZCkge1xuICAgICAgICB2YWx1ZS5kZWxldGUoX192YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBBcnJheS5mcm9tKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHRvX251bWJlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gJycgPyBudWxsIDogK3ZhbHVlO1xufVxuZnVuY3Rpb24gdGltZV9yYW5nZXNfdG9fYXJyYXkocmFuZ2VzKSB7XG4gICAgY29uc3QgYXJyYXkgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBhcnJheS5wdXNoKHsgc3RhcnQ6IHJhbmdlcy5zdGFydChpKSwgZW5kOiByYW5nZXMuZW5kKGkpIH0pO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59XG5mdW5jdGlvbiBjaGlsZHJlbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20oZWxlbWVudC5jaGlsZE5vZGVzKTtcbn1cbmZ1bmN0aW9uIGNsYWltX2VsZW1lbnQobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMsIHN2Zykge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuICAgICAgICBpZiAobm9kZS5ub2RlTmFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgbGV0IGogPSAwO1xuICAgICAgICAgICAgY29uc3QgcmVtb3ZlID0gW107XG4gICAgICAgICAgICB3aGlsZSAoaiA8IG5vZGUuYXR0cmlidXRlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGUgPSBub2RlLmF0dHJpYnV0ZXNbaisrXTtcbiAgICAgICAgICAgICAgICBpZiAoIWF0dHJpYnV0ZXNbYXR0cmlidXRlLm5hbWVdKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZS5wdXNoKGF0dHJpYnV0ZS5uYW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IHJlbW92ZS5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKHJlbW92ZVtrXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbm9kZXMuc3BsaWNlKGksIDEpWzBdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdmcgPyBzdmdfZWxlbWVudChuYW1lKSA6IGVsZW1lbnQobmFtZSk7XG59XG5mdW5jdGlvbiBjbGFpbV90ZXh0KG5vZGVzLCBkYXRhKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAzKSB7XG4gICAgICAgICAgICBub2RlLmRhdGEgPSAnJyArIGRhdGE7XG4gICAgICAgICAgICByZXR1cm4gbm9kZXMuc3BsaWNlKGksIDEpWzBdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0ZXh0KGRhdGEpO1xufVxuZnVuY3Rpb24gY2xhaW1fc3BhY2Uobm9kZXMpIHtcbiAgICByZXR1cm4gY2xhaW1fdGV4dChub2RlcywgJyAnKTtcbn1cbmZ1bmN0aW9uIHNldF9kYXRhKHRleHQsIGRhdGEpIHtcbiAgICBkYXRhID0gJycgKyBkYXRhO1xuICAgIGlmICh0ZXh0Lndob2xlVGV4dCAhPT0gZGF0YSlcbiAgICAgICAgdGV4dC5kYXRhID0gZGF0YTtcbn1cbmZ1bmN0aW9uIHNldF9pbnB1dF92YWx1ZShpbnB1dCwgdmFsdWUpIHtcbiAgICBpbnB1dC52YWx1ZSA9IHZhbHVlID09IG51bGwgPyAnJyA6IHZhbHVlO1xufVxuZnVuY3Rpb24gc2V0X2lucHV0X3R5cGUoaW5wdXQsIHR5cGUpIHtcbiAgICB0cnkge1xuICAgICAgICBpbnB1dC50eXBlID0gdHlwZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNldF9zdHlsZShub2RlLCBrZXksIHZhbHVlLCBpbXBvcnRhbnQpIHtcbiAgICBub2RlLnN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFsdWUsIGltcG9ydGFudCA/ICdpbXBvcnRhbnQnIDogJycpO1xufVxuZnVuY3Rpb24gc2VsZWN0X29wdGlvbihzZWxlY3QsIHZhbHVlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Qub3B0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tpXTtcbiAgICAgICAgaWYgKG9wdGlvbi5fX3ZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHNlbGVjdF9vcHRpb25zKHNlbGVjdCwgdmFsdWUpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW2ldO1xuICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB+dmFsdWUuaW5kZXhPZihvcHRpb24uX192YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2VsZWN0X3ZhbHVlKHNlbGVjdCkge1xuICAgIGNvbnN0IHNlbGVjdGVkX29wdGlvbiA9IHNlbGVjdC5xdWVyeVNlbGVjdG9yKCc6Y2hlY2tlZCcpIHx8IHNlbGVjdC5vcHRpb25zWzBdO1xuICAgIHJldHVybiBzZWxlY3RlZF9vcHRpb24gJiYgc2VsZWN0ZWRfb3B0aW9uLl9fdmFsdWU7XG59XG5mdW5jdGlvbiBzZWxlY3RfbXVsdGlwbGVfdmFsdWUoc2VsZWN0KSB7XG4gICAgcmV0dXJuIFtdLm1hcC5jYWxsKHNlbGVjdC5xdWVyeVNlbGVjdG9yQWxsKCc6Y2hlY2tlZCcpLCBvcHRpb24gPT4gb3B0aW9uLl9fdmFsdWUpO1xufVxuLy8gdW5mb3J0dW5hdGVseSB0aGlzIGNhbid0IGJlIGEgY29uc3RhbnQgYXMgdGhhdCB3b3VsZG4ndCBiZSB0cmVlLXNoYWtlYWJsZVxuLy8gc28gd2UgY2FjaGUgdGhlIHJlc3VsdCBpbnN0ZWFkXG5sZXQgY3Jvc3NvcmlnaW47XG5mdW5jdGlvbiBpc19jcm9zc29yaWdpbigpIHtcbiAgICBpZiAoY3Jvc3NvcmlnaW4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjcm9zc29yaWdpbiA9IGZhbHNlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wYXJlbnQpIHtcbiAgICAgICAgICAgICAgICB2b2lkIHdpbmRvdy5wYXJlbnQuZG9jdW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjcm9zc29yaWdpbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNyb3Nzb3JpZ2luO1xufVxuZnVuY3Rpb24gYWRkX3Jlc2l6ZV9saXN0ZW5lcihub2RlLCBmbikge1xuICAgIGNvbnN0IGNvbXB1dGVkX3N0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICBpZiAoY29tcHV0ZWRfc3R5bGUucG9zaXRpb24gPT09ICdzdGF0aWMnKSB7XG4gICAgICAgIG5vZGUuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgIH1cbiAgICBjb25zdCBpZnJhbWUgPSBlbGVtZW50KCdpZnJhbWUnKTtcbiAgICBpZnJhbWUuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5OiBibG9jazsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7ICcgK1xuICAgICAgICAnb3ZlcmZsb3c6IGhpZGRlbjsgYm9yZGVyOiAwOyBvcGFjaXR5OiAwOyBwb2ludGVyLWV2ZW50czogbm9uZTsgei1pbmRleDogLTE7Jyk7XG4gICAgaWZyYW1lLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuICAgIGlmcmFtZS50YWJJbmRleCA9IC0xO1xuICAgIGNvbnN0IGNyb3Nzb3JpZ2luID0gaXNfY3Jvc3NvcmlnaW4oKTtcbiAgICBsZXQgdW5zdWJzY3JpYmU7XG4gICAgaWYgKGNyb3Nzb3JpZ2luKSB7XG4gICAgICAgIGlmcmFtZS5zcmMgPSBcImRhdGE6dGV4dC9odG1sLDxzY3JpcHQ+b25yZXNpemU9ZnVuY3Rpb24oKXtwYXJlbnQucG9zdE1lc3NhZ2UoMCwnKicpfTwvc2NyaXB0PlwiO1xuICAgICAgICB1bnN1YnNjcmliZSA9IGxpc3Rlbih3aW5kb3csICdtZXNzYWdlJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuc291cmNlID09PSBpZnJhbWUuY29udGVudFdpbmRvdylcbiAgICAgICAgICAgICAgICBmbigpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmcmFtZS5zcmMgPSAnYWJvdXQ6YmxhbmsnO1xuICAgICAgICBpZnJhbWUub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgdW5zdWJzY3JpYmUgPSBsaXN0ZW4oaWZyYW1lLmNvbnRlbnRXaW5kb3csICdyZXNpemUnLCBmbik7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGFwcGVuZChub2RlLCBpZnJhbWUpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGlmIChjcm9zc29yaWdpbikge1xuICAgICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh1bnN1YnNjcmliZSAmJiBpZnJhbWUuY29udGVudFdpbmRvdykge1xuICAgICAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgICAgICBkZXRhY2goaWZyYW1lKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gdG9nZ2xlX2NsYXNzKGVsZW1lbnQsIG5hbWUsIHRvZ2dsZSkge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0W3RvZ2dsZSA/ICdhZGQnIDogJ3JlbW92ZSddKG5hbWUpO1xufVxuZnVuY3Rpb24gY3VzdG9tX2V2ZW50KHR5cGUsIGRldGFpbCkge1xuICAgIGNvbnN0IGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgICBlLmluaXRDdXN0b21FdmVudCh0eXBlLCBmYWxzZSwgZmFsc2UsIGRldGFpbCk7XG4gICAgcmV0dXJuIGU7XG59XG5mdW5jdGlvbiBxdWVyeV9zZWxlY3Rvcl9hbGwoc2VsZWN0b3IsIHBhcmVudCA9IGRvY3VtZW50LmJvZHkpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbShwYXJlbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikpO1xufVxuY2xhc3MgSHRtbFRhZyB7XG4gICAgY29uc3RydWN0b3IoYW5jaG9yID0gbnVsbCkge1xuICAgICAgICB0aGlzLmEgPSBhbmNob3I7XG4gICAgICAgIHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG4gICAgfVxuICAgIG0oaHRtbCwgdGFyZ2V0LCBhbmNob3IgPSBudWxsKSB7XG4gICAgICAgIGlmICghdGhpcy5lKSB7XG4gICAgICAgICAgICB0aGlzLmUgPSBlbGVtZW50KHRhcmdldC5ub2RlTmFtZSk7XG4gICAgICAgICAgICB0aGlzLnQgPSB0YXJnZXQ7XG4gICAgICAgICAgICB0aGlzLmgoaHRtbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pKGFuY2hvcik7XG4gICAgfVxuICAgIGgoaHRtbCkge1xuICAgICAgICB0aGlzLmUuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgdGhpcy5uID0gQXJyYXkuZnJvbSh0aGlzLmUuY2hpbGROb2Rlcyk7XG4gICAgfVxuICAgIGkoYW5jaG9yKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBpbnNlcnQodGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcChodG1sKSB7XG4gICAgICAgIHRoaXMuZCgpO1xuICAgICAgICB0aGlzLmgoaHRtbCk7XG4gICAgICAgIHRoaXMuaSh0aGlzLmEpO1xuICAgIH1cbiAgICBkKCkge1xuICAgICAgICB0aGlzLm4uZm9yRWFjaChkZXRhY2gpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGF0dHJpYnV0ZV90b19vYmplY3QoYXR0cmlidXRlcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgcmVzdWx0W2F0dHJpYnV0ZS5uYW1lXSA9IGF0dHJpYnV0ZS52YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGdldF9jdXN0b21fZWxlbWVudHNfc2xvdHMoZWxlbWVudCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHt9O1xuICAgIGVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgICAgIHJlc3VsdFtub2RlLnNsb3QgfHwgJ2RlZmF1bHQnXSA9IHRydWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cblxuY29uc3QgYWN0aXZlX2RvY3MgPSBuZXcgU2V0KCk7XG5sZXQgYWN0aXZlID0gMDtcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXJrc2t5YXBwL3N0cmluZy1oYXNoL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG5mdW5jdGlvbiBoYXNoKHN0cikge1xuICAgIGxldCBoYXNoID0gNTM4MTtcbiAgICBsZXQgaSA9IHN0ci5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSlcbiAgICAgICAgaGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpIF4gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgcmV0dXJuIGhhc2ggPj4+IDA7XG59XG5mdW5jdGlvbiBjcmVhdGVfcnVsZShub2RlLCBhLCBiLCBkdXJhdGlvbiwgZGVsYXksIGVhc2UsIGZuLCB1aWQgPSAwKSB7XG4gICAgY29uc3Qgc3RlcCA9IDE2LjY2NiAvIGR1cmF0aW9uO1xuICAgIGxldCBrZXlmcmFtZXMgPSAne1xcbic7XG4gICAgZm9yIChsZXQgcCA9IDA7IHAgPD0gMTsgcCArPSBzdGVwKSB7XG4gICAgICAgIGNvbnN0IHQgPSBhICsgKGIgLSBhKSAqIGVhc2UocCk7XG4gICAgICAgIGtleWZyYW1lcyArPSBwICogMTAwICsgYCV7JHtmbih0LCAxIC0gdCl9fVxcbmA7XG4gICAgfVxuICAgIGNvbnN0IHJ1bGUgPSBrZXlmcmFtZXMgKyBgMTAwJSB7JHtmbihiLCAxIC0gYil9fVxcbn1gO1xuICAgIGNvbnN0IG5hbWUgPSBgX19zdmVsdGVfJHtoYXNoKHJ1bGUpfV8ke3VpZH1gO1xuICAgIGNvbnN0IGRvYyA9IG5vZGUub3duZXJEb2N1bWVudDtcbiAgICBhY3RpdmVfZG9jcy5hZGQoZG9jKTtcbiAgICBjb25zdCBzdHlsZXNoZWV0ID0gZG9jLl9fc3ZlbHRlX3N0eWxlc2hlZXQgfHwgKGRvYy5fX3N2ZWx0ZV9zdHlsZXNoZWV0ID0gZG9jLmhlYWQuYXBwZW5kQ2hpbGQoZWxlbWVudCgnc3R5bGUnKSkuc2hlZXQpO1xuICAgIGNvbnN0IGN1cnJlbnRfcnVsZXMgPSBkb2MuX19zdmVsdGVfcnVsZXMgfHwgKGRvYy5fX3N2ZWx0ZV9ydWxlcyA9IHt9KTtcbiAgICBpZiAoIWN1cnJlbnRfcnVsZXNbbmFtZV0pIHtcbiAgICAgICAgY3VycmVudF9ydWxlc1tuYW1lXSA9IHRydWU7XG4gICAgICAgIHN0eWxlc2hlZXQuaW5zZXJ0UnVsZShgQGtleWZyYW1lcyAke25hbWV9ICR7cnVsZX1gLCBzdHlsZXNoZWV0LmNzc1J1bGVzLmxlbmd0aCk7XG4gICAgfVxuICAgIGNvbnN0IGFuaW1hdGlvbiA9IG5vZGUuc3R5bGUuYW5pbWF0aW9uIHx8ICcnO1xuICAgIG5vZGUuc3R5bGUuYW5pbWF0aW9uID0gYCR7YW5pbWF0aW9uID8gYCR7YW5pbWF0aW9ufSwgYCA6ICcnfSR7bmFtZX0gJHtkdXJhdGlvbn1tcyBsaW5lYXIgJHtkZWxheX1tcyAxIGJvdGhgO1xuICAgIGFjdGl2ZSArPSAxO1xuICAgIHJldHVybiBuYW1lO1xufVxuZnVuY3Rpb24gZGVsZXRlX3J1bGUobm9kZSwgbmFtZSkge1xuICAgIGNvbnN0IHByZXZpb3VzID0gKG5vZGUuc3R5bGUuYW5pbWF0aW9uIHx8ICcnKS5zcGxpdCgnLCAnKTtcbiAgICBjb25zdCBuZXh0ID0gcHJldmlvdXMuZmlsdGVyKG5hbWVcbiAgICAgICAgPyBhbmltID0+IGFuaW0uaW5kZXhPZihuYW1lKSA8IDAgLy8gcmVtb3ZlIHNwZWNpZmljIGFuaW1hdGlvblxuICAgICAgICA6IGFuaW0gPT4gYW5pbS5pbmRleE9mKCdfX3N2ZWx0ZScpID09PSAtMSAvLyByZW1vdmUgYWxsIFN2ZWx0ZSBhbmltYXRpb25zXG4gICAgKTtcbiAgICBjb25zdCBkZWxldGVkID0gcHJldmlvdXMubGVuZ3RoIC0gbmV4dC5sZW5ndGg7XG4gICAgaWYgKGRlbGV0ZWQpIHtcbiAgICAgICAgbm9kZS5zdHlsZS5hbmltYXRpb24gPSBuZXh0LmpvaW4oJywgJyk7XG4gICAgICAgIGFjdGl2ZSAtPSBkZWxldGVkO1xuICAgICAgICBpZiAoIWFjdGl2ZSlcbiAgICAgICAgICAgIGNsZWFyX3J1bGVzKCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY2xlYXJfcnVsZXMoKSB7XG4gICAgZXhwb3J0cy5yYWYoKCkgPT4ge1xuICAgICAgICBpZiAoYWN0aXZlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBhY3RpdmVfZG9jcy5mb3JFYWNoKGRvYyA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdHlsZXNoZWV0ID0gZG9jLl9fc3ZlbHRlX3N0eWxlc2hlZXQ7XG4gICAgICAgICAgICBsZXQgaSA9IHN0eWxlc2hlZXQuY3NzUnVsZXMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKGktLSlcbiAgICAgICAgICAgICAgICBzdHlsZXNoZWV0LmRlbGV0ZVJ1bGUoaSk7XG4gICAgICAgICAgICBkb2MuX19zdmVsdGVfcnVsZXMgPSB7fTtcbiAgICAgICAgfSk7XG4gICAgICAgIGFjdGl2ZV9kb2NzLmNsZWFyKCk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9hbmltYXRpb24obm9kZSwgZnJvbSwgZm4sIHBhcmFtcykge1xuICAgIGlmICghZnJvbSlcbiAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgY29uc3QgdG8gPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmIChmcm9tLmxlZnQgPT09IHRvLmxlZnQgJiYgZnJvbS5yaWdodCA9PT0gdG8ucmlnaHQgJiYgZnJvbS50b3AgPT09IHRvLnRvcCAmJiBmcm9tLmJvdHRvbSA9PT0gdG8uYm90dG9tKVxuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIGVhc2luZyA9IGlkZW50aXR5LCBcbiAgICAvLyBAdHMtaWdub3JlIHRvZG86IHNob3VsZCB0aGlzIGJlIHNlcGFyYXRlZCBmcm9tIGRlc3RydWN0dXJpbmc/IE9yIHN0YXJ0L2VuZCBhZGRlZCB0byBwdWJsaWMgYXBpIGFuZCBkb2N1bWVudGF0aW9uP1xuICAgIHN0YXJ0OiBzdGFydF90aW1lID0gZXhwb3J0cy5ub3coKSArIGRlbGF5LCBcbiAgICAvLyBAdHMtaWdub3JlIHRvZG86XG4gICAgZW5kID0gc3RhcnRfdGltZSArIGR1cmF0aW9uLCB0aWNrID0gbm9vcCwgY3NzIH0gPSBmbihub2RlLCB7IGZyb20sIHRvIH0sIHBhcmFtcyk7XG4gICAgbGV0IHJ1bm5pbmcgPSB0cnVlO1xuICAgIGxldCBzdGFydGVkID0gZmFsc2U7XG4gICAgbGV0IG5hbWU7XG4gICAgZnVuY3Rpb24gc3RhcnQoKSB7XG4gICAgICAgIGlmIChjc3MpIHtcbiAgICAgICAgICAgIG5hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAwLCAxLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlbGF5KSB7XG4gICAgICAgICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgICBpZiAoY3NzKVxuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSwgbmFtZSk7XG4gICAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgbG9vcChub3cgPT4ge1xuICAgICAgICBpZiAoIXN0YXJ0ZWQgJiYgbm93ID49IHN0YXJ0X3RpbWUpIHtcbiAgICAgICAgICAgIHN0YXJ0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydGVkICYmIG5vdyA+PSBlbmQpIHtcbiAgICAgICAgICAgIHRpY2soMSwgMCk7XG4gICAgICAgICAgICBzdG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFydW5uaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0ZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSBub3cgLSBzdGFydF90aW1lO1xuICAgICAgICAgICAgY29uc3QgdCA9IDAgKyAxICogZWFzaW5nKHAgLyBkdXJhdGlvbik7XG4gICAgICAgICAgICB0aWNrKHQsIDEgLSB0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbiAgICBzdGFydCgpO1xuICAgIHRpY2soMCwgMSk7XG4gICAgcmV0dXJuIHN0b3A7XG59XG5mdW5jdGlvbiBmaXhfcG9zaXRpb24obm9kZSkge1xuICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICBpZiAoc3R5bGUucG9zaXRpb24gIT09ICdhYnNvbHV0ZScgJiYgc3R5bGUucG9zaXRpb24gIT09ICdmaXhlZCcpIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBzdHlsZTtcbiAgICAgICAgY29uc3QgYSA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIG5vZGUuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBub2RlLnN0eWxlLndpZHRoID0gd2lkdGg7XG4gICAgICAgIG5vZGUuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBhZGRfdHJhbnNmb3JtKG5vZGUsIGEpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZF90cmFuc2Zvcm0obm9kZSwgYSkge1xuICAgIGNvbnN0IGIgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGlmIChhLmxlZnQgIT09IGIubGVmdCB8fCBhLnRvcCAhPT0gYi50b3ApIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm0gPSBzdHlsZS50cmFuc2Zvcm0gPT09ICdub25lJyA/ICcnIDogc3R5bGUudHJhbnNmb3JtO1xuICAgICAgICBub2RlLnN0eWxlLnRyYW5zZm9ybSA9IGAke3RyYW5zZm9ybX0gdHJhbnNsYXRlKCR7YS5sZWZ0IC0gYi5sZWZ0fXB4LCAke2EudG9wIC0gYi50b3B9cHgpYDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpIHtcbiAgICBleHBvcnRzLmN1cnJlbnRfY29tcG9uZW50ID0gY29tcG9uZW50O1xufVxuZnVuY3Rpb24gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkge1xuICAgIGlmICghZXhwb3J0cy5jdXJyZW50X2NvbXBvbmVudClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGdW5jdGlvbiBjYWxsZWQgb3V0c2lkZSBjb21wb25lbnQgaW5pdGlhbGl6YXRpb24nKTtcbiAgICByZXR1cm4gZXhwb3J0cy5jdXJyZW50X2NvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIGJlZm9yZVVwZGF0ZShmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmJlZm9yZV91cGRhdGUucHVzaChmbik7XG59XG5mdW5jdGlvbiBvbk1vdW50KGZuKSB7XG4gICAgZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQub25fbW91bnQucHVzaChmbik7XG59XG5mdW5jdGlvbiBhZnRlclVwZGF0ZShmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmFmdGVyX3VwZGF0ZS5wdXNoKGZuKTtcbn1cbmZ1bmN0aW9uIG9uRGVzdHJveShmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLm9uX2Rlc3Ryb3kucHVzaChmbik7XG59XG5mdW5jdGlvbiBjcmVhdGVFdmVudERpc3BhdGNoZXIoKSB7XG4gICAgY29uc3QgY29tcG9uZW50ID0gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCk7XG4gICAgcmV0dXJuICh0eXBlLCBkZXRhaWwpID0+IHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1t0eXBlXTtcbiAgICAgICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICAgICAgLy8gVE9ETyBhcmUgdGhlcmUgc2l0dWF0aW9ucyB3aGVyZSBldmVudHMgY291bGQgYmUgZGlzcGF0Y2hlZFxuICAgICAgICAgICAgLy8gaW4gYSBzZXJ2ZXIgKG5vbi1ET00pIGVudmlyb25tZW50P1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBjdXN0b21fZXZlbnQodHlwZSwgZGV0YWlsKTtcbiAgICAgICAgICAgIGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goZm4gPT4ge1xuICAgICAgICAgICAgICAgIGZuLmNhbGwoY29tcG9uZW50LCBldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBzZXRDb250ZXh0KGtleSwgY29udGV4dCkge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuc2V0KGtleSwgY29udGV4dCk7XG59XG5mdW5jdGlvbiBnZXRDb250ZXh0KGtleSkge1xuICAgIHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LmdldChrZXkpO1xufVxuZnVuY3Rpb24gaGFzQ29udGV4dChrZXkpIHtcbiAgICByZXR1cm4gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuY29udGV4dC5oYXMoa2V5KTtcbn1cbi8vIFRPRE8gZmlndXJlIG91dCBpZiB3ZSBzdGlsbCB3YW50IHRvIHN1cHBvcnRcbi8vIHNob3J0aGFuZCBldmVudHMsIG9yIGlmIHdlIHdhbnQgdG8gaW1wbGVtZW50XG4vLyBhIHJlYWwgYnViYmxpbmcgbWVjaGFuaXNtXG5mdW5jdGlvbiBidWJibGUoY29tcG9uZW50LCBldmVudCkge1xuICAgIGNvbnN0IGNhbGxiYWNrcyA9IGNvbXBvbmVudC4kJC5jYWxsYmFja3NbZXZlbnQudHlwZV07XG4gICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICBjYWxsYmFja3Muc2xpY2UoKS5mb3JFYWNoKGZuID0+IGZuKGV2ZW50KSk7XG4gICAgfVxufVxuXG5jb25zdCBkaXJ0eV9jb21wb25lbnRzID0gW107XG5jb25zdCBpbnRyb3MgPSB7IGVuYWJsZWQ6IGZhbHNlIH07XG5jb25zdCBiaW5kaW5nX2NhbGxiYWNrcyA9IFtdO1xuY29uc3QgcmVuZGVyX2NhbGxiYWNrcyA9IFtdO1xuY29uc3QgZmx1c2hfY2FsbGJhY2tzID0gW107XG5jb25zdCByZXNvbHZlZF9wcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5sZXQgdXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuZnVuY3Rpb24gc2NoZWR1bGVfdXBkYXRlKCkge1xuICAgIGlmICghdXBkYXRlX3NjaGVkdWxlZCkge1xuICAgICAgICB1cGRhdGVfc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgcmVzb2x2ZWRfcHJvbWlzZS50aGVuKGZsdXNoKTtcbiAgICB9XG59XG5mdW5jdGlvbiB0aWNrKCkge1xuICAgIHNjaGVkdWxlX3VwZGF0ZSgpO1xuICAgIHJldHVybiByZXNvbHZlZF9wcm9taXNlO1xufVxuZnVuY3Rpb24gYWRkX3JlbmRlcl9jYWxsYmFjayhmbikge1xuICAgIHJlbmRlcl9jYWxsYmFja3MucHVzaChmbik7XG59XG5mdW5jdGlvbiBhZGRfZmx1c2hfY2FsbGJhY2soZm4pIHtcbiAgICBmbHVzaF9jYWxsYmFja3MucHVzaChmbik7XG59XG5sZXQgZmx1c2hpbmcgPSBmYWxzZTtcbmNvbnN0IHNlZW5fY2FsbGJhY2tzID0gbmV3IFNldCgpO1xuZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgaWYgKGZsdXNoaW5nKVxuICAgICAgICByZXR1cm47XG4gICAgZmx1c2hpbmcgPSB0cnVlO1xuICAgIGRvIHtcbiAgICAgICAgLy8gZmlyc3QsIGNhbGwgYmVmb3JlVXBkYXRlIGZ1bmN0aW9uc1xuICAgICAgICAvLyBhbmQgdXBkYXRlIGNvbXBvbmVudHNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaXJ0eV9jb21wb25lbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBkaXJ0eV9jb21wb25lbnRzW2ldO1xuICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCk7XG4gICAgICAgICAgICB1cGRhdGUoY29tcG9uZW50LiQkKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQobnVsbCk7XG4gICAgICAgIGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoID0gMDtcbiAgICAgICAgd2hpbGUgKGJpbmRpbmdfY2FsbGJhY2tzLmxlbmd0aClcbiAgICAgICAgICAgIGJpbmRpbmdfY2FsbGJhY2tzLnBvcCgpKCk7XG4gICAgICAgIC8vIHRoZW4sIG9uY2UgY29tcG9uZW50cyBhcmUgdXBkYXRlZCwgY2FsbFxuICAgICAgICAvLyBhZnRlclVwZGF0ZSBmdW5jdGlvbnMuIFRoaXMgbWF5IGNhdXNlXG4gICAgICAgIC8vIHN1YnNlcXVlbnQgdXBkYXRlcy4uLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlbmRlcl9jYWxsYmFja3MubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gcmVuZGVyX2NhbGxiYWNrc1tpXTtcbiAgICAgICAgICAgIGlmICghc2Vlbl9jYWxsYmFja3MuaGFzKGNhbGxiYWNrKSkge1xuICAgICAgICAgICAgICAgIC8vIC4uLnNvIGd1YXJkIGFnYWluc3QgaW5maW5pdGUgbG9vcHNcbiAgICAgICAgICAgICAgICBzZWVuX2NhbGxiYWNrcy5hZGQoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVuZGVyX2NhbGxiYWNrcy5sZW5ndGggPSAwO1xuICAgIH0gd2hpbGUgKGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoKTtcbiAgICB3aGlsZSAoZmx1c2hfY2FsbGJhY2tzLmxlbmd0aCkge1xuICAgICAgICBmbHVzaF9jYWxsYmFja3MucG9wKCkoKTtcbiAgICB9XG4gICAgdXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuICAgIGZsdXNoaW5nID0gZmFsc2U7XG4gICAgc2Vlbl9jYWxsYmFja3MuY2xlYXIoKTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZSgkJCkge1xuICAgIGlmICgkJC5mcmFnbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAkJC51cGRhdGUoKTtcbiAgICAgICAgcnVuX2FsbCgkJC5iZWZvcmVfdXBkYXRlKTtcbiAgICAgICAgY29uc3QgZGlydHkgPSAkJC5kaXJ0eTtcbiAgICAgICAgJCQuZGlydHkgPSBbLTFdO1xuICAgICAgICAkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5wKCQkLmN0eCwgZGlydHkpO1xuICAgICAgICAkJC5hZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcbiAgICB9XG59XG5cbmxldCBwcm9taXNlO1xuZnVuY3Rpb24gd2FpdCgpIHtcbiAgICBpZiAoIXByb21pc2UpIHtcbiAgICAgICAgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICBwcm9taXNlLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcHJvbWlzZSA9IG51bGw7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoKG5vZGUsIGRpcmVjdGlvbiwga2luZCkge1xuICAgIG5vZGUuZGlzcGF0Y2hFdmVudChjdXN0b21fZXZlbnQoYCR7ZGlyZWN0aW9uID8gJ2ludHJvJyA6ICdvdXRybyd9JHtraW5kfWApKTtcbn1cbmNvbnN0IG91dHJvaW5nID0gbmV3IFNldCgpO1xubGV0IG91dHJvcztcbmZ1bmN0aW9uIGdyb3VwX291dHJvcygpIHtcbiAgICBvdXRyb3MgPSB7XG4gICAgICAgIHI6IDAsXG4gICAgICAgIGM6IFtdLFxuICAgICAgICBwOiBvdXRyb3MgLy8gcGFyZW50IGdyb3VwXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNoZWNrX291dHJvcygpIHtcbiAgICBpZiAoIW91dHJvcy5yKSB7XG4gICAgICAgIHJ1bl9hbGwob3V0cm9zLmMpO1xuICAgIH1cbiAgICBvdXRyb3MgPSBvdXRyb3MucDtcbn1cbmZ1bmN0aW9uIHRyYW5zaXRpb25faW4oYmxvY2ssIGxvY2FsKSB7XG4gICAgaWYgKGJsb2NrICYmIGJsb2NrLmkpIHtcbiAgICAgICAgb3V0cm9pbmcuZGVsZXRlKGJsb2NrKTtcbiAgICAgICAgYmxvY2suaShsb2NhbCk7XG4gICAgfVxufVxuZnVuY3Rpb24gdHJhbnNpdGlvbl9vdXQoYmxvY2ssIGxvY2FsLCBkZXRhY2gsIGNhbGxiYWNrKSB7XG4gICAgaWYgKGJsb2NrICYmIGJsb2NrLm8pIHtcbiAgICAgICAgaWYgKG91dHJvaW5nLmhhcyhibG9jaykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIG91dHJvaW5nLmFkZChibG9jayk7XG4gICAgICAgIG91dHJvcy5jLnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgb3V0cm9pbmcuZGVsZXRlKGJsb2NrKTtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIGlmIChkZXRhY2gpXG4gICAgICAgICAgICAgICAgICAgIGJsb2NrLmQoMSk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGJsb2NrLm8obG9jYWwpO1xuICAgIH1cbn1cbmNvbnN0IG51bGxfdHJhbnNpdGlvbiA9IHsgZHVyYXRpb246IDAgfTtcbmZ1bmN0aW9uIGNyZWF0ZV9pbl90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMpIHtcbiAgICBsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zKTtcbiAgICBsZXQgcnVubmluZyA9IGZhbHNlO1xuICAgIGxldCBhbmltYXRpb25fbmFtZTtcbiAgICBsZXQgdGFzaztcbiAgICBsZXQgdWlkID0gMDtcbiAgICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgICBpZiAoYW5pbWF0aW9uX25hbWUpXG4gICAgICAgICAgICBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdvKCkge1xuICAgICAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIGVhc2luZyA9IGlkZW50aXR5LCB0aWNrID0gbm9vcCwgY3NzIH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuICAgICAgICBpZiAoY3NzKVxuICAgICAgICAgICAgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAwLCAxLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzLCB1aWQrKyk7XG4gICAgICAgIHRpY2soMCwgMSk7XG4gICAgICAgIGNvbnN0IHN0YXJ0X3RpbWUgPSBleHBvcnRzLm5vdygpICsgZGVsYXk7XG4gICAgICAgIGNvbnN0IGVuZF90aW1lID0gc3RhcnRfdGltZSArIGR1cmF0aW9uO1xuICAgICAgICBpZiAodGFzaylcbiAgICAgICAgICAgIHRhc2suYWJvcnQoKTtcbiAgICAgICAgcnVubmluZyA9IHRydWU7XG4gICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ3N0YXJ0JykpO1xuICAgICAgICB0YXNrID0gbG9vcChub3cgPT4ge1xuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAobm93ID49IGVuZF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2soMSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIHRydWUsICdlbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobm93ID49IHN0YXJ0X3RpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IGVhc2luZygobm93IC0gc3RhcnRfdGltZSkgLyBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHRpY2sodCwgMSAtIHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBydW5uaW5nO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGV0IHN0YXJ0ZWQgPSBmYWxzZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydCgpIHtcbiAgICAgICAgICAgIGlmIChzdGFydGVkKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUpO1xuICAgICAgICAgICAgaWYgKGlzX2Z1bmN0aW9uKGNvbmZpZykpIHtcbiAgICAgICAgICAgICAgICBjb25maWcgPSBjb25maWcoKTtcbiAgICAgICAgICAgICAgICB3YWl0KCkudGhlbihnbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbnZhbGlkYXRlKCkge1xuICAgICAgICAgICAgc3RhcnRlZCA9IGZhbHNlO1xuICAgICAgICB9LFxuICAgICAgICBlbmQoKSB7XG4gICAgICAgICAgICBpZiAocnVubmluZykge1xuICAgICAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlX291dF90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMpIHtcbiAgICBsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zKTtcbiAgICBsZXQgcnVubmluZyA9IHRydWU7XG4gICAgbGV0IGFuaW1hdGlvbl9uYW1lO1xuICAgIGNvbnN0IGdyb3VwID0gb3V0cm9zO1xuICAgIGdyb3VwLnIgKz0gMTtcbiAgICBmdW5jdGlvbiBnbygpIHtcbiAgICAgICAgY29uc3QgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gMzAwLCBlYXNpbmcgPSBpZGVudGl0eSwgdGljayA9IG5vb3AsIGNzcyB9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcbiAgICAgICAgaWYgKGNzcylcbiAgICAgICAgICAgIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMSwgMCwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG4gICAgICAgIGNvbnN0IHN0YXJ0X3RpbWUgPSBleHBvcnRzLm5vdygpICsgZGVsYXk7XG4gICAgICAgIGNvbnN0IGVuZF90aW1lID0gc3RhcnRfdGltZSArIGR1cmF0aW9uO1xuICAgICAgICBhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnc3RhcnQnKSk7XG4gICAgICAgIGxvb3Aobm93ID0+IHtcbiAgICAgICAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vdyA+PSBlbmRfdGltZSkge1xuICAgICAgICAgICAgICAgICAgICB0aWNrKDAsIDEpO1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChub2RlLCBmYWxzZSwgJ2VuZCcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIS0tZ3JvdXAucikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyB3aWxsIHJlc3VsdCBpbiBgZW5kKClgIGJlaW5nIGNhbGxlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNvIHdlIGRvbid0IG5lZWQgdG8gY2xlYW4gdXAgaGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgcnVuX2FsbChncm91cC5jKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gZWFzaW5nKChub3cgLSBzdGFydF90aW1lKSAvIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGljaygxIC0gdCwgdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ1bm5pbmc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuICAgICAgICB3YWl0KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBjb25maWcgPSBjb25maWcoKTtcbiAgICAgICAgICAgIGdvKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZ28oKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW5kKHJlc2V0KSB7XG4gICAgICAgICAgICBpZiAocmVzZXQgJiYgY29uZmlnLnRpY2spIHtcbiAgICAgICAgICAgICAgICBjb25maWcudGljaygxLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFuaW1hdGlvbl9uYW1lKVxuICAgICAgICAgICAgICAgICAgICBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG4gICAgICAgICAgICAgICAgcnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZV9iaWRpcmVjdGlvbmFsX3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcywgaW50cm8pIHtcbiAgICBsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zKTtcbiAgICBsZXQgdCA9IGludHJvID8gMCA6IDE7XG4gICAgbGV0IHJ1bm5pbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgbGV0IHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgbGV0IGFuaW1hdGlvbl9uYW1lID0gbnVsbDtcbiAgICBmdW5jdGlvbiBjbGVhcl9hbmltYXRpb24oKSB7XG4gICAgICAgIGlmIChhbmltYXRpb25fbmFtZSlcbiAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5pdChwcm9ncmFtLCBkdXJhdGlvbikge1xuICAgICAgICBjb25zdCBkID0gcHJvZ3JhbS5iIC0gdDtcbiAgICAgICAgZHVyYXRpb24gKj0gTWF0aC5hYnMoZCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhOiB0LFxuICAgICAgICAgICAgYjogcHJvZ3JhbS5iLFxuICAgICAgICAgICAgZCxcbiAgICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAgICAgc3RhcnQ6IHByb2dyYW0uc3RhcnQsXG4gICAgICAgICAgICBlbmQ6IHByb2dyYW0uc3RhcnQgKyBkdXJhdGlvbixcbiAgICAgICAgICAgIGdyb3VwOiBwcm9ncmFtLmdyb3VwXG4gICAgICAgIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdvKGIpIHtcbiAgICAgICAgY29uc3QgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gMzAwLCBlYXNpbmcgPSBpZGVudGl0eSwgdGljayA9IG5vb3AsIGNzcyB9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcbiAgICAgICAgY29uc3QgcHJvZ3JhbSA9IHtcbiAgICAgICAgICAgIHN0YXJ0OiBleHBvcnRzLm5vdygpICsgZGVsYXksXG4gICAgICAgICAgICBiXG4gICAgICAgIH07XG4gICAgICAgIGlmICghYikge1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSB0b2RvOiBpbXByb3ZlIHR5cGluZ3NcbiAgICAgICAgICAgIHByb2dyYW0uZ3JvdXAgPSBvdXRyb3M7XG4gICAgICAgICAgICBvdXRyb3MuciArPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmIChydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKSB7XG4gICAgICAgICAgICBwZW5kaW5nX3Byb2dyYW0gPSBwcm9ncmFtO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgdGhpcyBpcyBhbiBpbnRybywgYW5kIHRoZXJlJ3MgYSBkZWxheSwgd2UgbmVlZCB0byBkb1xuICAgICAgICAgICAgLy8gYW4gaW5pdGlhbCB0aWNrIGFuZC9vciBhcHBseSBDU1MgYW5pbWF0aW9uIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICBpZiAoY3NzKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJfYW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCB0LCBiLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChiKVxuICAgICAgICAgICAgICAgIHRpY2soMCwgMSk7XG4gICAgICAgICAgICBydW5uaW5nX3Byb2dyYW0gPSBpbml0KHByb2dyYW0sIGR1cmF0aW9uKTtcbiAgICAgICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgYiwgJ3N0YXJ0JykpO1xuICAgICAgICAgICAgbG9vcChub3cgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nX3Byb2dyYW0gJiYgbm93ID4gcGVuZGluZ19wcm9ncmFtLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocGVuZGluZ19wcm9ncmFtLCBkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIHJ1bm5pbmdfcHJvZ3JhbS5iLCAnc3RhcnQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJfYW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIHQsIHJ1bm5pbmdfcHJvZ3JhbS5iLCBydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24sIDAsIGVhc2luZywgY29uZmlnLmNzcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJ1bm5pbmdfcHJvZ3JhbSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5lbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2sodCA9IHJ1bm5pbmdfcHJvZ3JhbS5iLCAxIC0gdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChub2RlLCBydW5uaW5nX3Byb2dyYW0uYiwgJ2VuZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwZW5kaW5nX3Byb2dyYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSdyZSBkb25lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bm5pbmdfcHJvZ3JhbS5iKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGludHJvIOKAlCB3ZSBjYW4gdGlkeSB1cCBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhcl9hbmltYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG91dHJvIOKAlCBuZWVkcyB0byBiZSBjb29yZGluYXRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIS0tcnVubmluZ19wcm9ncmFtLmdyb3VwLnIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBydW5fYWxsKHJ1bm5pbmdfcHJvZ3JhbS5ncm91cC5jKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBydW5uaW5nX3Byb2dyYW0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKG5vdyA+PSBydW5uaW5nX3Byb2dyYW0uc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHAgPSBub3cgLSBydW5uaW5nX3Byb2dyYW0uc3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ID0gcnVubmluZ19wcm9ncmFtLmEgKyBydW5uaW5nX3Byb2dyYW0uZCAqIGVhc2luZyhwIC8gcnVubmluZ19wcm9ncmFtLmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpY2sodCwgMSAtIHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAhIShydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJ1bihiKSB7XG4gICAgICAgICAgICBpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuICAgICAgICAgICAgICAgIHdhaXQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICBjb25maWcgPSBjb25maWcoKTtcbiAgICAgICAgICAgICAgICAgICAgZ28oYik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnbyhiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW5kKCkge1xuICAgICAgICAgICAgY2xlYXJfYW5pbWF0aW9uKCk7XG4gICAgICAgICAgICBydW5uaW5nX3Byb2dyYW0gPSBwZW5kaW5nX3Byb2dyYW0gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlX3Byb21pc2UocHJvbWlzZSwgaW5mbykge1xuICAgIGNvbnN0IHRva2VuID0gaW5mby50b2tlbiA9IHt9O1xuICAgIGZ1bmN0aW9uIHVwZGF0ZSh0eXBlLCBpbmRleCwga2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAoaW5mby50b2tlbiAhPT0gdG9rZW4pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGluZm8ucmVzb2x2ZWQgPSB2YWx1ZTtcbiAgICAgICAgbGV0IGNoaWxkX2N0eCA9IGluZm8uY3R4O1xuICAgICAgICBpZiAoa2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNoaWxkX2N0eCA9IGNoaWxkX2N0eC5zbGljZSgpO1xuICAgICAgICAgICAgY2hpbGRfY3R4W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBibG9jayA9IHR5cGUgJiYgKGluZm8uY3VycmVudCA9IHR5cGUpKGNoaWxkX2N0eCk7XG4gICAgICAgIGxldCBuZWVkc19mbHVzaCA9IGZhbHNlO1xuICAgICAgICBpZiAoaW5mby5ibG9jaykge1xuICAgICAgICAgICAgaWYgKGluZm8uYmxvY2tzKSB7XG4gICAgICAgICAgICAgICAgaW5mby5ibG9ja3MuZm9yRWFjaCgoYmxvY2ssIGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IGluZGV4ICYmIGJsb2NrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cF9vdXRyb3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25fb3V0KGJsb2NrLCAxLCAxLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8uYmxvY2tzW2ldID09PSBibG9jaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLmJsb2Nrc1tpXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja19vdXRyb3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5mby5ibG9jay5kKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmxvY2suYygpO1xuICAgICAgICAgICAgdHJhbnNpdGlvbl9pbihibG9jaywgMSk7XG4gICAgICAgICAgICBibG9jay5tKGluZm8ubW91bnQoKSwgaW5mby5hbmNob3IpO1xuICAgICAgICAgICAgbmVlZHNfZmx1c2ggPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGluZm8uYmxvY2sgPSBibG9jaztcbiAgICAgICAgaWYgKGluZm8uYmxvY2tzKVxuICAgICAgICAgICAgaW5mby5ibG9ja3NbaW5kZXhdID0gYmxvY2s7XG4gICAgICAgIGlmIChuZWVkc19mbHVzaCkge1xuICAgICAgICAgICAgZmx1c2goKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNfcHJvbWlzZShwcm9taXNlKSkge1xuICAgICAgICBjb25zdCBjdXJyZW50X2NvbXBvbmVudCA9IGdldF9jdXJyZW50X2NvbXBvbmVudCgpO1xuICAgICAgICBwcm9taXNlLnRoZW4odmFsdWUgPT4ge1xuICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KGN1cnJlbnRfY29tcG9uZW50KTtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLnRoZW4sIDEsIGluZm8udmFsdWUsIHZhbHVlKTtcbiAgICAgICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcbiAgICAgICAgfSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KGN1cnJlbnRfY29tcG9uZW50KTtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLmNhdGNoLCAyLCBpbmZvLmVycm9yLCBlcnJvcik7XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQobnVsbCk7XG4gICAgICAgICAgICBpZiAoIWluZm8uaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGlmIHdlIHByZXZpb3VzbHkgaGFkIGEgdGhlbi9jYXRjaCBibG9jaywgZGVzdHJveSBpdFxuICAgICAgICBpZiAoaW5mby5jdXJyZW50ICE9PSBpbmZvLnBlbmRpbmcpIHtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLnBlbmRpbmcsIDApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChpbmZvLmN1cnJlbnQgIT09IGluZm8udGhlbikge1xuICAgICAgICAgICAgdXBkYXRlKGluZm8udGhlbiwgMSwgaW5mby52YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpbmZvLnJlc29sdmVkID0gcHJvbWlzZTtcbiAgICB9XG59XG5cbmNvbnN0IGdsb2JhbHMgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCdcbiAgICA/IHdpbmRvd1xuICAgIDogdHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnXG4gICAgICAgID8gZ2xvYmFsVGhpc1xuICAgICAgICA6IGdsb2JhbCk7XG5cbmZ1bmN0aW9uIGRlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuICAgIGJsb2NrLmQoMSk7XG4gICAgbG9va3VwLmRlbGV0ZShibG9jay5rZXkpO1xufVxuZnVuY3Rpb24gb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuICAgIHRyYW5zaXRpb25fb3V0KGJsb2NrLCAxLCAxLCAoKSA9PiB7XG4gICAgICAgIGxvb2t1cC5kZWxldGUoYmxvY2sua2V5KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGZpeF9hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG4gICAgYmxvY2suZigpO1xuICAgIGRlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCk7XG59XG5mdW5jdGlvbiBmaXhfYW5kX291dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcbiAgICBibG9jay5mKCk7XG4gICAgb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCk7XG59XG5mdW5jdGlvbiB1cGRhdGVfa2V5ZWRfZWFjaChvbGRfYmxvY2tzLCBkaXJ0eSwgZ2V0X2tleSwgZHluYW1pYywgY3R4LCBsaXN0LCBsb29rdXAsIG5vZGUsIGRlc3Ryb3ksIGNyZWF0ZV9lYWNoX2Jsb2NrLCBuZXh0LCBnZXRfY29udGV4dCkge1xuICAgIGxldCBvID0gb2xkX2Jsb2Nrcy5sZW5ndGg7XG4gICAgbGV0IG4gPSBsaXN0Lmxlbmd0aDtcbiAgICBsZXQgaSA9IG87XG4gICAgY29uc3Qgb2xkX2luZGV4ZXMgPSB7fTtcbiAgICB3aGlsZSAoaS0tKVxuICAgICAgICBvbGRfaW5kZXhlc1tvbGRfYmxvY2tzW2ldLmtleV0gPSBpO1xuICAgIGNvbnN0IG5ld19ibG9ja3MgPSBbXTtcbiAgICBjb25zdCBuZXdfbG9va3VwID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGRlbHRhcyA9IG5ldyBNYXAoKTtcbiAgICBpID0gbjtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkX2N0eCA9IGdldF9jb250ZXh0KGN0eCwgbGlzdCwgaSk7XG4gICAgICAgIGNvbnN0IGtleSA9IGdldF9rZXkoY2hpbGRfY3R4KTtcbiAgICAgICAgbGV0IGJsb2NrID0gbG9va3VwLmdldChrZXkpO1xuICAgICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgICAgICBibG9jayA9IGNyZWF0ZV9lYWNoX2Jsb2NrKGtleSwgY2hpbGRfY3R4KTtcbiAgICAgICAgICAgIGJsb2NrLmMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkeW5hbWljKSB7XG4gICAgICAgICAgICBibG9jay5wKGNoaWxkX2N0eCwgZGlydHkpO1xuICAgICAgICB9XG4gICAgICAgIG5ld19sb29rdXAuc2V0KGtleSwgbmV3X2Jsb2Nrc1tpXSA9IGJsb2NrKTtcbiAgICAgICAgaWYgKGtleSBpbiBvbGRfaW5kZXhlcylcbiAgICAgICAgICAgIGRlbHRhcy5zZXQoa2V5LCBNYXRoLmFicyhpIC0gb2xkX2luZGV4ZXNba2V5XSkpO1xuICAgIH1cbiAgICBjb25zdCB3aWxsX21vdmUgPSBuZXcgU2V0KCk7XG4gICAgY29uc3QgZGlkX21vdmUgPSBuZXcgU2V0KCk7XG4gICAgZnVuY3Rpb24gaW5zZXJ0KGJsb2NrKSB7XG4gICAgICAgIHRyYW5zaXRpb25faW4oYmxvY2ssIDEpO1xuICAgICAgICBibG9jay5tKG5vZGUsIG5leHQpO1xuICAgICAgICBsb29rdXAuc2V0KGJsb2NrLmtleSwgYmxvY2spO1xuICAgICAgICBuZXh0ID0gYmxvY2suZmlyc3Q7XG4gICAgICAgIG4tLTtcbiAgICB9XG4gICAgd2hpbGUgKG8gJiYgbikge1xuICAgICAgICBjb25zdCBuZXdfYmxvY2sgPSBuZXdfYmxvY2tzW24gLSAxXTtcbiAgICAgICAgY29uc3Qgb2xkX2Jsb2NrID0gb2xkX2Jsb2Nrc1tvIC0gMV07XG4gICAgICAgIGNvbnN0IG5ld19rZXkgPSBuZXdfYmxvY2sua2V5O1xuICAgICAgICBjb25zdCBvbGRfa2V5ID0gb2xkX2Jsb2NrLmtleTtcbiAgICAgICAgaWYgKG5ld19ibG9jayA9PT0gb2xkX2Jsb2NrKSB7XG4gICAgICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgICAgICAgICBuZXh0ID0gbmV3X2Jsb2NrLmZpcnN0O1xuICAgICAgICAgICAgby0tO1xuICAgICAgICAgICAgbi0tO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFuZXdfbG9va3VwLmhhcyhvbGRfa2V5KSkge1xuICAgICAgICAgICAgLy8gcmVtb3ZlIG9sZCBibG9ja1xuICAgICAgICAgICAgZGVzdHJveShvbGRfYmxvY2ssIGxvb2t1cCk7XG4gICAgICAgICAgICBvLS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWxvb2t1cC5oYXMobmV3X2tleSkgfHwgd2lsbF9tb3ZlLmhhcyhuZXdfa2V5KSkge1xuICAgICAgICAgICAgaW5zZXJ0KG5ld19ibG9jayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGlkX21vdmUuaGFzKG9sZF9rZXkpKSB7XG4gICAgICAgICAgICBvLS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGVsdGFzLmdldChuZXdfa2V5KSA+IGRlbHRhcy5nZXQob2xkX2tleSkpIHtcbiAgICAgICAgICAgIGRpZF9tb3ZlLmFkZChuZXdfa2V5KTtcbiAgICAgICAgICAgIGluc2VydChuZXdfYmxvY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2lsbF9tb3ZlLmFkZChvbGRfa2V5KTtcbiAgICAgICAgICAgIG8tLTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB3aGlsZSAoby0tKSB7XG4gICAgICAgIGNvbnN0IG9sZF9ibG9jayA9IG9sZF9ibG9ja3Nbb107XG4gICAgICAgIGlmICghbmV3X2xvb2t1cC5oYXMob2xkX2Jsb2NrLmtleSkpXG4gICAgICAgICAgICBkZXN0cm95KG9sZF9ibG9jaywgbG9va3VwKTtcbiAgICB9XG4gICAgd2hpbGUgKG4pXG4gICAgICAgIGluc2VydChuZXdfYmxvY2tzW24gLSAxXSk7XG4gICAgcmV0dXJuIG5ld19ibG9ja3M7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV9lYWNoX2tleXMoY3R4LCBsaXN0LCBnZXRfY29udGV4dCwgZ2V0X2tleSkge1xuICAgIGNvbnN0IGtleXMgPSBuZXcgU2V0KCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGdldF9rZXkoZ2V0X2NvbnRleHQoY3R4LCBsaXN0LCBpKSk7XG4gICAgICAgIGlmIChrZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBoYXZlIGR1cGxpY2F0ZSBrZXlzIGluIGEga2V5ZWQgZWFjaCcpO1xuICAgICAgICB9XG4gICAgICAgIGtleXMuYWRkKGtleSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZXRfc3ByZWFkX3VwZGF0ZShsZXZlbHMsIHVwZGF0ZXMpIHtcbiAgICBjb25zdCB1cGRhdGUgPSB7fTtcbiAgICBjb25zdCB0b19udWxsX291dCA9IHt9O1xuICAgIGNvbnN0IGFjY291bnRlZF9mb3IgPSB7ICQkc2NvcGU6IDEgfTtcbiAgICBsZXQgaSA9IGxldmVscy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgICBjb25zdCBvID0gbGV2ZWxzW2ldO1xuICAgICAgICBjb25zdCBuID0gdXBkYXRlc1tpXTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG8pIHtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gbikpXG4gICAgICAgICAgICAgICAgICAgIHRvX251bGxfb3V0W2tleV0gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbikge1xuICAgICAgICAgICAgICAgIGlmICghYWNjb3VudGVkX2ZvcltrZXldKSB7XG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZVtrZXldID0gbltrZXldO1xuICAgICAgICAgICAgICAgICAgICBhY2NvdW50ZWRfZm9yW2tleV0gPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldmVsc1tpXSA9IG47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvKSB7XG4gICAgICAgICAgICAgICAgYWNjb3VudGVkX2ZvcltrZXldID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGtleSBpbiB0b19udWxsX291dCkge1xuICAgICAgICBpZiAoIShrZXkgaW4gdXBkYXRlKSlcbiAgICAgICAgICAgIHVwZGF0ZVtrZXldID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gdXBkYXRlO1xufVxuZnVuY3Rpb24gZ2V0X3NwcmVhZF9vYmplY3Qoc3ByZWFkX3Byb3BzKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBzcHJlYWRfcHJvcHMgPT09ICdvYmplY3QnICYmIHNwcmVhZF9wcm9wcyAhPT0gbnVsbCA/IHNwcmVhZF9wcm9wcyA6IHt9O1xufVxuXG4vLyBzb3VyY2U6IGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2luZGljZXMuaHRtbFxuY29uc3QgYm9vbGVhbl9hdHRyaWJ1dGVzID0gbmV3IFNldChbXG4gICAgJ2FsbG93ZnVsbHNjcmVlbicsXG4gICAgJ2FsbG93cGF5bWVudHJlcXVlc3QnLFxuICAgICdhc3luYycsXG4gICAgJ2F1dG9mb2N1cycsXG4gICAgJ2F1dG9wbGF5JyxcbiAgICAnY2hlY2tlZCcsXG4gICAgJ2NvbnRyb2xzJyxcbiAgICAnZGVmYXVsdCcsXG4gICAgJ2RlZmVyJyxcbiAgICAnZGlzYWJsZWQnLFxuICAgICdmb3Jtbm92YWxpZGF0ZScsXG4gICAgJ2hpZGRlbicsXG4gICAgJ2lzbWFwJyxcbiAgICAnbG9vcCcsXG4gICAgJ211bHRpcGxlJyxcbiAgICAnbXV0ZWQnLFxuICAgICdub21vZHVsZScsXG4gICAgJ25vdmFsaWRhdGUnLFxuICAgICdvcGVuJyxcbiAgICAncGxheXNpbmxpbmUnLFxuICAgICdyZWFkb25seScsXG4gICAgJ3JlcXVpcmVkJyxcbiAgICAncmV2ZXJzZWQnLFxuICAgICdzZWxlY3RlZCdcbl0pO1xuXG5jb25zdCBpbnZhbGlkX2F0dHJpYnV0ZV9uYW1lX2NoYXJhY3RlciA9IC9bXFxzJ1wiPi89XFx1e0ZERDB9LVxcdXtGREVGfVxcdXtGRkZFfVxcdXtGRkZGfVxcdXsxRkZGRX1cXHV7MUZGRkZ9XFx1ezJGRkZFfVxcdXsyRkZGRn1cXHV7M0ZGRkV9XFx1ezNGRkZGfVxcdXs0RkZGRX1cXHV7NEZGRkZ9XFx1ezVGRkZFfVxcdXs1RkZGRn1cXHV7NkZGRkV9XFx1ezZGRkZGfVxcdXs3RkZGRX1cXHV7N0ZGRkZ9XFx1ezhGRkZFfVxcdXs4RkZGRn1cXHV7OUZGRkV9XFx1ezlGRkZGfVxcdXtBRkZGRX1cXHV7QUZGRkZ9XFx1e0JGRkZFfVxcdXtCRkZGRn1cXHV7Q0ZGRkV9XFx1e0NGRkZGfVxcdXtERkZGRX1cXHV7REZGRkZ9XFx1e0VGRkZFfVxcdXtFRkZGRn1cXHV7RkZGRkV9XFx1e0ZGRkZGfVxcdXsxMEZGRkV9XFx1ezEwRkZGRn1dL3U7XG4vLyBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9zeW50YXguaHRtbCNhdHRyaWJ1dGVzLTJcbi8vIGh0dHBzOi8vaW5mcmEuc3BlYy53aGF0d2cub3JnLyNub25jaGFyYWN0ZXJcbmZ1bmN0aW9uIHNwcmVhZChhcmdzLCBjbGFzc2VzX3RvX2FkZCkge1xuICAgIGNvbnN0IGF0dHJpYnV0ZXMgPSBPYmplY3QuYXNzaWduKHt9LCAuLi5hcmdzKTtcbiAgICBpZiAoY2xhc3Nlc190b19hZGQpIHtcbiAgICAgICAgaWYgKGF0dHJpYnV0ZXMuY2xhc3MgPT0gbnVsbCkge1xuICAgICAgICAgICAgYXR0cmlidXRlcy5jbGFzcyA9IGNsYXNzZXNfdG9fYWRkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYXR0cmlidXRlcy5jbGFzcyArPSAnICcgKyBjbGFzc2VzX3RvX2FkZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgc3RyID0gJyc7XG4gICAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChuYW1lID0+IHtcbiAgICAgICAgaWYgKGludmFsaWRfYXR0cmlidXRlX25hbWVfY2hhcmFjdGVyLnRlc3QobmFtZSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHZhbHVlID0gYXR0cmlidXRlc1tuYW1lXTtcbiAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlKVxuICAgICAgICAgICAgc3RyICs9ICcgJyArIG5hbWU7XG4gICAgICAgIGVsc2UgaWYgKGJvb2xlYW5fYXR0cmlidXRlcy5oYXMobmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlKVxuICAgICAgICAgICAgICAgIHN0ciArPSAnICcgKyBuYW1lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHN0ciArPSBgICR7bmFtZX09XCIke1N0cmluZyh2YWx1ZSkucmVwbGFjZSgvXCIvZywgJyYjMzQ7JykucmVwbGFjZSgvJy9nLCAnJiMzOTsnKX1cImA7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gc3RyO1xufVxuY29uc3QgZXNjYXBlZCA9IHtcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjMzk7JyxcbiAgICAnJic6ICcmYW1wOycsXG4gICAgJzwnOiAnJmx0OycsXG4gICAgJz4nOiAnJmd0Oydcbn07XG5mdW5jdGlvbiBlc2NhcGUoaHRtbCkge1xuICAgIHJldHVybiBTdHJpbmcoaHRtbCkucmVwbGFjZSgvW1wiJyY8Pl0vZywgbWF0Y2ggPT4gZXNjYXBlZFttYXRjaF0pO1xufVxuZnVuY3Rpb24gZWFjaChpdGVtcywgZm4pIHtcbiAgICBsZXQgc3RyID0gJyc7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBzdHIgKz0gZm4oaXRlbXNbaV0sIGkpO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xufVxuY29uc3QgbWlzc2luZ19jb21wb25lbnQgPSB7XG4gICAgJCRyZW5kZXI6ICgpID0+ICcnXG59O1xuZnVuY3Rpb24gdmFsaWRhdGVfY29tcG9uZW50KGNvbXBvbmVudCwgbmFtZSkge1xuICAgIGlmICghY29tcG9uZW50IHx8ICFjb21wb25lbnQuJCRyZW5kZXIpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09ICdzdmVsdGU6Y29tcG9uZW50JylcbiAgICAgICAgICAgIG5hbWUgKz0gJyB0aGlzPXsuLi59JztcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGA8JHtuYW1lfT4gaXMgbm90IGEgdmFsaWQgU1NSIGNvbXBvbmVudC4gWW91IG1heSBuZWVkIHRvIHJldmlldyB5b3VyIGJ1aWxkIGNvbmZpZyB0byBlbnN1cmUgdGhhdCBkZXBlbmRlbmNpZXMgYXJlIGNvbXBpbGVkLCByYXRoZXIgdGhhbiBpbXBvcnRlZCBhcyBwcmUtY29tcGlsZWQgbW9kdWxlc2ApO1xuICAgIH1cbiAgICByZXR1cm4gY29tcG9uZW50O1xufVxuZnVuY3Rpb24gZGVidWcoZmlsZSwgbGluZSwgY29sdW1uLCB2YWx1ZXMpIHtcbiAgICBjb25zb2xlLmxvZyhge0BkZWJ1Z30gJHtmaWxlID8gZmlsZSArICcgJyA6ICcnfSgke2xpbmV9OiR7Y29sdW1ufSlgKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgY29uc29sZS5sb2codmFsdWVzKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgcmV0dXJuICcnO1xufVxubGV0IG9uX2Rlc3Ryb3k7XG5mdW5jdGlvbiBjcmVhdGVfc3NyX2NvbXBvbmVudChmbikge1xuICAgIGZ1bmN0aW9uICQkcmVuZGVyKHJlc3VsdCwgcHJvcHMsIGJpbmRpbmdzLCBzbG90cykge1xuICAgICAgICBjb25zdCBwYXJlbnRfY29tcG9uZW50ID0gZXhwb3J0cy5jdXJyZW50X2NvbXBvbmVudDtcbiAgICAgICAgY29uc3QgJCQgPSB7XG4gICAgICAgICAgICBvbl9kZXN0cm95LFxuICAgICAgICAgICAgY29udGV4dDogbmV3IE1hcChwYXJlbnRfY29tcG9uZW50ID8gcGFyZW50X2NvbXBvbmVudC4kJC5jb250ZXh0IDogW10pLFxuICAgICAgICAgICAgLy8gdGhlc2Ugd2lsbCBiZSBpbW1lZGlhdGVseSBkaXNjYXJkZWRcbiAgICAgICAgICAgIG9uX21vdW50OiBbXSxcbiAgICAgICAgICAgIGJlZm9yZV91cGRhdGU6IFtdLFxuICAgICAgICAgICAgYWZ0ZXJfdXBkYXRlOiBbXSxcbiAgICAgICAgICAgIGNhbGxiYWNrczogYmxhbmtfb2JqZWN0KClcbiAgICAgICAgfTtcbiAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KHsgJCQgfSk7XG4gICAgICAgIGNvbnN0IGh0bWwgPSBmbihyZXN1bHQsIHByb3BzLCBiaW5kaW5ncywgc2xvdHMpO1xuICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQocGFyZW50X2NvbXBvbmVudCk7XG4gICAgICAgIHJldHVybiBodG1sO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICByZW5kZXI6IChwcm9wcyA9IHt9LCBvcHRpb25zID0ge30pID0+IHtcbiAgICAgICAgICAgIG9uX2Rlc3Ryb3kgPSBbXTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHsgdGl0bGU6ICcnLCBoZWFkOiAnJywgY3NzOiBuZXcgU2V0KCkgfTtcbiAgICAgICAgICAgIGNvbnN0IGh0bWwgPSAkJHJlbmRlcihyZXN1bHQsIHByb3BzLCB7fSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBydW5fYWxsKG9uX2Rlc3Ryb3kpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBodG1sLFxuICAgICAgICAgICAgICAgIGNzczoge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBBcnJheS5mcm9tKHJlc3VsdC5jc3MpLm1hcChjc3MgPT4gY3NzLmNvZGUpLmpvaW4oJ1xcbicpLFxuICAgICAgICAgICAgICAgICAgICBtYXA6IG51bGwgLy8gVE9ET1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaGVhZDogcmVzdWx0LnRpdGxlICsgcmVzdWx0LmhlYWRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgICQkcmVuZGVyXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGFkZF9hdHRyaWJ1dGUobmFtZSwgdmFsdWUsIGJvb2xlYW4pIHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCAoYm9vbGVhbiAmJiAhdmFsdWUpKVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgcmV0dXJuIGAgJHtuYW1lfSR7dmFsdWUgPT09IHRydWUgPyAnJyA6IGA9JHt0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gSlNPTi5zdHJpbmdpZnkoZXNjYXBlKHZhbHVlKSkgOiBgXCIke3ZhbHVlfVwiYH1gfWA7XG59XG5mdW5jdGlvbiBhZGRfY2xhc3NlcyhjbGFzc2VzKSB7XG4gICAgcmV0dXJuIGNsYXNzZXMgPyBgIGNsYXNzPVwiJHtjbGFzc2VzfVwiYCA6ICcnO1xufVxuXG5mdW5jdGlvbiBiaW5kKGNvbXBvbmVudCwgbmFtZSwgY2FsbGJhY2spIHtcbiAgICBjb25zdCBpbmRleCA9IGNvbXBvbmVudC4kJC5wcm9wc1tuYW1lXTtcbiAgICBpZiAoaW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb21wb25lbnQuJCQuYm91bmRbaW5kZXhdID0gY2FsbGJhY2s7XG4gICAgICAgIGNhbGxiYWNrKGNvbXBvbmVudC4kJC5jdHhbaW5kZXhdKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjcmVhdGVfY29tcG9uZW50KGJsb2NrKSB7XG4gICAgYmxvY2sgJiYgYmxvY2suYygpO1xufVxuZnVuY3Rpb24gY2xhaW1fY29tcG9uZW50KGJsb2NrLCBwYXJlbnRfbm9kZXMpIHtcbiAgICBibG9jayAmJiBibG9jay5sKHBhcmVudF9ub2Rlcyk7XG59XG5mdW5jdGlvbiBtb3VudF9jb21wb25lbnQoY29tcG9uZW50LCB0YXJnZXQsIGFuY2hvcikge1xuICAgIGNvbnN0IHsgZnJhZ21lbnQsIG9uX21vdW50LCBvbl9kZXN0cm95LCBhZnRlcl91cGRhdGUgfSA9IGNvbXBvbmVudC4kJDtcbiAgICBmcmFnbWVudCAmJiBmcmFnbWVudC5tKHRhcmdldCwgYW5jaG9yKTtcbiAgICAvLyBvbk1vdW50IGhhcHBlbnMgYmVmb3JlIHRoZSBpbml0aWFsIGFmdGVyVXBkYXRlXG4gICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld19vbl9kZXN0cm95ID0gb25fbW91bnQubWFwKHJ1bikuZmlsdGVyKGlzX2Z1bmN0aW9uKTtcbiAgICAgICAgaWYgKG9uX2Rlc3Ryb3kpIHtcbiAgICAgICAgICAgIG9uX2Rlc3Ryb3kucHVzaCguLi5uZXdfb25fZGVzdHJveSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBFZGdlIGNhc2UgLSBjb21wb25lbnQgd2FzIGRlc3Ryb3llZCBpbW1lZGlhdGVseSxcbiAgICAgICAgICAgIC8vIG1vc3QgbGlrZWx5IGFzIGEgcmVzdWx0IG9mIGEgYmluZGluZyBpbml0aWFsaXNpbmdcbiAgICAgICAgICAgIHJ1bl9hbGwobmV3X29uX2Rlc3Ryb3kpO1xuICAgICAgICB9XG4gICAgICAgIGNvbXBvbmVudC4kJC5vbl9tb3VudCA9IFtdO1xuICAgIH0pO1xuICAgIGFmdGVyX3VwZGF0ZS5mb3JFYWNoKGFkZF9yZW5kZXJfY2FsbGJhY2spO1xufVxuZnVuY3Rpb24gZGVzdHJveV9jb21wb25lbnQoY29tcG9uZW50LCBkZXRhY2hpbmcpIHtcbiAgICBjb25zdCAkJCA9IGNvbXBvbmVudC4kJDtcbiAgICBpZiAoJCQuZnJhZ21lbnQgIT09IG51bGwpIHtcbiAgICAgICAgcnVuX2FsbCgkJC5vbl9kZXN0cm95KTtcbiAgICAgICAgJCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQuZChkZXRhY2hpbmcpO1xuICAgICAgICAvLyBUT0RPIG51bGwgb3V0IG90aGVyIHJlZnMsIGluY2x1ZGluZyBjb21wb25lbnQuJCQgKGJ1dCBuZWVkIHRvXG4gICAgICAgIC8vIHByZXNlcnZlIGZpbmFsIHN0YXRlPylcbiAgICAgICAgJCQub25fZGVzdHJveSA9ICQkLmZyYWdtZW50ID0gbnVsbDtcbiAgICAgICAgJCQuY3R4ID0gW107XG4gICAgfVxufVxuZnVuY3Rpb24gbWFrZV9kaXJ0eShjb21wb25lbnQsIGkpIHtcbiAgICBpZiAoY29tcG9uZW50LiQkLmRpcnR5WzBdID09PSAtMSkge1xuICAgICAgICBkaXJ0eV9jb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcbiAgICAgICAgc2NoZWR1bGVfdXBkYXRlKCk7XG4gICAgICAgIGNvbXBvbmVudC4kJC5kaXJ0eS5maWxsKDApO1xuICAgIH1cbiAgICBjb21wb25lbnQuJCQuZGlydHlbKGkgLyAzMSkgfCAwXSB8PSAoMSA8PCAoaSAlIDMxKSk7XG59XG5mdW5jdGlvbiBpbml0KGNvbXBvbmVudCwgb3B0aW9ucywgaW5zdGFuY2UsIGNyZWF0ZV9mcmFnbWVudCwgbm90X2VxdWFsLCBwcm9wcywgZGlydHkgPSBbLTFdKSB7XG4gICAgY29uc3QgcGFyZW50X2NvbXBvbmVudCA9IGV4cG9ydHMuY3VycmVudF9jb21wb25lbnQ7XG4gICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCk7XG4gICAgY29uc3QgcHJvcF92YWx1ZXMgPSBvcHRpb25zLnByb3BzIHx8IHt9O1xuICAgIGNvbnN0ICQkID0gY29tcG9uZW50LiQkID0ge1xuICAgICAgICBmcmFnbWVudDogbnVsbCxcbiAgICAgICAgY3R4OiBudWxsLFxuICAgICAgICAvLyBzdGF0ZVxuICAgICAgICBwcm9wcyxcbiAgICAgICAgdXBkYXRlOiBub29wLFxuICAgICAgICBub3RfZXF1YWwsXG4gICAgICAgIGJvdW5kOiBibGFua19vYmplY3QoKSxcbiAgICAgICAgLy8gbGlmZWN5Y2xlXG4gICAgICAgIG9uX21vdW50OiBbXSxcbiAgICAgICAgb25fZGVzdHJveTogW10sXG4gICAgICAgIGJlZm9yZV91cGRhdGU6IFtdLFxuICAgICAgICBhZnRlcl91cGRhdGU6IFtdLFxuICAgICAgICBjb250ZXh0OiBuZXcgTWFwKHBhcmVudF9jb21wb25lbnQgPyBwYXJlbnRfY29tcG9uZW50LiQkLmNvbnRleHQgOiBbXSksXG4gICAgICAgIC8vIGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICBjYWxsYmFja3M6IGJsYW5rX29iamVjdCgpLFxuICAgICAgICBkaXJ0eSxcbiAgICAgICAgc2tpcF9ib3VuZDogZmFsc2VcbiAgICB9O1xuICAgIGxldCByZWFkeSA9IGZhbHNlO1xuICAgICQkLmN0eCA9IGluc3RhbmNlXG4gICAgICAgID8gaW5zdGFuY2UoY29tcG9uZW50LCBwcm9wX3ZhbHVlcywgKGksIHJldCwgLi4ucmVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByZXN0Lmxlbmd0aCA/IHJlc3RbMF0gOiByZXQ7XG4gICAgICAgICAgICBpZiAoJCQuY3R4ICYmIG5vdF9lcXVhbCgkJC5jdHhbaV0sICQkLmN0eFtpXSA9IHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGlmICghJCQuc2tpcF9ib3VuZCAmJiAkJC5ib3VuZFtpXSlcbiAgICAgICAgICAgICAgICAgICAgJCQuYm91bmRbaV0odmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChyZWFkeSlcbiAgICAgICAgICAgICAgICAgICAgbWFrZV9kaXJ0eShjb21wb25lbnQsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfSlcbiAgICAgICAgOiBbXTtcbiAgICAkJC51cGRhdGUoKTtcbiAgICByZWFkeSA9IHRydWU7XG4gICAgcnVuX2FsbCgkJC5iZWZvcmVfdXBkYXRlKTtcbiAgICAvLyBgZmFsc2VgIGFzIGEgc3BlY2lhbCBjYXNlIG9mIG5vIERPTSBjb21wb25lbnRcbiAgICAkJC5mcmFnbWVudCA9IGNyZWF0ZV9mcmFnbWVudCA/IGNyZWF0ZV9mcmFnbWVudCgkJC5jdHgpIDogZmFsc2U7XG4gICAgaWYgKG9wdGlvbnMudGFyZ2V0KSB7XG4gICAgICAgIGlmIChvcHRpb25zLmh5ZHJhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG5vZGVzID0gY2hpbGRyZW4ob3B0aW9ucy50YXJnZXQpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50Lmwobm9kZXMpO1xuICAgICAgICAgICAgbm9kZXMuZm9yRWFjaChkZXRhY2gpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgICQkLmZyYWdtZW50ICYmICQkLmZyYWdtZW50LmMoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5pbnRybylcbiAgICAgICAgICAgIHRyYW5zaXRpb25faW4oY29tcG9uZW50LiQkLmZyYWdtZW50KTtcbiAgICAgICAgbW91bnRfY29tcG9uZW50KGNvbXBvbmVudCwgb3B0aW9ucy50YXJnZXQsIG9wdGlvbnMuYW5jaG9yKTtcbiAgICAgICAgZmx1c2goKTtcbiAgICB9XG4gICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KHBhcmVudF9jb21wb25lbnQpO1xufVxuaWYgKHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGV4cG9ydHMuU3ZlbHRlRWxlbWVudCA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHN1cGVyKCk7XG4gICAgICAgICAgICB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgdG9kbzogaW1wcm92ZSB0eXBpbmdzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLiQkLnNsb3R0ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIHRvZG86IGltcHJvdmUgdHlwaW5nc1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQodGhpcy4kJC5zbG90dGVkW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhdHRyLCBfb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzW2F0dHJdID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgJGRlc3Ryb3koKSB7XG4gICAgICAgICAgICBkZXN0cm95X2NvbXBvbmVudCh0aGlzLCAxKTtcbiAgICAgICAgICAgIHRoaXMuJGRlc3Ryb3kgPSBub29wO1xuICAgICAgICB9XG4gICAgICAgICRvbih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgLy8gVE9ETyBzaG91bGQgdGhpcyBkZWxlZ2F0ZSB0byBhZGRFdmVudExpc3RlbmVyP1xuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdIHx8ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSA9IFtdKSk7XG4gICAgICAgICAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAkc2V0KCQkcHJvcHMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiQkc2V0ICYmICFpc19lbXB0eSgkJHByb3BzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuJCQuc2tpcF9ib3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy4kJHNldCgkJHByb3BzKTtcbiAgICAgICAgICAgICAgICB0aGlzLiQkLnNraXBfYm91bmQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIFN2ZWx0ZSBjb21wb25lbnRzLiBVc2VkIHdoZW4gZGV2PWZhbHNlLlxuICovXG5jbGFzcyBTdmVsdGVDb21wb25lbnQge1xuICAgICRkZXN0cm95KCkge1xuICAgICAgICBkZXN0cm95X2NvbXBvbmVudCh0aGlzLCAxKTtcbiAgICAgICAgdGhpcy4kZGVzdHJveSA9IG5vb3A7XG4gICAgfVxuICAgICRvbih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICBjb25zdCBjYWxsYmFja3MgPSAodGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gfHwgKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdID0gW10pKTtcbiAgICAgICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBjYWxsYmFja3MuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAkc2V0KCQkcHJvcHMpIHtcbiAgICAgICAgaWYgKHRoaXMuJCRzZXQgJiYgIWlzX2VtcHR5KCQkcHJvcHMpKSB7XG4gICAgICAgICAgICB0aGlzLiQkLnNraXBfYm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy4kJHNldCgkJHByb3BzKTtcbiAgICAgICAgICAgIHRoaXMuJCQuc2tpcF9ib3VuZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkaXNwYXRjaF9kZXYodHlwZSwgZGV0YWlsKSB7XG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChjdXN0b21fZXZlbnQodHlwZSwgT2JqZWN0LmFzc2lnbih7IHZlcnNpb246ICczLjMxLjInIH0sIGRldGFpbCkpKTtcbn1cbmZ1bmN0aW9uIGFwcGVuZF9kZXYodGFyZ2V0LCBub2RlKSB7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01JbnNlcnQnLCB7IHRhcmdldCwgbm9kZSB9KTtcbiAgICBhcHBlbmQodGFyZ2V0LCBub2RlKTtcbn1cbmZ1bmN0aW9uIGluc2VydF9kZXYodGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTUluc2VydCcsIHsgdGFyZ2V0LCBub2RlLCBhbmNob3IgfSk7XG4gICAgaW5zZXJ0KHRhcmdldCwgbm9kZSwgYW5jaG9yKTtcbn1cbmZ1bmN0aW9uIGRldGFjaF9kZXYobm9kZSkge1xuICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NUmVtb3ZlJywgeyBub2RlIH0pO1xuICAgIGRldGFjaChub2RlKTtcbn1cbmZ1bmN0aW9uIGRldGFjaF9iZXR3ZWVuX2RldihiZWZvcmUsIGFmdGVyKSB7XG4gICAgd2hpbGUgKGJlZm9yZS5uZXh0U2libGluZyAmJiBiZWZvcmUubmV4dFNpYmxpbmcgIT09IGFmdGVyKSB7XG4gICAgICAgIGRldGFjaF9kZXYoYmVmb3JlLm5leHRTaWJsaW5nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBkZXRhY2hfYmVmb3JlX2RldihhZnRlcikge1xuICAgIHdoaWxlIChhZnRlci5wcmV2aW91c1NpYmxpbmcpIHtcbiAgICAgICAgZGV0YWNoX2RldihhZnRlci5wcmV2aW91c1NpYmxpbmcpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRldGFjaF9hZnRlcl9kZXYoYmVmb3JlKSB7XG4gICAgd2hpbGUgKGJlZm9yZS5uZXh0U2libGluZykge1xuICAgICAgICBkZXRhY2hfZGV2KGJlZm9yZS5uZXh0U2libGluZyk7XG4gICAgfVxufVxuZnVuY3Rpb24gbGlzdGVuX2Rldihub2RlLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucywgaGFzX3ByZXZlbnRfZGVmYXVsdCwgaGFzX3N0b3BfcHJvcGFnYXRpb24pIHtcbiAgICBjb25zdCBtb2RpZmllcnMgPSBvcHRpb25zID09PSB0cnVlID8gWydjYXB0dXJlJ10gOiBvcHRpb25zID8gQXJyYXkuZnJvbShPYmplY3Qua2V5cyhvcHRpb25zKSkgOiBbXTtcbiAgICBpZiAoaGFzX3ByZXZlbnRfZGVmYXVsdClcbiAgICAgICAgbW9kaWZpZXJzLnB1c2goJ3ByZXZlbnREZWZhdWx0Jyk7XG4gICAgaWYgKGhhc19zdG9wX3Byb3BhZ2F0aW9uKVxuICAgICAgICBtb2RpZmllcnMucHVzaCgnc3RvcFByb3BhZ2F0aW9uJyk7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01BZGRFdmVudExpc3RlbmVyJywgeyBub2RlLCBldmVudCwgaGFuZGxlciwgbW9kaWZpZXJzIH0pO1xuICAgIGNvbnN0IGRpc3Bvc2UgPSBsaXN0ZW4obm9kZSwgZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NUmVtb3ZlRXZlbnRMaXN0ZW5lcicsIHsgbm9kZSwgZXZlbnQsIGhhbmRsZXIsIG1vZGlmaWVycyB9KTtcbiAgICAgICAgZGlzcG9zZSgpO1xuICAgIH07XG59XG5mdW5jdGlvbiBhdHRyX2Rldihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG4gICAgYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKTtcbiAgICBpZiAodmFsdWUgPT0gbnVsbClcbiAgICAgICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01SZW1vdmVBdHRyaWJ1dGUnLCB7IG5vZGUsIGF0dHJpYnV0ZSB9KTtcbiAgICBlbHNlXG4gICAgICAgIGRpc3BhdGNoX2RldignU3ZlbHRlRE9NU2V0QXR0cmlidXRlJywgeyBub2RlLCBhdHRyaWJ1dGUsIHZhbHVlIH0pO1xufVxuZnVuY3Rpb24gcHJvcF9kZXYobm9kZSwgcHJvcGVydHksIHZhbHVlKSB7XG4gICAgbm9kZVtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICBkaXNwYXRjaF9kZXYoJ1N2ZWx0ZURPTVNldFByb3BlcnR5JywgeyBub2RlLCBwcm9wZXJ0eSwgdmFsdWUgfSk7XG59XG5mdW5jdGlvbiBkYXRhc2V0X2Rldihub2RlLCBwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICBub2RlLmRhdGFzZXRbcHJvcGVydHldID0gdmFsdWU7XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01TZXREYXRhc2V0JywgeyBub2RlLCBwcm9wZXJ0eSwgdmFsdWUgfSk7XG59XG5mdW5jdGlvbiBzZXRfZGF0YV9kZXYodGV4dCwgZGF0YSkge1xuICAgIGRhdGEgPSAnJyArIGRhdGE7XG4gICAgaWYgKHRleHQud2hvbGVUZXh0ID09PSBkYXRhKVxuICAgICAgICByZXR1cm47XG4gICAgZGlzcGF0Y2hfZGV2KCdTdmVsdGVET01TZXREYXRhJywgeyBub2RlOiB0ZXh0LCBkYXRhIH0pO1xuICAgIHRleHQuZGF0YSA9IGRhdGE7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV9lYWNoX2FyZ3VtZW50KGFyZykge1xuICAgIGlmICh0eXBlb2YgYXJnICE9PSAnc3RyaW5nJyAmJiAhKGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiAnbGVuZ3RoJyBpbiBhcmcpKSB7XG4gICAgICAgIGxldCBtc2cgPSAneyNlYWNofSBvbmx5IGl0ZXJhdGVzIG92ZXIgYXJyYXktbGlrZSBvYmplY3RzLic7XG4gICAgICAgIGlmICh0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIGFyZyAmJiBTeW1ib2wuaXRlcmF0b3IgaW4gYXJnKSB7XG4gICAgICAgICAgICBtc2cgKz0gJyBZb3UgY2FuIHVzZSBhIHNwcmVhZCB0byBjb252ZXJ0IHRoaXMgaXRlcmFibGUgaW50byBhbiBhcnJheS4nO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHZhbGlkYXRlX3Nsb3RzKG5hbWUsIHNsb3QsIGtleXMpIHtcbiAgICBmb3IgKGNvbnN0IHNsb3Rfa2V5IG9mIE9iamVjdC5rZXlzKHNsb3QpKSB7XG4gICAgICAgIGlmICghfmtleXMuaW5kZXhPZihzbG90X2tleSkpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgPCR7bmFtZX0+IHJlY2VpdmVkIGFuIHVuZXhwZWN0ZWQgc2xvdCBcIiR7c2xvdF9rZXl9XCIuYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIFN2ZWx0ZSBjb21wb25lbnRzIHdpdGggc29tZSBtaW5vciBkZXYtZW5oYW5jZW1lbnRzLiBVc2VkIHdoZW4gZGV2PXRydWUuXG4gKi9cbmNsYXNzIFN2ZWx0ZUNvbXBvbmVudERldiBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBpZiAoIW9wdGlvbnMgfHwgKCFvcHRpb25zLnRhcmdldCAmJiAhb3B0aW9ucy4kJGlubGluZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIid0YXJnZXQnIGlzIGEgcmVxdWlyZWQgb3B0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgICRkZXN0cm95KCkge1xuICAgICAgICBzdXBlci4kZGVzdHJveSgpO1xuICAgICAgICB0aGlzLiRkZXN0cm95ID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdDb21wb25lbnQgd2FzIGFscmVhZHkgZGVzdHJveWVkJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICB9O1xuICAgIH1cbiAgICAkY2FwdHVyZV9zdGF0ZSgpIHsgfVxuICAgICRpbmplY3Rfc3RhdGUoKSB7IH1cbn1cbi8qKlxuICogQmFzZSBjbGFzcyB0byBjcmVhdGUgc3Ryb25nbHkgdHlwZWQgU3ZlbHRlIGNvbXBvbmVudHMuXG4gKiBUaGlzIG9ubHkgZXhpc3RzIGZvciB0eXBpbmcgcHVycG9zZXMgYW5kIHNob3VsZCBiZSB1c2VkIGluIGAuZC50c2AgZmlsZXMuXG4gKlxuICogIyMjIEV4YW1wbGU6XG4gKlxuICogWW91IGhhdmUgY29tcG9uZW50IGxpYnJhcnkgb24gbnBtIGNhbGxlZCBgY29tcG9uZW50LWxpYnJhcnlgLCBmcm9tIHdoaWNoXG4gKiB5b3UgZXhwb3J0IGEgY29tcG9uZW50IGNhbGxlZCBgTXlDb21wb25lbnRgLiBGb3IgU3ZlbHRlK1R5cGVTY3JpcHQgdXNlcnMsXG4gKiB5b3Ugd2FudCB0byBwcm92aWRlIHR5cGluZ3MuIFRoZXJlZm9yZSB5b3UgY3JlYXRlIGEgYGluZGV4LmQudHNgOlxuICogYGBgdHNcbiAqIGltcG9ydCB7IFN2ZWx0ZUNvbXBvbmVudFR5cGVkIH0gZnJvbSBcInN2ZWx0ZVwiO1xuICogZXhwb3J0IGNsYXNzIE15Q29tcG9uZW50IGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50VHlwZWQ8e2Zvbzogc3RyaW5nfT4ge31cbiAqIGBgYFxuICogVHlwaW5nIHRoaXMgbWFrZXMgaXQgcG9zc2libGUgZm9yIElERXMgbGlrZSBWUyBDb2RlIHdpdGggdGhlIFN2ZWx0ZSBleHRlbnNpb25cbiAqIHRvIHByb3ZpZGUgaW50ZWxsaXNlbnNlIGFuZCB0byB1c2UgdGhlIGNvbXBvbmVudCBsaWtlIHRoaXMgaW4gYSBTdmVsdGUgZmlsZVxuICogd2l0aCBUeXBlU2NyaXB0OlxuICogYGBgc3ZlbHRlXG4gKiA8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICogXHRpbXBvcnQgeyBNeUNvbXBvbmVudCB9IGZyb20gXCJjb21wb25lbnQtbGlicmFyeVwiO1xuICogPC9zY3JpcHQ+XG4gKiA8TXlDb21wb25lbnQgZm9vPXsnYmFyJ30gLz5cbiAqIGBgYFxuICpcbiAqICMjIyMgV2h5IG5vdCBtYWtlIHRoaXMgcGFydCBvZiBgU3ZlbHRlQ29tcG9uZW50KERldilgP1xuICogQmVjYXVzZVxuICogYGBgdHNcbiAqIGNsYXNzIEFTdWJjbGFzc09mU3ZlbHRlQ29tcG9uZW50IGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50PHtmb286IHN0cmluZ30+IHt9XG4gKiBjb25zdCBjb21wb25lbnQ6IHR5cGVvZiBTdmVsdGVDb21wb25lbnQgPSBBU3ViY2xhc3NPZlN2ZWx0ZUNvbXBvbmVudDtcbiAqIGBgYFxuICogd2lsbCB0aHJvdyBhIHR5cGUgZXJyb3IsIHNvIHdlIG5lZWQgdG8gc2VwZXJhdGUgdGhlIG1vcmUgc3RyaWN0bHkgdHlwZWQgY2xhc3MuXG4gKi9cbmNsYXNzIFN2ZWx0ZUNvbXBvbmVudFR5cGVkIGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50RGV2IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGxvb3BfZ3VhcmQodGltZW91dCkge1xuICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIHN0YXJ0ID4gdGltZW91dCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbmZpbml0ZSBsb29wIGRldGVjdGVkJyk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5leHBvcnRzLkh0bWxUYWcgPSBIdG1sVGFnO1xuZXhwb3J0cy5TdmVsdGVDb21wb25lbnQgPSBTdmVsdGVDb21wb25lbnQ7XG5leHBvcnRzLlN2ZWx0ZUNvbXBvbmVudERldiA9IFN2ZWx0ZUNvbXBvbmVudERldjtcbmV4cG9ydHMuU3ZlbHRlQ29tcG9uZW50VHlwZWQgPSBTdmVsdGVDb21wb25lbnRUeXBlZDtcbmV4cG9ydHMuYWN0aW9uX2Rlc3Ryb3llciA9IGFjdGlvbl9kZXN0cm95ZXI7XG5leHBvcnRzLmFkZF9hdHRyaWJ1dGUgPSBhZGRfYXR0cmlidXRlO1xuZXhwb3J0cy5hZGRfY2xhc3NlcyA9IGFkZF9jbGFzc2VzO1xuZXhwb3J0cy5hZGRfZmx1c2hfY2FsbGJhY2sgPSBhZGRfZmx1c2hfY2FsbGJhY2s7XG5leHBvcnRzLmFkZF9sb2NhdGlvbiA9IGFkZF9sb2NhdGlvbjtcbmV4cG9ydHMuYWRkX3JlbmRlcl9jYWxsYmFjayA9IGFkZF9yZW5kZXJfY2FsbGJhY2s7XG5leHBvcnRzLmFkZF9yZXNpemVfbGlzdGVuZXIgPSBhZGRfcmVzaXplX2xpc3RlbmVyO1xuZXhwb3J0cy5hZGRfdHJhbnNmb3JtID0gYWRkX3RyYW5zZm9ybTtcbmV4cG9ydHMuYWZ0ZXJVcGRhdGUgPSBhZnRlclVwZGF0ZTtcbmV4cG9ydHMuYXBwZW5kID0gYXBwZW5kO1xuZXhwb3J0cy5hcHBlbmRfZGV2ID0gYXBwZW5kX2RldjtcbmV4cG9ydHMuYXNzaWduID0gYXNzaWduO1xuZXhwb3J0cy5hdHRyID0gYXR0cjtcbmV4cG9ydHMuYXR0cl9kZXYgPSBhdHRyX2RldjtcbmV4cG9ydHMuYXR0cmlidXRlX3RvX29iamVjdCA9IGF0dHJpYnV0ZV90b19vYmplY3Q7XG5leHBvcnRzLmJlZm9yZVVwZGF0ZSA9IGJlZm9yZVVwZGF0ZTtcbmV4cG9ydHMuYmluZCA9IGJpbmQ7XG5leHBvcnRzLmJpbmRpbmdfY2FsbGJhY2tzID0gYmluZGluZ19jYWxsYmFja3M7XG5leHBvcnRzLmJsYW5rX29iamVjdCA9IGJsYW5rX29iamVjdDtcbmV4cG9ydHMuYnViYmxlID0gYnViYmxlO1xuZXhwb3J0cy5jaGVja19vdXRyb3MgPSBjaGVja19vdXRyb3M7XG5leHBvcnRzLmNoaWxkcmVuID0gY2hpbGRyZW47XG5leHBvcnRzLmNsYWltX2NvbXBvbmVudCA9IGNsYWltX2NvbXBvbmVudDtcbmV4cG9ydHMuY2xhaW1fZWxlbWVudCA9IGNsYWltX2VsZW1lbnQ7XG5leHBvcnRzLmNsYWltX3NwYWNlID0gY2xhaW1fc3BhY2U7XG5leHBvcnRzLmNsYWltX3RleHQgPSBjbGFpbV90ZXh0O1xuZXhwb3J0cy5jbGVhcl9sb29wcyA9IGNsZWFyX2xvb3BzO1xuZXhwb3J0cy5jb21wb25lbnRfc3Vic2NyaWJlID0gY29tcG9uZW50X3N1YnNjcmliZTtcbmV4cG9ydHMuY29tcHV0ZV9yZXN0X3Byb3BzID0gY29tcHV0ZV9yZXN0X3Byb3BzO1xuZXhwb3J0cy5jb21wdXRlX3Nsb3RzID0gY29tcHV0ZV9zbG90cztcbmV4cG9ydHMuY3JlYXRlRXZlbnREaXNwYXRjaGVyID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyO1xuZXhwb3J0cy5jcmVhdGVfYW5pbWF0aW9uID0gY3JlYXRlX2FuaW1hdGlvbjtcbmV4cG9ydHMuY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbiA9IGNyZWF0ZV9iaWRpcmVjdGlvbmFsX3RyYW5zaXRpb247XG5leHBvcnRzLmNyZWF0ZV9jb21wb25lbnQgPSBjcmVhdGVfY29tcG9uZW50O1xuZXhwb3J0cy5jcmVhdGVfaW5fdHJhbnNpdGlvbiA9IGNyZWF0ZV9pbl90cmFuc2l0aW9uO1xuZXhwb3J0cy5jcmVhdGVfb3V0X3RyYW5zaXRpb24gPSBjcmVhdGVfb3V0X3RyYW5zaXRpb247XG5leHBvcnRzLmNyZWF0ZV9zbG90ID0gY3JlYXRlX3Nsb3Q7XG5leHBvcnRzLmNyZWF0ZV9zc3JfY29tcG9uZW50ID0gY3JlYXRlX3Nzcl9jb21wb25lbnQ7XG5leHBvcnRzLmN1c3RvbV9ldmVudCA9IGN1c3RvbV9ldmVudDtcbmV4cG9ydHMuZGF0YXNldF9kZXYgPSBkYXRhc2V0X2RldjtcbmV4cG9ydHMuZGVidWcgPSBkZWJ1ZztcbmV4cG9ydHMuZGVzdHJveV9ibG9jayA9IGRlc3Ryb3lfYmxvY2s7XG5leHBvcnRzLmRlc3Ryb3lfY29tcG9uZW50ID0gZGVzdHJveV9jb21wb25lbnQ7XG5leHBvcnRzLmRlc3Ryb3lfZWFjaCA9IGRlc3Ryb3lfZWFjaDtcbmV4cG9ydHMuZGV0YWNoID0gZGV0YWNoO1xuZXhwb3J0cy5kZXRhY2hfYWZ0ZXJfZGV2ID0gZGV0YWNoX2FmdGVyX2RldjtcbmV4cG9ydHMuZGV0YWNoX2JlZm9yZV9kZXYgPSBkZXRhY2hfYmVmb3JlX2RldjtcbmV4cG9ydHMuZGV0YWNoX2JldHdlZW5fZGV2ID0gZGV0YWNoX2JldHdlZW5fZGV2O1xuZXhwb3J0cy5kZXRhY2hfZGV2ID0gZGV0YWNoX2RldjtcbmV4cG9ydHMuZGlydHlfY29tcG9uZW50cyA9IGRpcnR5X2NvbXBvbmVudHM7XG5leHBvcnRzLmRpc3BhdGNoX2RldiA9IGRpc3BhdGNoX2RldjtcbmV4cG9ydHMuZWFjaCA9IGVhY2g7XG5leHBvcnRzLmVsZW1lbnQgPSBlbGVtZW50O1xuZXhwb3J0cy5lbGVtZW50X2lzID0gZWxlbWVudF9pcztcbmV4cG9ydHMuZW1wdHkgPSBlbXB0eTtcbmV4cG9ydHMuZXNjYXBlID0gZXNjYXBlO1xuZXhwb3J0cy5lc2NhcGVkID0gZXNjYXBlZDtcbmV4cG9ydHMuZXhjbHVkZV9pbnRlcm5hbF9wcm9wcyA9IGV4Y2x1ZGVfaW50ZXJuYWxfcHJvcHM7XG5leHBvcnRzLmZpeF9hbmRfZGVzdHJveV9ibG9jayA9IGZpeF9hbmRfZGVzdHJveV9ibG9jaztcbmV4cG9ydHMuZml4X2FuZF9vdXRyb19hbmRfZGVzdHJveV9ibG9jayA9IGZpeF9hbmRfb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2s7XG5leHBvcnRzLmZpeF9wb3NpdGlvbiA9IGZpeF9wb3NpdGlvbjtcbmV4cG9ydHMuZmx1c2ggPSBmbHVzaDtcbmV4cG9ydHMuZ2V0Q29udGV4dCA9IGdldENvbnRleHQ7XG5leHBvcnRzLmdldF9iaW5kaW5nX2dyb3VwX3ZhbHVlID0gZ2V0X2JpbmRpbmdfZ3JvdXBfdmFsdWU7XG5leHBvcnRzLmdldF9jdXJyZW50X2NvbXBvbmVudCA9IGdldF9jdXJyZW50X2NvbXBvbmVudDtcbmV4cG9ydHMuZ2V0X2N1c3RvbV9lbGVtZW50c19zbG90cyA9IGdldF9jdXN0b21fZWxlbWVudHNfc2xvdHM7XG5leHBvcnRzLmdldF9zbG90X2NoYW5nZXMgPSBnZXRfc2xvdF9jaGFuZ2VzO1xuZXhwb3J0cy5nZXRfc2xvdF9jb250ZXh0ID0gZ2V0X3Nsb3RfY29udGV4dDtcbmV4cG9ydHMuZ2V0X3NwcmVhZF9vYmplY3QgPSBnZXRfc3ByZWFkX29iamVjdDtcbmV4cG9ydHMuZ2V0X3NwcmVhZF91cGRhdGUgPSBnZXRfc3ByZWFkX3VwZGF0ZTtcbmV4cG9ydHMuZ2V0X3N0b3JlX3ZhbHVlID0gZ2V0X3N0b3JlX3ZhbHVlO1xuZXhwb3J0cy5nbG9iYWxzID0gZ2xvYmFscztcbmV4cG9ydHMuZ3JvdXBfb3V0cm9zID0gZ3JvdXBfb3V0cm9zO1xuZXhwb3J0cy5oYW5kbGVfcHJvbWlzZSA9IGhhbmRsZV9wcm9taXNlO1xuZXhwb3J0cy5oYXNDb250ZXh0ID0gaGFzQ29udGV4dDtcbmV4cG9ydHMuaGFzX3Byb3AgPSBoYXNfcHJvcDtcbmV4cG9ydHMuaWRlbnRpdHkgPSBpZGVudGl0eTtcbmV4cG9ydHMuaW5pdCA9IGluaXQ7XG5leHBvcnRzLmluc2VydCA9IGluc2VydDtcbmV4cG9ydHMuaW5zZXJ0X2RldiA9IGluc2VydF9kZXY7XG5leHBvcnRzLmludHJvcyA9IGludHJvcztcbmV4cG9ydHMuaW52YWxpZF9hdHRyaWJ1dGVfbmFtZV9jaGFyYWN0ZXIgPSBpbnZhbGlkX2F0dHJpYnV0ZV9uYW1lX2NoYXJhY3RlcjtcbmV4cG9ydHMuaXNfY2xpZW50ID0gaXNfY2xpZW50O1xuZXhwb3J0cy5pc19jcm9zc29yaWdpbiA9IGlzX2Nyb3Nzb3JpZ2luO1xuZXhwb3J0cy5pc19lbXB0eSA9IGlzX2VtcHR5O1xuZXhwb3J0cy5pc19mdW5jdGlvbiA9IGlzX2Z1bmN0aW9uO1xuZXhwb3J0cy5pc19wcm9taXNlID0gaXNfcHJvbWlzZTtcbmV4cG9ydHMubGlzdGVuID0gbGlzdGVuO1xuZXhwb3J0cy5saXN0ZW5fZGV2ID0gbGlzdGVuX2RldjtcbmV4cG9ydHMubG9vcCA9IGxvb3A7XG5leHBvcnRzLmxvb3BfZ3VhcmQgPSBsb29wX2d1YXJkO1xuZXhwb3J0cy5taXNzaW5nX2NvbXBvbmVudCA9IG1pc3NpbmdfY29tcG9uZW50O1xuZXhwb3J0cy5tb3VudF9jb21wb25lbnQgPSBtb3VudF9jb21wb25lbnQ7XG5leHBvcnRzLm5vb3AgPSBub29wO1xuZXhwb3J0cy5ub3RfZXF1YWwgPSBub3RfZXF1YWw7XG5leHBvcnRzLm51bGxfdG9fZW1wdHkgPSBudWxsX3RvX2VtcHR5O1xuZXhwb3J0cy5vYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzID0gb2JqZWN0X3dpdGhvdXRfcHJvcGVydGllcztcbmV4cG9ydHMub25EZXN0cm95ID0gb25EZXN0cm95O1xuZXhwb3J0cy5vbk1vdW50ID0gb25Nb3VudDtcbmV4cG9ydHMub25jZSA9IG9uY2U7XG5leHBvcnRzLm91dHJvX2FuZF9kZXN0cm95X2Jsb2NrID0gb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2s7XG5leHBvcnRzLnByZXZlbnRfZGVmYXVsdCA9IHByZXZlbnRfZGVmYXVsdDtcbmV4cG9ydHMucHJvcF9kZXYgPSBwcm9wX2RldjtcbmV4cG9ydHMucXVlcnlfc2VsZWN0b3JfYWxsID0gcXVlcnlfc2VsZWN0b3JfYWxsO1xuZXhwb3J0cy5ydW4gPSBydW47XG5leHBvcnRzLnJ1bl9hbGwgPSBydW5fYWxsO1xuZXhwb3J0cy5zYWZlX25vdF9lcXVhbCA9IHNhZmVfbm90X2VxdWFsO1xuZXhwb3J0cy5zY2hlZHVsZV91cGRhdGUgPSBzY2hlZHVsZV91cGRhdGU7XG5leHBvcnRzLnNlbGVjdF9tdWx0aXBsZV92YWx1ZSA9IHNlbGVjdF9tdWx0aXBsZV92YWx1ZTtcbmV4cG9ydHMuc2VsZWN0X29wdGlvbiA9IHNlbGVjdF9vcHRpb247XG5leHBvcnRzLnNlbGVjdF9vcHRpb25zID0gc2VsZWN0X29wdGlvbnM7XG5leHBvcnRzLnNlbGVjdF92YWx1ZSA9IHNlbGVjdF92YWx1ZTtcbmV4cG9ydHMuc2VsZiA9IHNlbGY7XG5leHBvcnRzLnNldENvbnRleHQgPSBzZXRDb250ZXh0O1xuZXhwb3J0cy5zZXRfYXR0cmlidXRlcyA9IHNldF9hdHRyaWJ1dGVzO1xuZXhwb3J0cy5zZXRfY3VycmVudF9jb21wb25lbnQgPSBzZXRfY3VycmVudF9jb21wb25lbnQ7XG5leHBvcnRzLnNldF9jdXN0b21fZWxlbWVudF9kYXRhID0gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGE7XG5leHBvcnRzLnNldF9kYXRhID0gc2V0X2RhdGE7XG5leHBvcnRzLnNldF9kYXRhX2RldiA9IHNldF9kYXRhX2RldjtcbmV4cG9ydHMuc2V0X2lucHV0X3R5cGUgPSBzZXRfaW5wdXRfdHlwZTtcbmV4cG9ydHMuc2V0X2lucHV0X3ZhbHVlID0gc2V0X2lucHV0X3ZhbHVlO1xuZXhwb3J0cy5zZXRfbm93ID0gc2V0X25vdztcbmV4cG9ydHMuc2V0X3JhZiA9IHNldF9yYWY7XG5leHBvcnRzLnNldF9zdG9yZV92YWx1ZSA9IHNldF9zdG9yZV92YWx1ZTtcbmV4cG9ydHMuc2V0X3N0eWxlID0gc2V0X3N0eWxlO1xuZXhwb3J0cy5zZXRfc3ZnX2F0dHJpYnV0ZXMgPSBzZXRfc3ZnX2F0dHJpYnV0ZXM7XG5leHBvcnRzLnNwYWNlID0gc3BhY2U7XG5leHBvcnRzLnNwcmVhZCA9IHNwcmVhZDtcbmV4cG9ydHMuc3RvcF9wcm9wYWdhdGlvbiA9IHN0b3BfcHJvcGFnYXRpb247XG5leHBvcnRzLnN1YnNjcmliZSA9IHN1YnNjcmliZTtcbmV4cG9ydHMuc3ZnX2VsZW1lbnQgPSBzdmdfZWxlbWVudDtcbmV4cG9ydHMudGV4dCA9IHRleHQ7XG5leHBvcnRzLnRpY2sgPSB0aWNrO1xuZXhwb3J0cy50aW1lX3Jhbmdlc190b19hcnJheSA9IHRpbWVfcmFuZ2VzX3RvX2FycmF5O1xuZXhwb3J0cy50b19udW1iZXIgPSB0b19udW1iZXI7XG5leHBvcnRzLnRvZ2dsZV9jbGFzcyA9IHRvZ2dsZV9jbGFzcztcbmV4cG9ydHMudHJhbnNpdGlvbl9pbiA9IHRyYW5zaXRpb25faW47XG5leHBvcnRzLnRyYW5zaXRpb25fb3V0ID0gdHJhbnNpdGlvbl9vdXQ7XG5leHBvcnRzLnVwZGF0ZV9rZXllZF9lYWNoID0gdXBkYXRlX2tleWVkX2VhY2g7XG5leHBvcnRzLnVwZGF0ZV9zbG90ID0gdXBkYXRlX3Nsb3Q7XG5leHBvcnRzLnVwZGF0ZV9zbG90X3NwcmVhZCA9IHVwZGF0ZV9zbG90X3NwcmVhZDtcbmV4cG9ydHMudmFsaWRhdGVfY29tcG9uZW50ID0gdmFsaWRhdGVfY29tcG9uZW50O1xuZXhwb3J0cy52YWxpZGF0ZV9lYWNoX2FyZ3VtZW50ID0gdmFsaWRhdGVfZWFjaF9hcmd1bWVudDtcbmV4cG9ydHMudmFsaWRhdGVfZWFjaF9rZXlzID0gdmFsaWRhdGVfZWFjaF9rZXlzO1xuZXhwb3J0cy52YWxpZGF0ZV9zbG90cyA9IHZhbGlkYXRlX3Nsb3RzO1xuZXhwb3J0cy52YWxpZGF0ZV9zdG9yZSA9IHZhbGlkYXRlX3N0b3JlO1xuZXhwb3J0cy54bGlua19hdHRyID0geGxpbmtfYXR0cjtcbiIsIlwidXNlIHN0cmljdFwiO2NvbnN0e1N2ZWx0ZUNvbXBvbmVudDpTdmVsdGVDb21wb25lbnQsYXR0cjphdHRyLGJpbmRpbmdfY2FsbGJhY2tzOmJpbmRpbmdfY2FsbGJhY2tzLGRldGFjaDpkZXRhY2gsZWxlbWVudDplbGVtZW50LGluaXQ6aW5pdCxpbnNlcnQ6aW5zZXJ0LG5vb3A6bm9vcCxzYWZlX25vdF9lcXVhbDpzYWZlX25vdF9lcXVhbH09XyRpbnRlcm5hbF8yO2Z1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudChjdHgpe2xldCBkaXY7cmV0dXJue2MoKXtkaXY9ZWxlbWVudChcImRpdlwiKSxhdHRyKGRpdixcImNsYXNzXCIsY3R4WzBdKX0sbSh0YXJnZXQsYW5jaG9yKXtpbnNlcnQodGFyZ2V0LGRpdixhbmNob3IpLGRpdi5pbm5lckhUTUw9Y3R4WzFdLGN0eFszXShkaXYpfSxwKGN0eCxbZGlydHldKXsyJmRpcnR5JiYoZGl2LmlubmVySFRNTD1jdHhbMV0pLDEmZGlydHkmJmF0dHIoZGl2LFwiY2xhc3NcIixjdHhbMF0pfSxpOm5vb3Asbzpub29wLGQoZGV0YWNoaW5nKXtkZXRhY2hpbmcmJmRldGFjaChkaXYpLGN0eFszXShudWxsKX19fWZ1bmN0aW9uIGluc3RhbmNlKCQkc2VsZiwkJHByb3BzLCQkaW52YWxpZGF0ZSl7bGV0IHJlZix7Y2xhc3NlczpjbGFzc2VzPVwiXCJ9PSQkcHJvcHMse2RhdGE6ZGF0YT1cIlwifT0kJHByb3BzLGV2YWxlZD17fTtyZXR1cm4gJCRzZWxmLiQkc2V0PSgkJHByb3BzPT57XCJjbGFzc2VzXCJpbiAkJHByb3BzJiYkJGludmFsaWRhdGUoMCxjbGFzc2VzPSQkcHJvcHMuY2xhc3NlcyksXCJkYXRhXCJpbiAkJHByb3BzJiYkJGludmFsaWRhdGUoMSxkYXRhPSQkcHJvcHMuZGF0YSl9KSwkJHNlbGYuJCQudXBkYXRlPSgoKT0+ezQmJCRzZWxmLiQkLmRpcnR5JiZyZWYmJnJlZi5xdWVyeVNlbGVjdG9yQWxsKFwic2NyaXB0XCIpLmZvckVhY2goZWw9PihmdW5jdGlvbihzcmMpe2lmKHZvaWQgMD09PWV2YWxlZFtzcmNdKXtldmFsZWRbc3JjXT0hMDt0cnl7bmV3IEZ1bmN0aW9uKHNyYykoKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKGUpfX19KShlbC5pbm5lckhUTUwpKX0pLFtjbGFzc2VzLGRhdGEscmVmLGZ1bmN0aW9uKCQkdmFsdWUpe2JpbmRpbmdfY2FsbGJhY2tzWyQkdmFsdWU/XCJ1bnNoaWZ0XCI6XCJwdXNoXCJdKCgpPT57JCRpbnZhbGlkYXRlKDIscmVmPSQkdmFsdWUpfSl9XX12YXIgXyRIVE1MXzE9Y2xhc3MgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnR7Y29uc3RydWN0b3Iob3B0aW9ucyl7c3VwZXIoKSxpbml0KHRoaXMsb3B0aW9ucyxpbnN0YW5jZSxjcmVhdGVfZnJhZ21lbnQsc2FmZV9ub3RfZXF1YWwse2NsYXNzZXM6MCxkYXRhOjF9KX19O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWeklqcGJJa2hVVFV3dWMzWmxiSFJsSWwwc0ltNWhiV1Z6SWpwYkltMXZaSFZzWlNJc0ltVjRjRzl5ZEhNaVhTd2liV0Z3Y0dsdVozTWlPaUlyYkVOQlowWkJRU3haUVVGQlF5eERRVUZCUVN4alFVRkJRU3hsUVVGQlFTeERRVUZCUVN4WFFVRkJRU3hEUVVGQlFTeFBRVUZCUVN4RFFVRkJRU3hEUVVGQlFTeExRVUZCUVN4RlFVRkJRU3hEUVVGQlFTeEpRVUZCUVN4RFFVRkJRU3hKUVVGQlFTeERRVUZCUVN4UFFVRkJRU3hEUVVGQlFTeFJRVUZCUVN4RFFVRkJRU3hsUVVGQlFTeERRVUZCUVN4alFVRkJRU3hEUVVGQlFTeERRVUZCUVN4UFFVRkJRU3hEUVVGQlFTeERRVUZCUVN4RFFVRkJRU3hKUVVGQlFTeERRVUZCUVN4RFFVRkJRU3hEUVVGQlFTeERRVUZCUVN4RFFVRkJRU3hEUVVGQlFTeERRVUZCUVNJc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYmJuVnNiRjE5IiwiXCJ1c2Ugc3RyaWN0XCI7Y29uc3R7U3ZlbHRlQ29tcG9uZW50Ol9fU3ZlbHRlQ29tcG9uZW50XzMsYXBwZW5kOmFwcGVuZCxhdHRyOl9fYXR0cl8zLGNoZWNrX291dHJvczpjaGVja19vdXRyb3MsY3JlYXRlX2NvbXBvbmVudDpjcmVhdGVfY29tcG9uZW50LGRlc3Ryb3lfY29tcG9uZW50OmRlc3Ryb3lfY29tcG9uZW50LGRlc3Ryb3lfZWFjaDpkZXN0cm95X2VhY2gsZGV0YWNoOl9fZGV0YWNoXzMsZWxlbWVudDpfX2VsZW1lbnRfMyxlbXB0eTplbXB0eSxncm91cF9vdXRyb3M6Z3JvdXBfb3V0cm9zLGluaXQ6X19pbml0XzMsaW5zZXJ0Ol9faW5zZXJ0XzMsbGlzdGVuOmxpc3Rlbixtb3VudF9jb21wb25lbnQ6bW91bnRfY29tcG9uZW50LG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrOm91dHJvX2FuZF9kZXN0cm95X2Jsb2NrLHNhZmVfbm90X2VxdWFsOl9fc2FmZV9ub3RfZXF1YWxfMyxzZXRfZGF0YTpzZXRfZGF0YSxzcGFjZTpzcGFjZSx0ZXh0OnRleHQsdHJhbnNpdGlvbl9pbjp0cmFuc2l0aW9uX2luLHRyYW5zaXRpb25fb3V0OnRyYW5zaXRpb25fb3V0LHVwZGF0ZV9rZXllZF9lYWNoOnVwZGF0ZV9rZXllZF9lYWNofT1fJGludGVybmFsXzI7ZnVuY3Rpb24gZ2V0X2VhY2hfY29udGV4dChjdHgsbGlzdCxpKXtjb25zdCBjaGlsZF9jdHg9Y3R4LnNsaWNlKCk7cmV0dXJuIGNoaWxkX2N0eFsyXT1saXN0W2ldLGNoaWxkX2N0eH1mdW5jdGlvbiBnZXRfZWFjaF9jb250ZXh0XzEoY3R4LGxpc3QsaSl7Y29uc3QgY2hpbGRfY3R4PWN0eC5zbGljZSgpO3JldHVybiBjaGlsZF9jdHhbNV09bGlzdFtpXSxjaGlsZF9jdHh9ZnVuY3Rpb24gZ2V0X2VhY2hfY29udGV4dF8yKGN0eCxsaXN0LGkpe2NvbnN0IGNoaWxkX2N0eD1jdHguc2xpY2UoKTtyZXR1cm4gY2hpbGRfY3R4WzJdPWxpc3RbaV0sY2hpbGRfY3R4fWZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9jayhjdHgpe2xldCBzdXAsaSxzdXBfdGl0bGVfdmFsdWUsdDtyZXR1cm57Yygpe3N1cD1fX2VsZW1lbnRfMyhcInN1cFwiKSxpPV9fZWxlbWVudF8zKFwiaVwiKSx0PXNwYWNlKCksX19hdHRyXzMoaSxcImNsYXNzXCIsXCJmYXIgZmEtcXVlc3Rpb24tY2lyY2xlXCIpLF9fYXR0cl8zKHN1cCxcImRhdGEtdG9nZ2xlXCIsXCJ0b29sdGlwXCIpLF9fYXR0cl8zKHN1cCxcInRpdGxlXCIsc3VwX3RpdGxlX3ZhbHVlPWN0eFswXS5kZXNjcmlwdGlvbil9LG0odGFyZ2V0LGFuY2hvcil7X19pbnNlcnRfMyh0YXJnZXQsc3VwLGFuY2hvciksYXBwZW5kKHN1cCxpKSxfX2luc2VydF8zKHRhcmdldCx0LGFuY2hvcil9LHAoY3R4LGRpcnR5KXsxJmRpcnR5JiZzdXBfdGl0bGVfdmFsdWUhPT0oc3VwX3RpdGxlX3ZhbHVlPWN0eFswXS5kZXNjcmlwdGlvbikmJl9fYXR0cl8zKHN1cCxcInRpdGxlXCIsc3VwX3RpdGxlX3ZhbHVlKX0sZChkZXRhY2hpbmcpe2RldGFjaGluZyYmX19kZXRhY2hfMyhzdXApLGRldGFjaGluZyYmX19kZXRhY2hfMyh0KX19fWZ1bmN0aW9uIGNyZWF0ZV9lYWNoX2Jsb2NrXzIoY3R4KXtsZXQgYSx0MCx0MSxhX2NsYXNzX3ZhbHVlLGFfYXJpYV9jb250cm9sc192YWx1ZSxtb3VudGVkLGRpc3Bvc2UsdDBfdmFsdWU9Y3R4WzJdK1wiXCI7ZnVuY3Rpb24gY2xpY2tfaGFuZGxlcigpe3JldHVybiBjdHhbMV0oY3R4WzJdKX1yZXR1cm57Yygpe2E9X19lbGVtZW50XzMoXCJhXCIpLHQwPXRleHQodDBfdmFsdWUpLHQxPXNwYWNlKCksX19hdHRyXzMoYSxcImhyZWZcIixcImphdmFzY3JpcHQ6XCIpLF9fYXR0cl8zKGEsXCJjbGFzc1wiLGFfY2xhc3NfdmFsdWU9XCJuYXYtbGlua1wiKyhjdHhbMF0udmFsdWU9PWN0eFsyXT9cIiBhY3RpdmVcIjpcIlwiKSksX19hdHRyXzMoYSxcImFyaWEtY29udHJvbHNcIixhX2FyaWFfY29udHJvbHNfdmFsdWU9XCJ0YWItY29udGVudC1cIitjdHhbMF0ubmFtZStcIi1cIitjdHhbMl0pLF9fYXR0cl8zKGEsXCJkYXRhLXRvZ2dsZVwiLFwidGFiXCIpLF9fYXR0cl8zKGEsXCJyb2xlXCIsXCJ0YWJcIil9LG0odGFyZ2V0LGFuY2hvcil7X19pbnNlcnRfMyh0YXJnZXQsYSxhbmNob3IpLGFwcGVuZChhLHQwKSxhcHBlbmQoYSx0MSksbW91bnRlZHx8KGRpc3Bvc2U9bGlzdGVuKGEsXCJjbGlja1wiLGNsaWNrX2hhbmRsZXIpLG1vdW50ZWQ9ITApfSxwKG5ld19jdHgsZGlydHkpe2N0eD1uZXdfY3R4LDEmZGlydHkmJnQwX3ZhbHVlIT09KHQwX3ZhbHVlPWN0eFsyXStcIlwiKSYmc2V0X2RhdGEodDAsdDBfdmFsdWUpLDEmZGlydHkmJmFfY2xhc3NfdmFsdWUhPT0oYV9jbGFzc192YWx1ZT1cIm5hdi1saW5rXCIrKGN0eFswXS52YWx1ZT09Y3R4WzJdP1wiIGFjdGl2ZVwiOlwiXCIpKSYmX19hdHRyXzMoYSxcImNsYXNzXCIsYV9jbGFzc192YWx1ZSksMSZkaXJ0eSYmYV9hcmlhX2NvbnRyb2xzX3ZhbHVlIT09KGFfYXJpYV9jb250cm9sc192YWx1ZT1cInRhYi1jb250ZW50LVwiK2N0eFswXS5uYW1lK1wiLVwiK2N0eFsyXSkmJl9fYXR0cl8zKGEsXCJhcmlhLWNvbnRyb2xzXCIsYV9hcmlhX2NvbnRyb2xzX3ZhbHVlKX0sZChkZXRhY2hpbmcpe2RldGFjaGluZyYmX19kZXRhY2hfMyhhKSxtb3VudGVkPSExLGRpc3Bvc2UoKX19fWZ1bmN0aW9uIGNyZWF0ZV9lYWNoX2Jsb2NrXzEoa2V5XzEsY3R4KXtsZXQgZmlyc3QsaHRtbCxjdXJyZW50O3JldHVybiBodG1sPW5ldyBfJEhUTUxfMSh7cHJvcHM6e2RhdGE6Y3R4WzBdLmZpZWxkX3JlbmRlcnNbY3R4WzVdLmFyZ3MubmFtZV19fSkse2tleTprZXlfMSxmaXJzdDpudWxsLGMoKXtmaXJzdD1lbXB0eSgpLGNyZWF0ZV9jb21wb25lbnQoaHRtbC4kJC5mcmFnbWVudCksdGhpcy5maXJzdD1maXJzdH0sbSh0YXJnZXQsYW5jaG9yKXtfX2luc2VydF8zKHRhcmdldCxmaXJzdCxhbmNob3IpLG1vdW50X2NvbXBvbmVudChodG1sLHRhcmdldCxhbmNob3IpLGN1cnJlbnQ9ITB9LHAobmV3X2N0eCxkaXJ0eSl7Y3R4PW5ld19jdHg7Y29uc3QgaHRtbF9jaGFuZ2VzPXt9OzEmZGlydHkmJihodG1sX2NoYW5nZXMuZGF0YT1jdHhbMF0uZmllbGRfcmVuZGVyc1tjdHhbNV0uYXJncy5uYW1lXSksaHRtbC4kc2V0KGh0bWxfY2hhbmdlcyl9LGkobG9jYWwpe2N1cnJlbnR8fCh0cmFuc2l0aW9uX2luKGh0bWwuJCQuZnJhZ21lbnQsbG9jYWwpLGN1cnJlbnQ9ITApfSxvKGxvY2FsKXt0cmFuc2l0aW9uX291dChodG1sLiQkLmZyYWdtZW50LGxvY2FsKSxjdXJyZW50PSExfSxkKGRldGFjaGluZyl7ZGV0YWNoaW5nJiZfX2RldGFjaF8zKGZpcnN0KSxkZXN0cm95X2NvbXBvbmVudChodG1sLGRldGFjaGluZyl9fX1mdW5jdGlvbiBjcmVhdGVfZWFjaF9ibG9jayhjdHgpe2xldCBkaXYsdCxkaXZfY2xhc3NfdmFsdWUsY3VycmVudCxlYWNoX2Jsb2Nrcz1bXSxlYWNoXzFfbG9va3VwPW5ldyBNYXAsZWFjaF92YWx1ZV8xPWN0eFswXS5jaG9pY2VzW2N0eFsyXV07Y29uc3QgZ2V0X2tleT1jdHg9PmN0eFs1XS5hcmdzLm5hbWU7Zm9yKGxldCBpPTA7aTxlYWNoX3ZhbHVlXzEubGVuZ3RoO2krPTEpe2xldCBjaGlsZF9jdHg9Z2V0X2VhY2hfY29udGV4dF8xKGN0eCxlYWNoX3ZhbHVlXzEsaSksa2V5PWdldF9rZXkoY2hpbGRfY3R4KTtlYWNoXzFfbG9va3VwLnNldChrZXksZWFjaF9ibG9ja3NbaV09Y3JlYXRlX2VhY2hfYmxvY2tfMShrZXksY2hpbGRfY3R4KSl9cmV0dXJue2MoKXtkaXY9X19lbGVtZW50XzMoXCJkaXZcIik7Zm9yKGxldCBpPTA7aTxlYWNoX2Jsb2Nrcy5sZW5ndGg7aSs9MSllYWNoX2Jsb2Nrc1tpXS5jKCk7dD1zcGFjZSgpLF9fYXR0cl8zKGRpdixcImNsYXNzXCIsZGl2X2NsYXNzX3ZhbHVlPVwidGFiLXBhbmUgZmFkZVwiKyhjdHhbMF0udmFsdWU9PWN0eFsyXT9cIiBzaG93IGFjdGl2ZVwiOlwiXCIpKSxfX2F0dHJfMyhkaXYsXCJyb2xlXCIsXCJ0YWJwYW5lbFwiKX0sbSh0YXJnZXQsYW5jaG9yKXtfX2luc2VydF8zKHRhcmdldCxkaXYsYW5jaG9yKTtmb3IobGV0IGk9MDtpPGVhY2hfYmxvY2tzLmxlbmd0aDtpKz0xKWVhY2hfYmxvY2tzW2ldLm0oZGl2LG51bGwpO2FwcGVuZChkaXYsdCksY3VycmVudD0hMH0scChjdHgsZGlydHkpezEmZGlydHkmJihlYWNoX3ZhbHVlXzE9Y3R4WzBdLmNob2ljZXNbY3R4WzJdXSxncm91cF9vdXRyb3MoKSxlYWNoX2Jsb2Nrcz11cGRhdGVfa2V5ZWRfZWFjaChlYWNoX2Jsb2NrcyxkaXJ0eSxnZXRfa2V5LDEsY3R4LGVhY2hfdmFsdWVfMSxlYWNoXzFfbG9va3VwLGRpdixvdXRyb19hbmRfZGVzdHJveV9ibG9jayxjcmVhdGVfZWFjaF9ibG9ja18xLHQsZ2V0X2VhY2hfY29udGV4dF8xKSxjaGVja19vdXRyb3MoKSksKCFjdXJyZW50fHwxJmRpcnR5JiZkaXZfY2xhc3NfdmFsdWUhPT0oZGl2X2NsYXNzX3ZhbHVlPVwidGFiLXBhbmUgZmFkZVwiKyhjdHhbMF0udmFsdWU9PWN0eFsyXT9cIiBzaG93IGFjdGl2ZVwiOlwiXCIpKSkmJl9fYXR0cl8zKGRpdixcImNsYXNzXCIsZGl2X2NsYXNzX3ZhbHVlKX0saShsb2NhbCl7aWYoIWN1cnJlbnQpe2ZvcihsZXQgaT0wO2k8ZWFjaF92YWx1ZV8xLmxlbmd0aDtpKz0xKXRyYW5zaXRpb25faW4oZWFjaF9ibG9ja3NbaV0pO2N1cnJlbnQ9ITB9fSxvKGxvY2FsKXtmb3IobGV0IGk9MDtpPGVhY2hfYmxvY2tzLmxlbmd0aDtpKz0xKXRyYW5zaXRpb25fb3V0KGVhY2hfYmxvY2tzW2ldKTtjdXJyZW50PSExfSxkKGRldGFjaGluZyl7ZGV0YWNoaW5nJiZfX2RldGFjaF8zKGRpdik7Zm9yKGxldCBpPTA7aTxlYWNoX2Jsb2Nrcy5sZW5ndGg7aSs9MSllYWNoX2Jsb2Nrc1tpXS5kKCl9fX1mdW5jdGlvbiBfX2NyZWF0ZV9mcmFnbWVudF8zKGN0eCl7bGV0IGRpdjUsZGl2MCx0MCx0MSx0Mix0MyxkaXYyLGRpdjEsdDQsZGl2NCxkaXYzLHQ1LGlucHV0LGlucHV0X25hbWVfdmFsdWUsaW5wdXRfdmFsdWVfdmFsdWUsY3VycmVudCx0MF92YWx1ZT1jdHhbMF0ubGFiZWwrXCJcIixpZl9ibG9jaz1jdHhbMF0uZGVzY3JpcHRpb24mJmNyZWF0ZV9pZl9ibG9jayhjdHgpLGVhY2hfdmFsdWVfMj1PYmplY3Qua2V5cyhjdHhbMF0uY2hvaWNlcyksZWFjaF9ibG9ja3NfMT1bXTtmb3IobGV0IGk9MDtpPGVhY2hfdmFsdWVfMi5sZW5ndGg7aSs9MSllYWNoX2Jsb2Nrc18xW2ldPWNyZWF0ZV9lYWNoX2Jsb2NrXzIoZ2V0X2VhY2hfY29udGV4dF8yKGN0eCxlYWNoX3ZhbHVlXzIsaSkpO2xldCBlYWNoX3ZhbHVlPU9iamVjdC5rZXlzKGN0eFswXS5jaG9pY2VzKSxlYWNoX2Jsb2Nrcz1bXTtmb3IobGV0IGk9MDtpPGVhY2hfdmFsdWUubGVuZ3RoO2krPTEpZWFjaF9ibG9ja3NbaV09Y3JlYXRlX2VhY2hfYmxvY2soZ2V0X2VhY2hfY29udGV4dChjdHgsZWFjaF92YWx1ZSxpKSk7Y29uc3Qgb3V0PWk9PnRyYW5zaXRpb25fb3V0KGVhY2hfYmxvY2tzW2ldLDEsMSwoKT0+e2VhY2hfYmxvY2tzW2ldPW51bGx9KTtyZXR1cm57Yygpe2RpdjU9X19lbGVtZW50XzMoXCJkaXZcIiksZGl2MD1fX2VsZW1lbnRfMyhcImRpdlwiKSx0MD10ZXh0KHQwX3ZhbHVlKSx0MT1zcGFjZSgpLGlmX2Jsb2NrJiZpZl9ibG9jay5jKCksdDI9dGV4dChcIjpcIiksdDM9c3BhY2UoKSxkaXYyPV9fZWxlbWVudF8zKFwiZGl2XCIpLGRpdjE9X19lbGVtZW50XzMoXCJkaXZcIik7Zm9yKGxldCBpPTA7aTxlYWNoX2Jsb2Nrc18xLmxlbmd0aDtpKz0xKWVhY2hfYmxvY2tzXzFbaV0uYygpO3Q0PXNwYWNlKCksZGl2ND1fX2VsZW1lbnRfMyhcImRpdlwiKSxkaXYzPV9fZWxlbWVudF8zKFwiZGl2XCIpO2ZvcihsZXQgaT0wO2k8ZWFjaF9ibG9ja3MubGVuZ3RoO2krPTEpZWFjaF9ibG9ja3NbaV0uYygpO3Q1PXNwYWNlKCksaW5wdXQ9X19lbGVtZW50XzMoXCJpbnB1dFwiKSxfX2F0dHJfMyhkaXYwLFwiY2xhc3NcIixcImNvbC1sZy0yIGJvbGQgdGV4dC1sZy1yaWdodCBteS1hdXRvXCIpLF9fYXR0cl8zKGRpdjEsXCJjbGFzc1wiLFwibmF2IGZsZXgtY29sdW1uIG5hdi1waWxscyBuYXYtanVzdGlmaWVkXCIpLF9fYXR0cl8zKGRpdjEsXCJhcmlhLW9yaWVudGF0aW9uXCIsXCJ2ZXJ0aWNhbFwiKSxfX2F0dHJfMyhkaXYxLFwicm9sZVwiLFwidGFibGlzdFwiKSxfX2F0dHJfMyhkaXYyLFwiY2xhc3NcIixcImNvbC1sZy0yIHB0LTIgcHQtbGctMFwiKSxfX2F0dHJfMyhkaXYzLFwiY2xhc3NcIixcInRhYi1jb250ZW50XCIpLF9fYXR0cl8zKGRpdjQsXCJjbGFzc1wiLFwiY29sLWxnLTggcHQtMiBwdC1sZy0wXCIpLF9fYXR0cl8zKGlucHV0LFwidHlwZVwiLFwidGV4dFwiKSxfX2F0dHJfMyhpbnB1dCxcImNsYXNzXCIsXCJoaWRkZW5cIiksX19hdHRyXzMoaW5wdXQsXCJuYW1lXCIsaW5wdXRfbmFtZV92YWx1ZT1jdHhbMF0ubmFtZSksaW5wdXQudmFsdWU9aW5wdXRfdmFsdWVfdmFsdWU9Y3R4WzBdLnZhbHVlLF9fYXR0cl8zKGRpdjUsXCJjbGFzc1wiLFwicm93IHB4LTQgcHgtbGctMyBwYi00XCIpfSxtKHRhcmdldCxhbmNob3Ipe19faW5zZXJ0XzModGFyZ2V0LGRpdjUsYW5jaG9yKSxhcHBlbmQoZGl2NSxkaXYwKSxhcHBlbmQoZGl2MCx0MCksYXBwZW5kKGRpdjAsdDEpLGlmX2Jsb2NrJiZpZl9ibG9jay5tKGRpdjAsbnVsbCksYXBwZW5kKGRpdjAsdDIpLGFwcGVuZChkaXY1LHQzKSxhcHBlbmQoZGl2NSxkaXYyKSxhcHBlbmQoZGl2MixkaXYxKTtmb3IobGV0IGk9MDtpPGVhY2hfYmxvY2tzXzEubGVuZ3RoO2krPTEpZWFjaF9ibG9ja3NfMVtpXS5tKGRpdjEsbnVsbCk7YXBwZW5kKGRpdjUsdDQpLGFwcGVuZChkaXY1LGRpdjQpLGFwcGVuZChkaXY0LGRpdjMpO2ZvcihsZXQgaT0wO2k8ZWFjaF9ibG9ja3MubGVuZ3RoO2krPTEpZWFjaF9ibG9ja3NbaV0ubShkaXYzLG51bGwpO2FwcGVuZChkaXY1LHQ1KSxhcHBlbmQoZGl2NSxpbnB1dCksY3VycmVudD0hMH0scChjdHgsW2RpcnR5XSl7aWYoKCFjdXJyZW50fHwxJmRpcnR5KSYmdDBfdmFsdWUhPT0odDBfdmFsdWU9Y3R4WzBdLmxhYmVsK1wiXCIpJiZzZXRfZGF0YSh0MCx0MF92YWx1ZSksY3R4WzBdLmRlc2NyaXB0aW9uP2lmX2Jsb2NrP2lmX2Jsb2NrLnAoY3R4LGRpcnR5KTooKGlmX2Jsb2NrPWNyZWF0ZV9pZl9ibG9jayhjdHgpKS5jKCksaWZfYmxvY2subShkaXYwLHQyKSk6aWZfYmxvY2smJihpZl9ibG9jay5kKDEpLGlmX2Jsb2NrPW51bGwpLDEmZGlydHkpe2xldCBpO2ZvcihlYWNoX3ZhbHVlXzI9T2JqZWN0LmtleXMoY3R4WzBdLmNob2ljZXMpLGk9MDtpPGVhY2hfdmFsdWVfMi5sZW5ndGg7aSs9MSl7Y29uc3QgY2hpbGRfY3R4PWdldF9lYWNoX2NvbnRleHRfMihjdHgsZWFjaF92YWx1ZV8yLGkpO2VhY2hfYmxvY2tzXzFbaV0/ZWFjaF9ibG9ja3NfMVtpXS5wKGNoaWxkX2N0eCxkaXJ0eSk6KGVhY2hfYmxvY2tzXzFbaV09Y3JlYXRlX2VhY2hfYmxvY2tfMihjaGlsZF9jdHgpLGVhY2hfYmxvY2tzXzFbaV0uYygpLGVhY2hfYmxvY2tzXzFbaV0ubShkaXYxLG51bGwpKX1mb3IoO2k8ZWFjaF9ibG9ja3NfMS5sZW5ndGg7aSs9MSllYWNoX2Jsb2Nrc18xW2ldLmQoMSk7ZWFjaF9ibG9ja3NfMS5sZW5ndGg9ZWFjaF92YWx1ZV8yLmxlbmd0aH1pZigxJmRpcnR5KXtsZXQgaTtmb3IoZWFjaF92YWx1ZT1PYmplY3Qua2V5cyhjdHhbMF0uY2hvaWNlcyksaT0wO2k8ZWFjaF92YWx1ZS5sZW5ndGg7aSs9MSl7Y29uc3QgY2hpbGRfY3R4PWdldF9lYWNoX2NvbnRleHQoY3R4LGVhY2hfdmFsdWUsaSk7ZWFjaF9ibG9ja3NbaV0/KGVhY2hfYmxvY2tzW2ldLnAoY2hpbGRfY3R4LGRpcnR5KSx0cmFuc2l0aW9uX2luKGVhY2hfYmxvY2tzW2ldLDEpKTooZWFjaF9ibG9ja3NbaV09Y3JlYXRlX2VhY2hfYmxvY2soY2hpbGRfY3R4KSxlYWNoX2Jsb2Nrc1tpXS5jKCksdHJhbnNpdGlvbl9pbihlYWNoX2Jsb2Nrc1tpXSwxKSxlYWNoX2Jsb2Nrc1tpXS5tKGRpdjMsbnVsbCkpfWZvcihncm91cF9vdXRyb3MoKSxpPWVhY2hfdmFsdWUubGVuZ3RoO2k8ZWFjaF9ibG9ja3MubGVuZ3RoO2krPTEpb3V0KGkpO2NoZWNrX291dHJvcygpfSghY3VycmVudHx8MSZkaXJ0eSYmaW5wdXRfbmFtZV92YWx1ZSE9PShpbnB1dF9uYW1lX3ZhbHVlPWN0eFswXS5uYW1lKSkmJl9fYXR0cl8zKGlucHV0LFwibmFtZVwiLGlucHV0X25hbWVfdmFsdWUpLCghY3VycmVudHx8MSZkaXJ0eSYmaW5wdXRfdmFsdWVfdmFsdWUhPT0oaW5wdXRfdmFsdWVfdmFsdWU9Y3R4WzBdLnZhbHVlKSYmaW5wdXQudmFsdWUhPT1pbnB1dF92YWx1ZV92YWx1ZSkmJihpbnB1dC52YWx1ZT1pbnB1dF92YWx1ZV92YWx1ZSl9LGkobG9jYWwpe2lmKCFjdXJyZW50KXtmb3IobGV0IGk9MDtpPGVhY2hfdmFsdWUubGVuZ3RoO2krPTEpdHJhbnNpdGlvbl9pbihlYWNoX2Jsb2Nrc1tpXSk7Y3VycmVudD0hMH19LG8obG9jYWwpe2VhY2hfYmxvY2tzPWVhY2hfYmxvY2tzLmZpbHRlcihCb29sZWFuKTtmb3IobGV0IGk9MDtpPGVhY2hfYmxvY2tzLmxlbmd0aDtpKz0xKXRyYW5zaXRpb25fb3V0KGVhY2hfYmxvY2tzW2ldKTtjdXJyZW50PSExfSxkKGRldGFjaGluZyl7ZGV0YWNoaW5nJiZfX2RldGFjaF8zKGRpdjUpLGlmX2Jsb2NrJiZpZl9ibG9jay5kKCksZGVzdHJveV9lYWNoKGVhY2hfYmxvY2tzXzEsZGV0YWNoaW5nKSxkZXN0cm95X2VhY2goZWFjaF9ibG9ja3MsZGV0YWNoaW5nKX19fWZ1bmN0aW9uIF9faW5zdGFuY2VfMygkJHNlbGYsJCRwcm9wcywkJGludmFsaWRhdGUpe2xldHthcmdzOmFyZ3N9PSQkcHJvcHM7cmV0dXJuICQkc2VsZi4kJHNldD0oJCRwcm9wcz0+e1wiYXJnc1wiaW4gJCRwcm9wcyYmJCRpbnZhbGlkYXRlKDAsYXJncz0kJHByb3BzLmFyZ3MpfSksW2FyZ3MsY2hvaWNlX25hbWU9PiQkaW52YWxpZGF0ZSgwLGFyZ3MudmFsdWU9Y2hvaWNlX25hbWUsYXJncyldfXZhciBfJFRhYkZpZWxkXzM9Y2xhc3MgZXh0ZW5kcyBfX1N2ZWx0ZUNvbXBvbmVudF8ze2NvbnN0cnVjdG9yKG9wdGlvbnMpe3N1cGVyKCksX19pbml0XzModGhpcyxvcHRpb25zLF9faW5zdGFuY2VfMyxfX2NyZWF0ZV9mcmFnbWVudF8zLF9fc2FmZV9ub3RfZXF1YWxfMyx7YXJnczowfSl9fTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0p6YjNWeVkyVnpJanBiSWxSaFlrWnBaV3hrTG5OMlpXeDBaU0pkTENKdVlXMWxjeUk2V3lKdGIyUjFiR1VpTENKbGVIQnZjblJ6SWwwc0ltMWhjSEJwYm1keklqb2ljVEJSUVhWa1FVRXNaMEpCUVVGRExFTkJRVUZCTEdOQlFVRkJMRzFDUVVGQlFTeERRVUZCUVN4WFFVRkJRU3hEUVVGQlFTeFBRVUZCUVN4RFFVRkJRU3hEUVVGQlFTeExRVUZCUVN4RlFVRkJRU3hEUVVGQlFTeFJRVUZCUVN4RFFVRkJRU3hKUVVGQlFTeERRVUZCUVN4UFFVRkJRU3hEUVVGQlFTeFpRVUZCUVN4RFFVRkJRU3h0UWtGQlFVRXNRMEZCUVVFc2EwSkJRVUZCTEVOQlFVRkJMRU5CUVVGQkxFbEJRVUZCTEVOQlFVRkJMRU5CUVVGQkxFTkJRVUZCTEVOQlFVRkJMRU5CUVVGQkxFTkJRVUZCTEVOQlFVRkJJaXdpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHR1ZFd4c1hYMD0iXX0=